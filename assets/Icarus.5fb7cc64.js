var le=Object.defineProperty,ce=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var X=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&X(e,n,t[n]);if(K)for(var n of K(t))de.call(t,n)&&X(e,n,t[n]);return e},V=(e,t)=>ce(e,re(t));import{G as N,o as b,i as w,e as a,H as me,I as pe,J as j,K as ee,r as d,a as l,w as h,L as E,M as O,f as x,c as q,O as te,P as ne,Q as A,R as P,S as _e,T as he}from"./vendor.5b9f6f55.js";import{_ as L}from"./icarus.9827ea26.js";import"./style.79205ed0.js";const be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 576 512"},fe=a("path",{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31l-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z",fill:"currentColor"},null,-1),ve=[fe];var ge=N({name:"Hammer",render:function(t,n){return b(),w("svg",be,ve)}});const we={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Te=a("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),Ie=[Te];var ye=N({name:"Plus",render:function(t,n){return b(),w("svg",we,Ie)}});const Ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Se=a("path",{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z",fill:"currentColor"},null,-1),xe=[Se];var ke=N({name:"SortAlphaDown",render:function(t,n){return b(),w("svg",Ce,xe)}});const De={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 352 512"},Re=a("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),$e=[Re];var ae=N({name:"Times",render:function(t,n){return b(),w("svg",De,$e)}});function H(e,t,n){var s,o,c,m,f;t==null&&(t=100);function u(){var r=Date.now()-m;r<t&&r>=0?s=setTimeout(u,t-r):(s=null,n||(f=e.apply(c,o),c=o=null))}var v=function(){c=this,o=arguments,m=Date.now();var r=n&&!s;return s||(s=setTimeout(u,t)),r&&(f=e.apply(c,o),c=o=null),f};return v.clear=function(){s&&(clearTimeout(s),s=null)},v.flush=function(){s&&(f=e.apply(c,o),c=o=null,clearTimeout(s),s=null)},v}H.debounce=H;var oe=H;const Oe=Object.freeze({Basic_Oxite_Dissolver:!0,Charcoal:!0}),z=Object.freeze({Bauxite:"Aluminum Ore",Copper_Ore:"Copper Ore",Iron_Ore:"Iron Ore",Gold_Ore:"Gold Ore",Metal_Ore:"Iron Ore",Coal_Ore:"Coal Ore",Platinum_Ore:"Platinum Ore",Titanium_Ore:"Titanium Ore",Stick_Talent:"Stick (Talent)",Talent_Leather_Rope:"Rope (Leather, Talent)",Rope_Armor_Bench:"Rope (Armor Bench)",Epoxy_2:"Epoxy (Crushed Bone)",Raw_Meat:"Raw Meat",Composite_Paste:"Composite Paste (Gold)",Composite_Paste_Plat:"Composite Paste (Platinum)",Steel_Bloom:"Steel Bloom (Ore)",Steel_Bloom2:"Steel Bloom (Ingot)",Spoiled_Meat:"Spoiled Meat",Biofuel1:"Biofuel (Raw Meat)",Biofuel2:"Biofuel (Fiber)",Biofuel3:"Biofuel (Stick)",Biofuel4:"Biofuel (Wood)",Biofuel5:"Biofuel (Cooked Meat)",Ammo_Pistol_Round:"Pistol Round",Ammo_Rifle_Round:"Rifle Round",Ammo_Shell_Buckshot:"Shotgun Buckshot Shell",Bulk_Rifle_Round:"Rifle Round (Bulk, Talent)",Bulk_Pistol_Round:"Pistol Round (Bulk, Talent)",Shotgun_Shell_Buckshot:"Shotgun Buckshot Shell",Bulk_Shotgun_Shell_Buckshot:"Shotgun Buckshot Shell (Bulk, Talent)"}),qe=e=>e.replace(/_/g," "),Le=(e,{displayName:t}={})=>{const n=z[e];return n||(t!=null?t:qe(e))},Q=Object.freeze({}),Be=(e="")=>{const n=e.replace(/\"/g,"").match(/NSLOCTEXT\((.*), (.*), (.*)\)/);return n==null?void 0:n[3]},Ae=(e="")=>e.replace("/Game/Assets/2DArt/UI/Items/Item_Icons/","");function Pe(e=[]){const t={};return e.forEach(n=>{var o;const s=n.Name;t[s]||(t[s]={id:s,itemStaticId:(o=n.ItemStaticData)==null?void 0:o.RowName})}),t}function ze(e=[]){const t={};return e.forEach(n=>{var o;const s=n.Name;t[s]||(t[s]={id:s,itemTableId:(o=n.Itemable)==null?void 0:o.RowName})}),t}function Ee(e=[]){const t={};return e.forEach(n=>{const s=n.Name;t[s]||(t[s]={id:s,displayName:Be(n.DisplayName),icon:Ae(n.Icon)})}),t}function je(e=[],{itemTemplateData:t={},itemStaticData:n={},itemTableData:s={}}={}){const o={};e.forEach(m=>{o[m.name]=m});const c={};return e.forEach(m=>{var i,T,C,I,D,U,F,W;const u=m.Name;if(Oe[u])return;const v=u,r=()=>{var J;const S=(J=m.Outputs[0])==null?void 0:J.Element.RowName;return m.Outputs.length===1&&S&&((S==null?void 0:S.includes(v))||m.Requirement||!o[S])?S:null},p=(i=m.Inputs[0])==null?void 0:i.Element.RowName,_=(I=(C=t[v])!=null?C:t[(T=m.Requirement)==null?void 0:T.RowName])!=null?I:t[r()],g=(D=n[_==null?void 0:_.itemStaticId])!=null?D:n[p],y=((U=m.ResourceOutputs)==null?void 0:U.length)>0?"":(F=s[g==null?void 0:g.itemTableId])==null?void 0:F.icon,k=y.length>100?y.split("/")[0]+"/"+y.split(".")[1]:"";c[u]={id:u,label:Le(u,{displayName:(W=s[g==null?void 0:g.itemTableId])==null?void 0:W.displayName}),iconPath:y.length>100?k:y,inputs:[],sources:[],preferredSource:null,outputQuantity:1},(m.Inputs||[]).forEach(S=>{c[u].inputs.push({id:S.Element.RowName,quantity:S.Count})}),(m.RecipeSets||[]).forEach(S=>{c[u].sources.push(S.RowName)}),c[u].preferredSource=c[u].sources[0],(m.Outputs||[]).forEach(S=>{(u===S.Element.RowName||u.includes(S.Element.RowName))&&(c[u].outputQuantity=S.Count)})}),Me(c)}function Me(e={}){return Object.keys(e).forEach(t=>{var s;const n=e[t];(s=Q[t])==null||s.call(Q,n,t,e)}),e}const Ne=()=>Date.now(),se=()=>me({id:Ne(),title:"Planning",items:[]}),Y=(e,t)=>t.findIndex(n=>n.id===e),ie=se(),Ve=ie.id,R=pe("icarus",{state:()=>({activeTabId:Ve,tabs:[ie],itemTemplateData:{},itemStaticData:{},itemTableData:{},recipeData:{},recipeOptions:[],isLoadingRecipes:!1,recipeSearch:""}),getters:{activeTab:e=>e.tabs.find(t=>t.id===e.activeTabId),tabCount(){return this.tabs.length},sortedRecipeOptions(e){return e.recipeOptions.sort((t,n)=>t.label.localeCompare(n.label))},filteredRecipeOptions(e){if(e.recipeSearch){const t=e.recipeSearch.toLowerCase();return this.sortedRecipeOptions.filter(n=>n.label.toLowerCase().includes(t))}return this.sortedRecipeOptions}},actions:{addTab(){const e=se();return this.tabs.push(e),e},removeTab(e){const t=Y(e,this.tabs);if(t!==-1)this.tabs.splice(t,1);else{console.error(`Could not find tab with id ${e}`,this.tabs);return}const n=Math.min(t,this.tabs.length-1),s=this.tabs[n];this.activeTabId=s.id},setActiveTab(e){this.activeTabId=e},setTabTitle(e,t){const n=Y(e,this.tabs);n!==-1&&(this.tabs[n].title=t)},addItem(e,t=1){var s;const n=this.activeTab;if(n){const o=n.items.find(m=>m.id===e),c=(s=this.recipeData[e].outputQuantity)!=null?s:1;o?o.quantity+=c:n.items.push({id:e,quantity:c})}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},removeItem(e){const t=this.activeTab;if(t){const n=t.items.findIndex(s=>s.id===e);t.items.splice(n,1)}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},async loadRecipeData(){const e=new Date().getTime();this.isLoadingRecipes=!0;const n=await(await fetch(`/icarus-game/Data/D_ItemTemplate.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),o=await(await fetch(`/icarus-game/Data/D_ItemsStatic.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),m=await(await fetch(`/icarus-game/Data/D_Itemable.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),u=await(await fetch(`/icarus-game/Data/D_ProcessorRecipes.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),v=performance.now(),r=Pe(n.Rows);this.itemTemplateData=r;const p=ze(o.Rows);this.itemStaticData=p;const _=Ee(m.Rows);this.itemTableData=_;const g=je(u==null?void 0:u.Rows,{itemTemplateData:r,itemStaticData:p,itemTableData:_});this.recipeData=g,this.recipeOptions=Object.values(g),this.isLoadingRecipes=!1,console.log({itemTemplateData:r,itemStaticData:p,itemTableData:_,recipeData:g}),console.log(`Processed data in ${performance.now()-v}ms`)}}});const Qe=R(),He={name:"CraftingToolItemSelector",components:{Plus:ye},props:{},data(){return{searchValue:null}},computed:$({},j(R,["isLoadingRecipes","filteredRecipeOptions"])),methods:V($({},ee(R,["addItem"])),{onSearch:oe.debounce(e=>{Qe.recipeSearch=e},100)})},Ge={class:"mb-3"},Ue={key:0,class:"p-3 font-italic"},Fe=["onClick"],We={class:"flex-shrink",style:{"min-width":"0"}},Je=["item-id"];function Ke(e,t,n,s,o,c){const m=d("n-input"),f=d("n-image"),u=d("Plus"),v=d("n-icon"),r=d("n-button"),p=d("n-tooltip"),_=d("RecycleScroller"),g=d("n-card"),y=d("n-spin");return b(),w("div",null,[a("div",Ge,[l(m,{type:"text",value:o.searchValue,"onUpdate:value":t[0]||(t[0]=k=>o.searchValue=k),placeholder:"Search...",clearable:"",onInput:c.onSearch},null,8,["value","onInput"])]),l(y,{show:e.isLoadingRecipes},{default:h(()=>[l(g,{class:"scroll-wrap","content-style":"padding: 0;"},{default:h(()=>[e.filteredRecipeOptions.length===0?(b(),w("div",Ue,"No matching items found.")):E("",!0),l(_,{class:"scroller",items:e.filteredRecipeOptions,"item-size":40,"key-field":"id"},{default:h(({index:k,item:i})=>[a("div",{class:"recipe-item flex align-items-center",onClick:T=>e.addItem(i.id)},[l(f,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${i.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!0},null,8,["src"]),a("div",We,[a("div",{class:"label text-overflow-ellipsis","item-id":i.id},O(i.label),9,Je)]),l(p,{trigger:"hover"},{trigger:h(()=>[l(r,{class:"hover-button ml-auto",secondary:"",type:"default",size:"small"},{default:h(()=>[l(v,{size:"13"},{default:h(()=>[l(u)]),_:1})]),_:1})]),default:h(()=>[x(" Add to list ")]),_:1})],8,Fe)]),_:1},8,["items"])]),_:1})]),_:1},8,["show"])])}var Xe=L(He,[["render",Ke],["__scopeId","data-v-73e5bd56"]]);const Ye={name:"CraftingToolManageTab",components:{Times:ae},props:{tab:{type:Object,required:!0}},emits:["removeTab"],data(){return{}},computed:$({},j(R,["tabs","tabCount"])),methods:{removeTab(){this.$emit("removeTab",{tabId:this.tab.id})}}},Ze=e=>(te("data-v-6163a402"),e=e(),ne(),e),et={class:"manage-tab flex align-items-center"},tt={class:"flex-grow-1 flex align-items-center"},nt={class:"flex align-items-center"},at=Ze(()=>a("span",{class:"flex-shrink-0 mr-3"},"List Name:",-1));function ot(e,t,n,s,o,c){const m=d("n-input"),f=d("Times"),u=d("n-icon"),v=d("n-button"),r=d("n-tooltip");return b(),w("div",et,[a("div",tt,[a("div",nt,[at,l(m,{type:"text",value:n.tab.title,"onUpdate:value":t[0]||(t[0]=p=>n.tab.title=p),placeholder:"Name"},null,8,["value"])])]),e.tabCount>1?(b(),q(r,{key:0,trigger:"hover"},{trigger:h(()=>[l(v,{class:"",secondary:"",type:"error",onClick:c.removeTab},{default:h(()=>[l(u,{size:"20"},{default:h(()=>[l(f)]),_:1})]),_:1},8,["onClick"])]),default:h(()=>[x(" Delete Tab ")]),_:1})):E("",!0)])}var st=L(Ye,[["render",ot],["__scopeId","data-v-6163a402"]]);const it={name:"CraftingToolComponentSourcePicker",components:{},props:{componentId:{type:String,required:!0}},data(){return{itemLabelMap:z}},computed:$({},j(R,["recipeData"])),methods:{setComponentPreferredSource(e,t){this.recipeData[e].preferredSource=t,this.$emit("change")}}};function lt(e,t,n,s,o,c){const m=d("n-button"),f=d("n-button-group");return e.recipeData[n.componentId]?(b(),q(f,{key:0,size:"small"},{default:h(()=>[(b(!0),w(P,null,A(e.recipeData[n.componentId].sources,(u,v)=>(b(),q(m,{key:u,class:"mx-1",size:"tiny",ghost:"",type:"info",style:_e([e.recipeData[n.componentId].preferredSource===u?null:"--n-border: 1px solid rgba(255, 255, 255, 0.2); --n-text-color: #bbb"]),onClick:r=>c.setComponentPreferredSource(n.componentId,u)},{default:h(()=>{var r,p,_;return[a("span",null,O((_=(p=(r=e.recipeData[u])==null?void 0:r.label)!=null?p:o.itemLabelMap[u])!=null?_:u),1)]}),_:2},1032,["style","onClick"]))),128))]),_:1})):E("",!0)}var ct=L(it,[["render",lt]]);const rt={name:"CraftingToolCalculator",components:{ComponentSourcePicker:ct,SortAlphaDown:ke,Times:ae},props:{tab:{type:Object,required:!0}},data(){return{itemLabelMap:z,requiredItemData:{},requiredCraftingStations:[],requiredComponents:[],includeSubComponents:!1,includeCraftingStations:!1}},watch:{includeSubComponents(e){e||(this.includeCraftingStations=!1),this.triggerCalc()},includeCraftingStations(e){e&&(this.includeSubComponents=!0),this.triggerCalc()}},computed:$({},j(R,["recipeData","itemTableData"])),methods:{sortInputs(){this.tab.items.sort((e,t)=>{const n=this.recipeData[e.id].label,s=this.recipeData[t.id].label;return n.localeCompare(s)})},onQuantityChange(e){e.quantity<1?this.$nextTick(()=>{this.removeItem(e),this.triggerCalc()}):this.$nextTick(()=>{this.triggerCalc()})},validateQuantity(e){return Number.isInteger(e)},removeItem(e){const t=(this.tab.items||[]).findIndex(n=>n.id===e.id);t>-1&&this.tab.items.splice(t,1)},triggerCalc:oe.debounce(function(){this.calculateRequiredItems()},100),calculateRequiredItems(){const e=this.tab.items||[],t=this.recipeData,n=this.includeSubComponents,s=this.includeCraftingStations,o={},c=new Set([]);function m(r=[],p={}){return r.forEach(_=>{var k;const g=t[_.id];if(!g)return;const y=((k=_.quantity)!=null?k:1)/g.outputQuantity;(g.inputs||[]).forEach(i=>{var I;const T=(I=p[i.id])!=null?I:0;p[i.id]=T+i.quantity*y;const C=t[i.id];n&&C&&m([{id:i.id,quantity:i.quantity*y}],p)})}),p}function f(){const r=p=>{const _=t[p];(_==null?void 0:_.preferredSource)&&c.add(_.preferredSource)};e.map(p=>p.id).forEach(r),Object.keys(o).forEach(r)}m(e,o),f(),s&&(m([...c].map(r=>({id:r})),o),f());const v=Object.keys(o).map(r=>{const p=Math.ceil(o[r]);return{id:r,quantity:p}}).sort((r,p)=>p.quantity-r.quantity);this.requiredCraftingStations=[...c].sort((r,p)=>{var y,k,i,T,C,I;const _=(i=(k=(y=t[r])==null?void 0:y.label)!=null?k:z[r])!=null?i:r,g=(I=(C=(T=t[p])==null?void 0:T.label)!=null?C:z[p])!=null?I:p;return _.localeCompare(g)}),this.requiredItemData=o,this.requiredComponents=v}}},B=e=>(te("data-v-28868546"),e=e(),ne(),e),ut={key:0},dt={class:"flex align-items-center"},mt=B(()=>a("h3",null,"Items",-1)),pt={class:"flex-shrink label-wrap"},_t={class:"label text-overflow-ellipsis"},ht=B(()=>a("div",{class:"flex align-items-center mt-3"},[a("h3",null,"Components")],-1)),bt={class:"p-1"},ft={class:"flex align-items-center mb-1"},vt=B(()=>a("span",null,"Include sub-components",-1)),gt={class:"flex align-items-center mb-3 ml-3"},wt=B(()=>a("span",null,"Include station components",-1)),Tt={class:"label"},It=B(()=>a("div",{class:"flex align-items-center"},[a("h3",null,"Crafting Stations")],-1)),yt={class:""},Ct={class:"recipe-item pl-0 flex align-items-center"},St={class:"flex align-items-center"},xt={class:"label"},kt={key:1,class:"mb-3"},Dt=B(()=>a("h3",null,"No Items",-1));function Rt(e,t,n,s,o,c){const m=d("SortAlphaDown"),f=d("n-icon"),u=d("n-button"),v=d("n-tooltip"),r=d("n-input-number"),p=d("n-image"),_=d("component-source-picker"),g=d("Times"),y=d("n-switch"),k=d("n-text");return b(),w("div",null,[n.tab.items.length>0?(b(),w("div",ut,[a("div",dt,[mt,l(v,{trigger:"hover"},{trigger:h(()=>[l(u,{class:"ml-3",size:"tiny",secondary:"",circle:"",type:"default",onClick:c.sortInputs},{default:h(()=>[l(f,{size:"13"},{default:h(()=>[l(m)]),_:1})]),_:1},8,["onClick"])]),default:h(()=>[x(" Sort items alphabetically ")]),_:1})]),l(he,{"x-appear":"",name:"list",tag:"div"},{default:h(()=>[(b(!0),w(P,null,A(n.tab.items,i=>{var T,C,I;return b(),w("div",{class:"recipe-item flex align-items-center",key:i.id},[l(r,{class:"input-quantity flex-shrink-0",value:i.quantity,"onUpdate:value":D=>i.quantity=D,placeholder:"Quantity",min:0,max:1e5,step:(C=(T=e.recipeData[i.id])==null?void 0:T.outputQuantity)!=null?C:1,validator:c.validateQuantity,"on-update-value":c.onQuantityChange(i)},null,8,["value","onUpdate:value","step","validator","on-update-value"]),l(p,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${(I=e.recipeData[i.id])==null?void 0:I.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),a("div",pt,[a("div",_t,O(e.recipeData[i.id].label),1)]),l(_,{"component-id":i.id,onChange:t[0]||(t[0]=D=>c.triggerCalc())},null,8,["component-id"]),l(v,{trigger:"hover"},{trigger:h(()=>[l(u,{class:"hover-button ml-auto",secondary:"",type:"error",size:"small",onClick:D=>c.removeItem(i)},{default:h(()=>[l(f,{size:"13"},{default:h(()=>[l(g)]),_:1})]),_:2},1032,["onClick"])]),default:h(()=>[x(" Remove from list ")]),_:2},1024)])}),128))]),_:1}),ht,a("div",bt,[a("div",ft,[l(y,{class:"mr-2",value:o.includeSubComponents,"onUpdate:value":t[1]||(t[1]=i=>o.includeSubComponents=i),size:"small"},null,8,["value"]),vt]),a("div",gt,[l(y,{class:"mr-2",value:o.includeCraftingStations,"onUpdate:value":t[2]||(t[2]=i=>o.includeCraftingStations=i),size:"small"},null,8,["value"]),wt]),a("div",null,[(b(!0),w(P,null,A(o.requiredComponents,i=>{var T,C,I;return b(),w("div",{key:i.id,class:"component-row flex align-items-center"},[a("div",Tt,O(i.quantity)+" "+O((I=(C=(T=e.recipeData[i.id])==null?void 0:T.label)!=null?C:o.itemLabelMap[i.id])!=null?I:i.id),1),l(_,{"component-id":i.id,onChange:t[3]||(t[3]=D=>c.triggerCalc())},null,8,["component-id"])])}),128))])]),It,a("div",yt,[(b(!0),w(P,null,A(o.requiredCraftingStations,i=>{var T,C,I,D;return b(),w("div",Ct,[a("div",St,[l(p,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${(T=e.recipeData[i])==null?void 0:T.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),a("div",xt,O((D=(I=(C=e.recipeData[i])==null?void 0:C.label)!=null?I:o.itemLabelMap[i])!=null?D:i),1)])])}),256))])])):(b(),w("div",kt,[Dt,l(k,{type:"info"},{default:h(()=>[x("You haven't added any items to this list yet.")]),_:1})]))])}var $t=L(rt,[["render",Rt],["__scopeId","data-v-28868546"]]);const M=R(),Ot={name:"CraftingToolTabView",components:{ManageTab:st,CraftingCalculator:$t},props:[],data(){return{activeTabId:M.activeTabId,maxTabCount:20,addable:!0,closable:!0}},watch:{activeTabId:function(e){this.setActiveTab(e)}},computed:$({},j(R,["tabs","tabCount","activeTab"])),methods:V($({},ee(R,["setActiveTab"])),{handleAdd(){},handleClose(){},addTab(){const e=M.addTab();this.setActiveTab(e.id),this.syncSelectedTab()},removeTab({tabId:e}={}){M.removeTab(e),this.syncSelectedTab()},syncSelectedTab(){this.activeTabId=M.activeTabId,this.$nextTick(()=>{var e;(e=this.$refs.tabsInstRef)==null||e.syncBarPosition()})}})},qt={class:"flex align-items-center mb-3"},Lt={class:"flex align-items-center ml-auto"},Bt={class:"mr-3"},At=a("span",null,"Add Tab",-1);function Pt(e,t,n,s,o,c){const m=d("n-button"),f=d("manage-tab"),u=d("crafting-calculator"),v=d("n-tab-pane"),r=d("n-tabs"),p=d("n-card");return b(),w("div",null,[a("div",qt,[a("div",Lt,[a("div",Bt,O(e.tabCount)+" / "+O(o.maxTabCount),1),l(m,{class:"",strong:"",secondary:"",type:"primary",onClick:c.addTab,disabled:e.tabCount===o.maxTabCount},{default:h(()=>[At]),_:1},8,["onClick","disabled"])])]),l(p,{class:"overflow-hidden"},{default:h(()=>[l(r,{ref:"tabsInstRef",value:o.activeTabId,"onUpdate:value":t[0]||(t[0]=_=>o.activeTabId=_),type:"bar",addable:o.addable,closable:o.closable,"tab-style":""},{default:h(()=>[(b(!0),w(P,null,A(e.tabs,_=>(b(),q(v,{tab:_.title,name:_.id,key:_.id},{default:h(()=>[l(f,{tab:_,onRemoveTab:c.removeTab},null,8,["tab","onRemoveTab"]),l(u,{tab:_},null,8,["tab"])]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value","addable","closable"])]),_:1})])}var zt=L(Ot,[["render",Pt]]);const Et=R();Et.loadRecipeData();const G=Object.freeze({welcome:1,whatsNew:20230325}),Z=e=>{const t=localStorage.getItem(`alert:version:${e}`);return!t||Number(t)<G[e]},jt={name:"Icarus",components:{Hammer:ge,ItemSearchView:Xe,TabsView:zt},props:[],data(){return{showWelcomeAlert:Z("welcome"),showWhatsNewAlert:Z("whatsNew")}},computed:{},methods:{dismissAlert(e){e&&G[e]&&localStorage.setItem(`alert:version:${e}`,G[e])}}},Mt={class:"icarus-wrap p-2 pt-3"},Nt=a("ul",{class:"mb-0"},[a("li",null,[x(" Support for "),a("a",{class:"text-primary font-bold",href:"https://store.steampowered.com/news/app/1149460/view/5358762517222665918",target:"_blank"}," Icarus Week 72 Update ")])],-1),Vt={class:"flex flex-wrap"},Qt={class:"m-2 text-200 flex align-items-center"},Ht={class:"game-version"},Gt=a("ul",null,[a("li",null,"Save tab data in localStorage to support session restoration"),a("li",null,"Show stack size on icons that normally produce more than 1 item"),a("li",null,"Implement talent options logic to impact component output calculation"),a("li",null,"Indicate which items belong to each Tier (not specified in game data export directly)"),a("li",null,"Improve item search matching (fuzzy search)"),a("li",null,'Add way to "check" off items (mark as done)')],-1),Ut=a("div",{class:"m-2"},[a("div",null,[x("Created by "),a("a",{class:"text-primary font-bold",href:"https://github.com/Drumstix42/drumstix42.github.io"},"Drumstix42")]),a("div",null,[x(" This page/site is not affiliated with "),a("a",{class:"text-primary",href:"https://store.steampowered.com/app/1149460/ICARUS/",target:"_blank"},"Icarus"),x(", "),a("a",{class:"text-primary",href:"https://rocketwerkz.com/",target:"_blank"},"RocketWerkz"),x(", or any of its subsidiaries. ")])],-1);function Ft(e,t,n,s,o,c){const m=d("n-alert"),f=d("item-search-view"),u=d("n-text"),v=d("n-input"),r=d("tabs-view"),p=d("Hammer"),_=d("n-icon");return b(),w("div",Mt,[o.showWelcomeAlert?(b(),q(m,{key:0,class:"m-2 mb-3",title:"Crafting Calculator",type:"info",closable:"",onAfterLeave:t[0]||(t[0]=g=>c.dismissAlert("welcome"))},{default:h(()=>[x(" Search and add items from the list below to add them to your to-do list, which will calculate your item requirements. ")]),_:1})):E("",!0),o.showWhatsNewAlert?(b(),q(m,{key:1,class:"m-2 mb-3",title:"What's New?",type:"success",closable:"",onAfterLeave:t[1]||(t[1]=g=>c.dismissAlert("whatsNew"))},{default:h(()=>[Nt]),_:1})):E("",!0),a("div",Vt,[a("div",null,[l(f,{class:"item-selector"}),a("div",Qt,[l(u,{depth:"3",class:"flex-shrink-0"},{default:h(()=>[x("Supports game version")]),_:1}),a("div",Ht,[l(v,{value:"v1.2.47.109887",readonly:""},null,8,["value"])]),l(u,{depth:"3"},{default:h(()=>[x("2023/04/21")]),_:1})])]),l(r,{class:"tab-view flex-1"})]),l(m,{class:"m-2 mt-3 mb-4",title:"Calculator Todo List",type:"default",closable:""},{icon:h(()=>[l(_,{size:"20"},{default:h(()=>[l(p)]),_:1})]),default:h(()=>[Gt]),_:1}),Ut])}var Yt=L(jt,[["render",Ft]]);export{Yt as default};
