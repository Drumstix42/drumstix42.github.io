var Dt=Object.defineProperty,yt=Object.defineProperties;var Ct=Object.getOwnPropertyDescriptors;var Je=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable;var Qe=(e,t,a)=>t in e?Dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,H=(e,t)=>{for(var a in t||(t={}))_t.call(t,a)&&Qe(e,a,t[a]);if(Je)for(var a of Je(t))Ot.call(t,a)&&Qe(e,a,t[a]);return e},Xe=(e,t)=>yt(e,Ct(t));import{z as St,A as At,B as Ye,o as B,d as I,e as y,C as Ze,c as Se,a as fe,D as Ft,E as Tt,w as ie,G as T,r as K,f as Me,H as et,F as se,b as De,t as W,I as G,J as re,K as ae,L as D,M as Ae,O as tt,P as wt}from"./vendor.e412ec85.js";import{_ as Be}from"./index.d85ae142.js";const Bt=()=>Date.now(),at=()=>St({id:Bt(),title:"Planning",items:[]}),nt=(e,t)=>t.findIndex(a=>a.id===e),ut=at(),Et=ut.id,Ee=At("icarus",{state:()=>({activeTabId:Et,tabs:[ut]}),getters:{activeTab:e=>e.tabs.find(t=>t.id===e.activeTabId),tabCount(){return this.tabs.length}},actions:{addTab(){const e=at();this.tabs.push(e)},removeTab(e){const t=nt(e,this.tabs);if(t!==-1)this.tabs.splice(t,1);else{console.error(`Could not find tab with id ${e}`,this.tabs);return}const a=Math.min(t,this.tabs.length-1),u=this.tabs[a];this.activeTabId=u.id},setActiveTab(e){this.activeTabId=e},setTabTitle(e,t){const a=nt(e,this.tabs);a!==-1&&(this.tabs[a].title=t)}}}),Lt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},kt=y("path",{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128c0-70.7 57.2-128 128-128c70.7 0 128 57.2 128 128c0 70.7-57.2 128-128 128z",fill:"currentColor"},null,-1);var Pt=Ye({name:"Search",render:function(t,a){return B(),I("svg",Lt,[kt])}});const xt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 352 512"},It=y("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1);var qt=Ye({name:"Times",render:function(t,a){return B(),I("svg",xt,[It])}});const jt={name:"CraftingToolManageTab",components:{Times:qt},props:{tab:{type:Object,required:!0}},emits:["removeTab"],data(){return{}},computed:H({},Ze(Ee,["tabs","tabCount"])),methods:{removeTab(){this.$emit("removeTab",{tabId:this.tab.id})}}},Vt={class:"manage-tab flex align-items-center p-2"},$t={class:"flex-grow-1 flex align-items-center"},Mt=Me(" Delete Tab ");function Rt(e,t,a,u,C,f){const r=K("Times"),L=K("n-icon"),S=K("n-button"),w=K("n-tooltip");return B(),Se("div",Vt,[fe("div",$t,[fe("div",null,[Ft(fe("input",{"onUpdate:modelValue":t[0]||(t[0]=U=>a.tab.title=U)},null,512),[[Tt,a.tab.title]])])]),e.tabCount>1?(B(),I(w,{key:0,trigger:"hover"},{trigger:ie(()=>[y(S,{class:"",secondary:"",type:"error",onClick:f.removeTab},{default:ie(()=>[y(L,{size:"20"},{default:ie(()=>[y(r)]),_:1})]),_:1},8,["onClick"])]),default:ie(()=>[Mt]),_:1})):T("",!0)])}var Nt=Be(jt,[["render",Rt],["__scopeId","data-v-ffeace1c"]]);function ne(e){return[null,void 0,!1].indexOf(e)!==-1}function lt(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return t?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim()}function Le(e){return(Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(C){return Object.getOwnPropertyDescriptor(e,C).enumerable})),a.push.apply(a,u)}return a}function ot(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rt(Object(a),!0).forEach(function(u){J(e,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rt(Object(a)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(a,u))})}return e}function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ht(e,t,a){var u=re(e),C=u.options,f=u.mode,r=u.trackBy,L=u.limit,S=u.hideSelected,w=u.createTag,U=u.createOption,q=u.label,k=u.appendNewTag,A=u.appendNewOption,p=u.multipleLabel,s=u.object,b=u.loading,_=u.delay,l=u.resolveOnLoad,v=u.minChars,m=u.filterResults,F=u.clearOnSearch,P=u.clearOnSelect,c=u.valueProp,ce=u.canDeselect,z=u.max,Z=u.strict,Q=u.closeOnSelect,O=u.groups,V=(u.groupLabel,u.groupOptions),oe=u.groupHideEmpty,be=u.groupSelect,d=a.iv,$=a.ev,E=a.search,M=a.clearSearch,X=a.update,ee=a.pointer,R=a.clearPointer,ve=a.blur,ke=a.focus,Fe=a.deactivate,ye=ae([]),te=ae([]),ue=ae(!1),Ce=D(function(){return w.value||U.value||!1}),me=D(function(){return k.value!==void 0?k.value:A.value===void 0||A.value}),Y=D(function(){if(O.value){var n=te.value||[],o=[];return n.forEach(function(x){Ve(x[V.value]).forEach(function(j){o.push(Object.assign({},j,x.disabled?{disabled:!0}:{}))})}),o}var h=Ve(te.value||[]);return ye.value.length&&(h=h.concat(ye.value)),h}),i=D(function(){return O.value?ht((te.value||[]).map(function(n){var o,h=Ve(n[V.value]);return ot(ot({},n),{},(J(o={group:!0},V.value,je(h,!1).map(function(x){return Object.assign({},x,n.disabled?{disabled:!0}:{})})),J(o,"__VISIBLE__",je(h).map(function(x){return Object.assign({},x,n.disabled?{disabled:!0}:{})})),o))})):[]}),g=D(function(){var n=Y.value;return Pe.value.length&&(n=Pe.value.concat(n)),n=je(n),L.value>0&&(n=n.slice(0,L.value)),n}),N=D(function(){switch(f.value){case"single":return!ne(d.value[c.value]);case"multiple":case"tags":return!ne(d.value)&&d.value.length>0}}),_e=D(function(){return p!==void 0&&p.value!==void 0?p.value(d.value):d.value&&d.value.length>1?"".concat(d.value.length," options selected"):"1 option selected"}),st=D(function(){return!Y.value.length&&!ue.value&&!Pe.value.length}),ct=D(function(){return Y.value.length>0&&g.value.length==0&&(E.value&&O.value||!O.value)}),Pe=D(function(){var n;return Ce.value!==!1&&E.value?bt(E.value)!==-1?[]:[(n={},J(n,c.value,E.value),J(n,q.value,E.value),J(n,Oe.value,E.value),n)]:[]}),Oe=D(function(){return r.value||q.value}),vt=D(function(){switch(f.value){case"single":return null;case"multiple":case"tags":return[]}}),dt=D(function(){return b.value||ue.value}),ge=function(n){switch(Le(n)!=="object"&&(n=le(n)),f.value){case"single":X(n);break;case"multiple":case"tags":X(d.value.concat(n))}t.emit("select",ze(n),n)},he=function(n){switch(Le(n)!=="object"&&(n=le(n)),f.value){case"single":We();break;case"tags":case"multiple":X(Array.isArray(n)?d.value.filter(function(o){return n.map(function(h){return h[c.value]}).indexOf(o[c.value])===-1}):d.value.filter(function(o){return o[c.value]!=n[c.value]}))}t.emit("deselect",ze(n),n)},ze=function(n){return s.value?n:n[c.value]},Ke=function(n){he(n)},We=function(){t.emit("clear"),X(vt.value)},de=function(n){if(n.group!==void 0)return f.value!=="single"&&ft(n[V.value])&&n[V.value].length;switch(f.value){case"single":return!ne(d.value)&&d.value[c.value]==n[c.value];case"tags":case"multiple":return!ne(d.value)&&d.value.map(function(o){return o[c.value]}).indexOf(n[c.value])!==-1}},xe=function(n){return n.disabled===!0},Ie=function(){return!(z===void 0||z.value===-1||!N.value&&z.value>0)&&d.value.length>=z.value},qe=function(n){le(n[c.value])===void 0&&Ce.value&&(t.emit("tag",n[c.value]),t.emit("option",n[c.value]),me.value&&gt(n),M())},pt=function(n){return n.find(function(o){return!de(o)&&!o.disabled})===void 0},ft=function(n){return n.find(function(o){return!de(o)})===void 0},le=function(n){return Y.value[Y.value.map(function(o){return String(o[c.value])}).indexOf(String(n))]},bt=function(n){return Y.value.map(function(o){return o[Oe.value]}).indexOf(n)},mt=function(n){return["tags","multiple"].indexOf(f.value)!==-1&&S.value&&de(n)},gt=function(n){ye.value.push(n)},ht=function(n){return oe.value?n.filter(function(o){return E.value?o.__VISIBLE__.length:o[V.value].length}):n.filter(function(o){return!E.value||o.__VISIBLE__.length})},je=function(n){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=n;return E.value&&m.value&&(h=h.filter(function(x){return lt(x[Oe.value],Z.value).indexOf(lt(E.value,Z.value))!==-1})),S.value&&o&&(h=h.filter(function(x){return!mt(x)})),h},Ve=function(n){var o,h=n;return o=h,Object.prototype.toString.call(o)==="[object Object]"&&(h=Object.keys(h).map(function(x){var j,pe=h[x];return J(j={},c.value,x),J(j,Oe.value,pe),J(j,q.value,pe),j})),h=h.map(function(x){var j;return Le(x)==="object"?x:(J(j={},c.value,x),J(j,Oe.value,x),J(j,q.value,x),j)})},Te=function(){ne($.value)||(d.value=we($.value))},$e=function(n){ue.value=!0,C.value(E.value).then(function(o){te.value=o,typeof n=="function"&&n(o),ue.value=!1})},we=function(n){return ne(n)?f.value==="single"?{}:[]:s.value?n:f.value==="single"?le(n)||{}:n.filter(function(o){return!!le(o)}).map(function(o){return le(o)})};if(f.value!=="single"&&!ne($.value)&&!Array.isArray($.value))throw new Error('v-model must be an array when using "'.concat(f.value,'" mode'));return C&&typeof C.value=="function"?l.value?$e(Te):s.value==1&&Te():(te.value=C.value,Te()),_.value>-1&&Ae(E,function(n){n.length<v.value||(ue.value=!0,F.value&&(te.value=[]),setTimeout(function(){n==E.value&&C.value(E.value).then(function(o){n!=E.value&&E.value||(te.value=o,ee.value=g.value.filter(function(h){return h.disabled!==!0})[0]||null,ue.value=!1)})},_.value))},{flush:"sync"}),Ae($,function(n){var o,h,x;if(ne(n))d.value=we(n);else switch(f.value){case"single":(s.value?n[c.value]!=d.value[c.value]:n!=d.value[c.value])&&(d.value=we(n));break;case"multiple":case"tags":o=s.value?n.map(function(j){return j[c.value]}):n,h=d.value.map(function(j){return j[c.value]}),x=h.slice().sort(),o.length===h.length&&o.slice().sort().every(function(j,pe){return j===x[pe]})||(d.value=we(n))}},{deep:!0}),typeof e.options!="function"&&Ae(C,function(n,o){te.value=e.options,Object.keys(d.value).length||Te(),function(){if(N.value)if(f.value==="single"){var h=le(d.value[c.value])[q.value];d.value[q.value]=h,s.value&&($.value[q.value]=h)}else d.value.forEach(function(x,j){var pe=le(d.value[j][c.value])[q.value];d.value[j][q.value]=pe,s.value&&($.value[j][q.value]=pe)})}()}),{fo:g,filteredOptions:g,hasSelected:N,multipleLabelText:_e,eo:Y,extendedOptions:Y,fg:i,filteredGroups:i,noOptions:st,noResults:ct,resolving:ue,busy:dt,select:ge,deselect:he,remove:Ke,selectAll:function(){f.value!=="single"&&ge(g.value)},clear:We,isSelected:de,isDisabled:xe,isMax:Ie,getOption:le,handleOptionClick:function(n){if(!xe(n)){switch(f.value){case"single":if(de(n))return void(ce.value&&he(n));qe(n),ve(),ge(n);break;case"multiple":if(de(n))return void he(n);if(Ie())return;qe(n),ge(n),P.value&&M(),S.value&&R(),Q.value&&ve();break;case"tags":if(de(n))return void he(n);if(Ie())return;qe(n),P.value&&M(),ge(n),S.value&&R(),Q.value&&ve()}Q.value?Fe():ke()}},handleGroupClick:function(n){if(!xe(n)&&f.value!=="single"&&be.value){switch(f.value){case"multiple":case"tags":pt(n[V.value])?he(n[V.value]):ge(n[V.value].filter(function(o){return d.value.map(function(h){return h[c.value]}).indexOf(o[c.value])===-1}).filter(function(o){return!o.disabled}).filter(function(o,h){return d.value.length+1+h<=z.value||z.value===-1}))}Q.value&&Fe()}},handleTagRemove:function(n,o){o.button===0?Ke(n):o.preventDefault()},refreshOptions:function(n){$e(n)},resolveOptions:$e}}function Re(e){return function(t){if(Array.isArray(t))return Ne(t)}(e)||function(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,a){if(!!t){if(typeof t=="string")return Ne(t,a);var u=Object.prototype.toString.call(t).slice(8,-1);if(u==="Object"&&t.constructor&&(u=t.constructor.name),u==="Map"||u==="Set")return Array.from(t);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Ne(t,a)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ne(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,u=new Array(t);a<t;a++)u[a]=e[a];return u}function Gt(e){return function(t){if(Array.isArray(t))return He(t)}(e)||function(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,a){if(!!t){if(typeof t=="string")return He(t,a);var u=Object.prototype.toString.call(t).slice(8,-1);if(u==="Object"&&t.constructor&&(u=t.constructor.name),u==="Map"||u==="Set")return Array.from(t);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return He(t,a)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function He(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,u=new Array(t);a<t;a++)u[a]=e[a];return u}function it(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(C){return Object.getOwnPropertyDescriptor(e,C).enumerable})),a.push.apply(a,u)}return a}function Ut(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zt(e,t,a){var u=re(e),C=u.classes,f=u.disabled,r=u.openDirection,L=u.showOptions,S=a.isOpen,w=a.isPointed,U=a.isSelected,q=a.isDisabled,k=a.isActive,A=a.canPointGroups,p=a.resolving,s=a.fo,b=D(function(){return function(l){for(var v=1;v<arguments.length;v++){var m=arguments[v]!=null?arguments[v]:{};v%2?it(Object(m),!0).forEach(function(F){Ut(l,F,m[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):it(Object(m)).forEach(function(F){Object.defineProperty(l,F,Object.getOwnPropertyDescriptor(m,F))})}return l}({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer"},C.value)}),_=D(function(){return!!(S.value&&L.value&&(!p.value||p.value&&s.value.length))});return{classList:D(function(){var l=b.value;return{container:[l.container].concat(f.value?l.containerDisabled:[]).concat(_.value&&r.value==="top"?l.containerOpenTop:[]).concat(_.value&&r.value!=="top"?l.containerOpen:[]).concat(k.value?l.containerActive:[]),spacer:l.spacer,singleLabel:l.singleLabel,singleLabelText:l.singleLabelText,multipleLabel:l.multipleLabel,search:l.search,tags:l.tags,tag:[l.tag].concat(f.value?l.tagDisabled:[]),tagRemove:l.tagRemove,tagRemoveIcon:l.tagRemoveIcon,tagsSearchWrapper:l.tagsSearchWrapper,tagsSearch:l.tagsSearch,tagsSearchCopy:l.tagsSearchCopy,placeholder:l.placeholder,caret:[l.caret].concat(S.value?l.caretOpen:[]),clear:l.clear,clearIcon:l.clearIcon,spinner:l.spinner,dropdown:[l.dropdown].concat(r.value==="top"?l.dropdownTop:[]).concat(S.value&&L.value&&_.value?[]:l.dropdownHidden),options:[l.options].concat(r.value==="top"?l.optionsTop:[]),group:l.group,groupLabel:function(v){var m=[l.groupLabel];return w(v)?m.push(U(v)?l.groupLabelSelectedPointed:l.groupLabelPointed):U(v)&&A.value?m.push(q(v)?l.groupLabelSelectedDisabled:l.groupLabelSelected):q(v)&&m.push(l.groupLabelDisabled),A.value&&m.push(l.groupLabelPointable),m},groupOptions:l.groupOptions,option:function(v,m){var F=[l.option];return w(v)?F.push(U(v)?l.optionSelectedPointed:l.optionPointed):U(v)?F.push(q(v)?l.optionSelectedDisabled:l.optionSelected):(q(v)||m&&q(m))&&F.push(l.optionDisabled),F},noOptions:l.noOptions,noResults:l.noResults,fakeInput:l.fakeInput}}),showDropdown:_}}var Ge={name:"Multiselect",emits:["open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"}},setup(e,t){const a=function(k,A){var p=re(k),s=p.value,b=p.modelValue,_=p.mode,l=p.valueProp,v=ae(_.value!=="single"?[]:{}),m=A.expose!==void 0?b:s,F=D(function(){return _.value==="single"?v.value[l.value]:v.value.map(function(c){return c[l.value]})}),P=D(function(){return _.value!=="single"?v.value.map(function(c){return c[l.value]}).join(","):v.value[l.value]});return{iv:v,internalValue:v,ev:m,externalValue:m,textValue:P,plainValue:F}}(e,t),u=function(k,A,p){var s=re(k),b=s.groupSelect,_=s.mode,l=s.groups,v=ae(null),m=function(F){F===void 0||F!==null&&F.disabled||l.value&&F&&F.group&&(_.value==="single"||!b.value)||(v.value=F)};return{pointer:v,setPointer:m,clearPointer:function(){m(null)}}}(e),C=function(k,A,p){var s=re(k).disabled,b=ae(!1);return{isOpen:b,open:function(){b.value||s.value||(b.value=!0,A.emit("open"))},close:function(){b.value&&(b.value=!1,A.emit("close"))}}}(e,t),f=function(k,A,p){var s=ae(null),b=ae(null);return Ae(s,function(_){A.emit("search-change",_)}),{search:s,input:b,clearSearch:function(){s.value=""},handleSearchInput:function(_){s.value=_.target.value},handlePaste:function(_){A.emit("paste",_)}}}(0,t),r=function(k,A,p){var s=re(k),b=s.object,_=s.valueProp,l=s.mode,v=p.iv,m=function(P){return b.value||ne(P)?P:Array.isArray(P)?P.map(function(c){return c[_.value]}):P[_.value]},F=function(P){return ne(P)?l.value==="single"?{}:[]:P};return{update:function(P){v.value=F(P);var c=m(P);A.emit("change",c),A.emit("input",c),A.emit("update:modelValue",c)}}}(e,t,{iv:a.iv}),L=function(k,A,p){var s=re(k),b=s.searchable,_=s.disabled,l=p.input,v=p.open,m=p.close,F=p.clearSearch,P=ae(null),c=ae(!1),ce=D(function(){return b.value||_.value?-1:0}),z=function(){b.value&&l.value.blur(),P.value.blur()},Z=function(){b.value&&!_.value&&l.value.focus()},Q=function(){c.value=!1,setTimeout(function(){c.value||(m(),F())},1)};return{multiselect:P,tabindex:ce,isActive:c,blur:z,focus:Z,handleFocus:function(){Z()},activate:function(){_.value||(c.value=!0,v())},deactivate:Q,handleCaretClick:function(){Q(),z()}}}(e,0,{input:f.input,open:C.open,close:C.close,clearSearch:f.clearSearch}),S=Ht(e,t,{ev:a.ev,iv:a.iv,search:f.search,clearSearch:f.clearSearch,update:r.update,pointer:u.pointer,clearPointer:u.clearPointer,blur:L.blur,focus:L.focus,deactivate:L.deactivate}),w=function(k,A,p){var s=re(k),b=s.valueProp,_=s.showOptions,l=s.searchable,v=s.groupLabel,m=s.groups,F=s.mode,P=s.groupSelect,c=p.fo,ce=p.fg,z=p.handleOptionClick,Z=p.handleGroupClick,Q=p.search,O=p.pointer,V=p.setPointer,oe=p.clearPointer,be=p.multiselect,d=D(function(){return c.value.filter(function(i){return!i.disabled})}),$=D(function(){return ce.value.filter(function(i){return!i.disabled})}),E=D(function(){return F.value!=="single"&&P.value}),M=D(function(){return O.value&&O.value.group}),X=D(function(){return me(O.value)}),ee=D(function(){var i=M.value?O.value:me(O.value),g=$.value.map(function(_e){return _e[v.value]}).indexOf(i[v.value]),N=$.value[g-1];return N===void 0&&(N=ve.value),N}),R=D(function(){var i=$.value.map(function(g){return g.label}).indexOf(M.value?O.value[v.value]:me(O.value)[v.value])+1;return $.value.length<=i&&(i=0),$.value[i]}),ve=D(function(){return Re($.value).slice(-1)[0]}),ke=D(function(){return O.value.__VISIBLE__.filter(function(i){return!i.disabled})[0]}),Fe=D(function(){var i=X.value.__VISIBLE__.filter(function(g){return!g.disabled});return i[i.map(function(g){return g[b.value]}).indexOf(O.value[b.value])-1]}),ye=D(function(){var i=me(O.value).__VISIBLE__.filter(function(g){return!g.disabled});return i[i.map(function(g){return g[b.value]}).indexOf(O.value[b.value])+1]}),te=D(function(){return Re(ee.value.__VISIBLE__.filter(function(i){return!i.disabled})).slice(-1)[0]}),ue=D(function(){return Re(ve.value.__VISIBLE__.filter(function(i){return!i.disabled})).slice(-1)[0]}),Ce=function(){V(d.value[0]||null)},me=function(i){return $.value.find(function(g){return g.__VISIBLE__.map(function(N){return N[b.value]}).indexOf(i[b.value])!==-1})},Y=function(){var i=be.value.querySelector("[data-pointed]");if(i){var g=i.parentElement.parentElement;m.value&&(g=M.value?i.parentElement.parentElement.parentElement:i.parentElement.parentElement.parentElement.parentElement),i.offsetTop+i.offsetHeight>g.clientHeight+g.scrollTop&&(g.scrollTop=i.offsetTop+i.offsetHeight-g.clientHeight),i.offsetTop<g.scrollTop&&(g.scrollTop=i.offsetTop)}};return Ae(Q,function(i){l.value&&(i.length&&_.value?Ce():oe())}),{pointer:O,canPointGroups:E,isPointed:function(i){return!(!O.value||!(!i.group&&O.value[b.value]==i[b.value]||i.group!==void 0&&O.value[v.value]==i[v.value]))||void 0},setPointerFirst:Ce,selectPointer:function(){O.value&&O.value.disabled!==!0&&(M.value?Z(O.value):z(O.value))},forwardPointer:function(){if(O.value===null)V((m.value&&E.value?$.value[0]:d.value[0])||null);else if(m.value&&E.value){var i=M.value?ke.value:ye.value;i===void 0&&(i=R.value),V(i||null)}else{var g=d.value.map(function(N){return N[b.value]}).indexOf(O.value[b.value])+1;d.value.length<=g&&(g=0),V(d.value[g]||null)}tt(function(){Y()})},backwardPointer:function(){if(O.value===null){var i=d.value[d.value.length-1];m.value&&E.value&&(i=ue.value)===void 0&&(i=ve.value),V(i||null)}else if(m.value&&E.value){var g=M.value?te.value:Fe.value;g===void 0&&(g=M.value?ee.value:X.value),V(g||null)}else{var N=d.value.map(function(_e){return _e[b.value]}).indexOf(O.value[b.value])-1;N<0&&(N=d.value.length-1),V(d.value[N]||null)}tt(function(){Y()})}}}(e,0,{fo:S.fo,fg:S.fg,handleOptionClick:S.handleOptionClick,handleGroupClick:S.handleGroupClick,search:f.search,pointer:u.pointer,setPointer:u.setPointer,clearPointer:u.clearPointer,multiselect:L.multiselect}),U=function(k,A,p){var s=re(k),b=s.mode,_=s.addTagOn,l=s.openDirection,v=s.searchable,m=s.showOptions,F=s.valueProp,P=s.groups,c=s.addOptionOn,ce=s.createTag,z=s.createOption,Z=p.iv,Q=p.update,O=p.search,V=p.setPointer,oe=p.selectPointer,be=p.backwardPointer,d=p.forwardPointer,$=p.blur,E=p.fo,M=D(function(){return ce.value||z.value||!1}),X=D(function(){return _.value!==void 0?_.value:c.value!==void 0?c.value:["enter"]}),ee=function(){b.value==="tags"&&!m.value&&M.value&&v.value&&!P.value&&V(E.value[E.value.map(function(R){return R[F.value]}).indexOf(O.value)])};return{handleKeydown:function(R){switch(R.key){case"Backspace":if(b.value==="single"||v.value&&[null,""].indexOf(O.value)===-1||Z.value.length===0)return;Q(Gt(Z.value).slice(0,-1));break;case"Enter":if(R.preventDefault(),X.value.indexOf("enter")===-1&&M.value)return;ee(),oe();break;case" ":if(!M.value&&!v.value)return R.preventDefault(),ee(),void oe();if(!M.value)return!1;if(X.value.indexOf("space")===-1&&M.value)return;R.preventDefault(),ee(),oe();break;case"Tab":case";":case",":if(X.value.indexOf(R.key.toLowerCase())===-1||!M.value)return;ee(),oe(),R.preventDefault();break;case"Escape":$();break;case"ArrowUp":if(R.preventDefault(),!m.value)return;l.value==="top"?d():be();break;case"ArrowDown":if(R.preventDefault(),!m.value)return;l.value==="top"?be():d()}},preparePointer:ee}}(e,0,{iv:a.iv,update:r.update,search:f.search,setPointer:u.setPointer,selectPointer:w.selectPointer,backwardPointer:w.backwardPointer,forwardPointer:w.forwardPointer,blur:L.blur,fo:S.fo}),q=zt(e,0,{isOpen:C.isOpen,isPointed:w.isPointed,canPointGroups:w.canPointGroups,isSelected:S.isSelected,isDisabled:S.isDisabled,isActive:L.isActive,resolving:S.resolving,fo:S.fo});return H(H(H(H(H(H(H(H(H(H({},a),C),L),u),r),f),S),w),U),q)}};Ge.render=function(e,t,a,u,C,f){return B(),I("div",{ref:"multiselect",tabindex:e.tabindex,class:e.classList.container,id:a.id,onFocusin:t[7]||(t[7]=(...r)=>e.activate&&e.activate(...r)),onFocusout:t[8]||(t[8]=(...r)=>e.deactivate&&e.deactivate(...r)),onKeydown:t[9]||(t[9]=(...r)=>e.handleKeydown&&e.handleKeydown(...r)),onFocus:t[10]||(t[10]=(...r)=>e.handleFocus&&e.handleFocus(...r))},[T(" Search "),a.mode!=="tags"&&a.searchable&&!a.disabled?(B(),I("input",{key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:a.autocomplete,onInput:t[1]||(t[1]=(...r)=>e.handleSearchInput&&e.handleSearchInput(...r)),onPaste:t[2]||(t[2]=et((...r)=>e.handlePaste&&e.handlePaste(...r),["stop"])),ref:"input"},null,42,["type","modelValue","value","autocomplete"])):T("v-if",!0),T(" Tags (with search) "),a.mode=="tags"?(B(),I("div",{key:1,class:e.classList.tags},[(B(!0),I(se,null,De(e.iv,(r,L,S)=>G(e.$slots,"tag",{option:r,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(B(),I("span",{class:e.classList.tag,key:S},[Me(W(r[a.label])+" ",1),a.disabled?T("v-if",!0):(B(),I("span",{key:0,class:e.classList.tagRemove,onClick:w=>e.handleTagRemove(r,w)},[y("span",{class:e.classList.tagRemoveIcon},null,2)],10,["onClick"]))],2))])),256)),y("div",{class:e.classList.tagsSearchWrapper},[T(" Used for measuring search width "),y("span",{class:e.classList.tagsSearchCopy},W(e.search),3),T(" Actual search input "),a.searchable&&!a.disabled?(B(),I("input",{key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,autocomplete:a.autocomplete,onInput:t[3]||(t[3]=(...r)=>e.handleSearchInput&&e.handleSearchInput(...r)),onPaste:t[4]||(t[4]=et((...r)=>e.handlePaste&&e.handlePaste(...r),["stop"])),ref:"input"},null,42,["type","modelValue","value","autocomplete"])):T("v-if",!0)],2)],2)):T("v-if",!0),T(" Single label "),a.mode=="single"&&e.hasSelected&&!e.search&&e.iv?G(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[y("div",{class:e.classList.singleLabel},[y("span",{class:e.classList.singleLabelText},W(e.iv[a.label]),3)],2)]):T("v-if",!0),T(" Multiple label "),a.mode=="multiple"&&e.hasSelected&&!e.search?G(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[y("div",{class:e.classList.multipleLabel},W(e.multipleLabelText),3)]):T("v-if",!0),T(" Placeholder "),!a.placeholder||e.hasSelected||e.search?T("v-if",!0):G(e.$slots,"placeholder",{key:4},()=>[y("div",{class:e.classList.placeholder},W(a.placeholder),3)]),T(" Spinner "),e.busy&&e.isActive?G(e.$slots,"spinner",{key:5},()=>[y("span",{class:e.classList.spinner},null,2)]):T("v-if",!0),T(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?G(e.$slots,"clear",{key:6,clear:e.clear},()=>[y("span",{class:e.classList.clear,onMousedown:t[5]||(t[5]=(...r)=>e.clear&&e.clear(...r))},[y("span",{class:e.classList.clearIcon},null,2)],34)]):T("v-if",!0),T(" Caret "),a.caret&&a.showOptions?G(e.$slots,"caret",{key:7},()=>[y("span",{class:e.classList.caret,onClick:t[6]||(t[6]=(...r)=>e.handleCaretClick&&e.handleCaretClick(...r))},null,2)]):T("v-if",!0),T(" Options "),y("div",{class:e.classList.dropdown,tabindex:"-1"},[G(e.$slots,"beforelist",{options:e.fo}),y("ul",{class:e.classList.options},[a.groups?(B(!0),I(se,{key:0},De(e.fg,(r,L,S)=>(B(),I("li",{class:e.classList.group,key:S},[y("div",{class:e.classList.groupLabel(r),"data-pointed":e.isPointed(r),onMouseenter:w=>e.setPointer(r),onClick:w=>e.handleGroupClick(r)},[G(e.$slots,"grouplabel",{group:r},()=>[y("span",null,W(r[a.groupLabel]),1)])],42,["data-pointed","onMouseenter","onClick"]),y("ul",{class:e.classList.groupOptions},[(B(!0),I(se,null,De(r.__VISIBLE__,(w,U,q)=>(B(),I("li",{class:e.classList.option(w,r),key:q,"data-pointed":e.isPointed(w),onMouseenter:k=>e.setPointer(w),onClick:k=>e.handleOptionClick(w)},[G(e.$slots,"option",{option:w,search:e.search},()=>[y("span",null,W(w[a.label]),1)])],42,["data-pointed","onMouseenter","onClick"]))),128))],2)],2))),128)):(B(!0),I(se,{key:1},De(e.fo,(r,L,S)=>(B(),I("li",{class:e.classList.option(r),key:S,"data-pointed":e.isPointed(r),onMouseenter:w=>e.setPointer(r),onClick:w=>e.handleOptionClick(r)},[G(e.$slots,"option",{option:r,search:e.search},()=>[y("span",null,W(r[a.label]),1)])],42,["data-pointed","onMouseenter","onClick"]))),128))],2),e.noOptions?G(e.$slots,"nooptions",{key:0},()=>[y("div",{class:e.classList.noOptions,innerHTML:a.noOptionsText},null,10,["innerHTML"])]):T("v-if",!0),e.noResults?G(e.$slots,"noresults",{key:1},()=>[y("div",{class:e.classList.noResults,innerHTML:a.noResultsText},null,10,["innerHTML"])]):T("v-if",!0),G(e.$slots,"afterlist",{options:e.fo})],2),T(" Hacky input element to show HTML5 required warning "),a.required?(B(),I("input",{key:8,class:e.classList.fakeInput,tabindex:"-1",value:e.textValue,required:""},null,10,["value"])):T("v-if",!0),T(" Native input support "),a.nativeSupport?(B(),I(se,{key:9},[a.mode=="single"?(B(),I("input",{key:0,type:"hidden",name:a.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,["name","value"])):(B(!0),I(se,{key:1},De(e.plainValue,(r,L)=>(B(),I("input",{type:"hidden",name:`${a.name}[]`,value:r,key:L},null,8,["name","value"]))),128))],64)):T("v-if",!0),T(" Create height for empty input "),y("div",{class:e.classList.spacer},null,2)],42,["tabindex","id"])},Ge.__file="src/Multiselect.vue";const Kt={name:"CraftingToolItemSelector",components:{Multiselect:Ge,Search:Pt},props:{},data(){return{isOpen:!1,value:null,options:[{label:"Test 1",value:1},{label:"Test 2",value:2},{label:"Test 3",value:3},{label:"Test 4",value:4}]}},computed:{},methods:{}};function Wt(e,t,a,u,C,f){const r=K("Multiselect");return B(),Se("div",null,[y(r,{class:"multiselect-dark",modelValue:C.value,"onUpdate:modelValue":t[0]||(t[0]=L=>C.value=L),options:C.options,searchable:"",placeholder:"Select a recipe"},null,8,["modelValue","options"])])}var Jt=Be(Kt,[["render",Wt]]);const Qt={name:"CraftingToolCalculator",components:{ItemSelector:Jt},props:{tab:{type:Object,required:!0}},data(){return{}},computed:{},methods:{}};function Xt(e,t,a,u,C,f){const r=K("item-selector");return B(),Se("div",null,[y(r)])}var Yt=Be(Qt,[["render",Xt]]);const Ue=Ee(),Zt={name:"CraftingToolTabView",components:{ManageTab:Nt,CraftingCalculator:Yt},props:[],data(){return{activeTabId:Ue.activeTabId,maxTabCount:20,addable:!0,closable:!0}},watch:{activeTabId:function(e){this.setActiveTab(e)}},computed:H({},Ze(Ee,["tabs","tabCount","activeTab"])),methods:Xe(H({},wt(Ee,["addTab","setActiveTab"])),{handleAdd(){},handleClose(){},removeTab({tabId:e}={}){Ue.removeTab(e),this.activeTabId=Ue.activeTabId,this.$nextTick(()=>{var t;(t=this.$refs.tabsInstRef)==null||t.syncBarPosition()})}})},ea={class:"flex align-items-center mb-3"},ta={class:"flex align-items-center ml-auto"},aa={class:"mr-3"},na=fe("span",null,"Add Tab",-1);function ua(e,t,a,u,C,f){const r=K("n-button"),L=K("manage-tab"),S=K("crafting-calculator"),w=K("n-tab-pane"),U=K("n-tabs"),q=K("n-card");return B(),Se(se,null,[fe("div",ea,[fe("div",ta,[fe("div",aa,W(e.tabCount)+" / "+W(C.maxTabCount),1),y(r,{class:"",strong:"",secondary:"",type:"primary",onClick:e.addTab,disabled:e.tabCount===C.maxTabCount},{default:ie(()=>[na]),_:1},8,["onClick","disabled"])])]),y(q,null,{default:ie(()=>{var k;return[Me(W(C.activeTabId)+" - "+W((k=e.activeTab)==null?void 0:k.id)+" ",1),y(U,{ref:"tabsInstRef",value:C.activeTabId,"onUpdate:value":t[0]||(t[0]=A=>C.activeTabId=A),type:"bar",addable:C.addable,closable:C.closable,onClose:f.handleClose,onAdd:f.handleAdd,"tab-style":""},{default:ie(()=>[(B(!0),Se(se,null,De(e.tabs,A=>(B(),I(w,{tab:A.title,name:A.id,key:A.id},{default:ie(()=>[y(L,{tab:A,onRemoveTab:f.removeTab},null,8,["tab","onRemoveTab"]),y(S,{class:"mt-4",tab:A},null,8,["tab"])]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value","addable","closable","onClose","onAdd"])]}),_:1})],64)}var la=Be(Zt,[["render",ua]]);const sa={setup(e){return(t,a)=>(B(),I(la))}};export{sa as default};
