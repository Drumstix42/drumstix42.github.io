import{d as Xe,m as Z,a as ye,_ as U,b as Ze}from"./icarus-7542b0f1.js";import{k as re,o as x,bb as T,e as m,u as et,b0 as tt,b1 as nt,r as we,l as st,m as oe,bd as it,G as ot,s as at,aX as rt,b7 as v,a as g,w,f as A,b9 as W,be as z,c as Q,b3 as Le,b4 as Oe,F as J,ba as Y,aQ as ct,ai as lt}from"./style-ceb42622.js";const ut={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 576 512"},ht=m("path",{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31l-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z",fill:"currentColor"},null,-1),dt=[ht],pt=re({name:"Hammer",render:function(t,n){return x(),T("svg",ut,dt)}}),mt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},ft=m("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),_t=[ft],gt=re({name:"Plus",render:function(t,n){return x(),T("svg",mt,_t)}}),bt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},vt=m("path",{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z",fill:"currentColor"},null,-1),yt=[vt],wt=re({name:"SortAlphaDown",render:function(t,n){return x(),T("svg",bt,yt)}}),St={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 352 512"},It=m("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),xt=[It],De=re({name:"Times",render:function(t,n){return x(),T("svg",St,xt)}});function he(e,t,n){var s,i,o,a,l;t==null&&(t=100);function r(){var c=Date.now()-a;c<t&&c>=0?s=setTimeout(r,t-c):(s=null,n||(l=e.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,a=Date.now();var c=n&&!s;return s||(s=setTimeout(r,t)),c&&(l=e.apply(o,i),o=i=null),l};return u.clear=function(){s&&(clearTimeout(s),s=null)},u.flush=function(){s&&(l=e.apply(o,i),o=i=null,clearTimeout(s),s=null)},u}he.debounce=he;var Ne=he;function Tt(e){return tt()?(nt(e),!0):!1}function N(e){return typeof e=="function"?e():et(e)}const Ct=typeof window<"u"&&typeof document<"u",kt=Object.prototype.toString,Mt=e=>kt.call(e)==="[object Object]",Rt=()=>{};function At(e,t){function n(...s){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(i).catch(o)})}return n}const Pe=e=>e();function Et(e=Pe){const t=we(!0);function n(){t.value=!1}function s(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:st(t),pause:n,resume:s,eventFilter:i}}function $t(e,t,n={}){const{eventFilter:s=Pe,...i}=n;return oe(e,At(s,t),i)}function Lt(e,t,n={}){const{eventFilter:s,...i}=n,{eventFilter:o,pause:a,resume:l,isActive:r}=Et(s);return{stop:$t(e,t,{...i,eventFilter:o}),pause:a,resume:l,isActive:r}}function Ot(e){var t;const n=N(e);return(t=n==null?void 0:n.$el)!=null?t:n}const de=Ct?window:void 0;function xe(...e){let t,n,s,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,i]=e,t=de):[t,n,s,i]=e,!t)return Rt;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const o=[],a=()=>{o.forEach(c=>c()),o.length=0},l=(c,h,d,p)=>(c.addEventListener(h,d,p),()=>c.removeEventListener(h,d,p)),r=oe(()=>[Ot(t),N(i)],([c,h])=>{if(a(),!c)return;const d=Mt(h)?{...h}:h;o.push(...n.flatMap(p=>s.map(_=>l(c,p,_,d))))},{immediate:!0,flush:"post"}),u=()=>{r(),a()};return Tt(u),u}const te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne="__vueuse_ssr_handlers__",Dt=Nt();function Nt(){return ne in te||(te[ne]=te[ne]||{}),te[ne]}function Pt(e,t){return Dt[e]||t}function zt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ft={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Te="vueuse-storage";function ze(e,t,n,s={}){var i;const{flush:o="pre",deep:a=!0,listenToStorageChanges:l=!0,writeDefaults:r=!0,mergeDefaults:u=!1,shallow:c,window:h=de,eventFilter:d,onError:p=I=>{console.error(I)}}=s,_=(c?it:we)(t);if(!n)try{n=Pt("getDefaultStorage",()=>{var I;return(I=de)==null?void 0:I.localStorage})()}catch(I){p(I)}if(!n)return _;const S=N(t),f=zt(S),y=(i=s.serializer)!=null?i:Ft[f],{pause:k,resume:R}=Lt(_,()=>$(_.value),{flush:o,deep:a,eventFilter:d});return h&&l&&(xe(h,"storage",E),xe(h,Te,j)),E(),_;function $(I){try{if(I==null)n.removeItem(e);else{const C=y.write(I),P=n.getItem(e);P!==C&&(n.setItem(e,C),h&&h.dispatchEvent(new CustomEvent(Te,{detail:{key:e,oldValue:P,newValue:C,storageArea:n}})))}}catch(C){p(C)}}function M(I){const C=I?I.newValue:n.getItem(e);if(C==null)return r&&S!==null&&n.setItem(e,y.write(S)),S;if(!I&&u){const P=y.read(C);return typeof u=="function"?u(P,S):f==="object"&&!Array.isArray(P)?{...S,...P}:P}else return typeof C!="string"?C:y.read(C)}function j(I){E(I.detail)}function E(I){if(!(I&&I.storageArea!==n)){if(I&&I.key==null){_.value=S;return}if(!(I&&I.key!==e)){k();try{(I==null?void 0:I.newValue)!==y.write(_.value)&&(_.value=M(I))}catch(C){p(C)}finally{I?ot(R):R()}}}}}function B(e){return Array.isArray?Array.isArray(e):je(e)==="[object Array]"}const Bt=1/0;function jt(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-Bt?"-0":t}function Vt(e){return e==null?"":jt(e)}function F(e){return typeof e=="string"}function Fe(e){return typeof e=="number"}function qt(e){return e===!0||e===!1||Wt(e)&&je(e)=="[object Boolean]"}function Be(e){return typeof e=="object"}function Wt(e){return Be(e)&&e!==null}function L(e){return e!=null}function le(e){return!e.trim().length}function je(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ht="Incorrect 'index' type",Qt=e=>`Invalid value for key ${e}`,Ut=e=>`Pattern length exceeds max of ${e}.`,Gt=e=>`Missing ${e} property in key`,Kt=e=>`Property 'weight' in key '${e}' must be a positive integer`,Ce=Object.prototype.hasOwnProperty;class Jt{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let i=Ve(s);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ve(e){let t=null,n=null,s=null,i=1,o=null;if(F(e)||B(e))s=e,t=ke(e),n=pe(e);else{if(!Ce.call(e,"name"))throw new Error(Gt("name"));const a=e.name;if(s=a,Ce.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Kt(a));t=ke(a),n=pe(a),o=e.getFn}return{path:t,id:n,weight:i,src:s,getFn:o}}function ke(e){return B(e)?e:e.split(".")}function pe(e){return B(e)?e.join("."):e}function Yt(e,t){let n=[],s=!1;const i=(o,a,l)=>{if(L(o))if(!a[l])n.push(o);else{let r=a[l];const u=o[r];if(!L(u))return;if(l===a.length-1&&(F(u)||Fe(u)||qt(u)))n.push(Vt(u));else if(B(u)){s=!0;for(let c=0,h=u.length;c<h;c+=1)i(u[c],a,l+1)}else a.length&&i(u,a,l+1)}};return i(e,F(t)?t.split("."):t,0),s?n:n[0]}const Xt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Zt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},en={location:0,threshold:.6,distance:100},tn={useExtendedSearch:!1,getFn:Yt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var b={...Zt,...Xt,...en,...tn};const nn=/[^ ]+/g;function sn(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(i){const o=i.match(nn).length;if(n.has(o))return n.get(o);const a=1/Math.pow(o,.5*e),l=parseFloat(Math.round(a*s)/s);return n.set(o,l),l},clear(){n.clear()}}}class Se{constructor({getFn:t=b.getFn,fieldNormWeight:n=b.fieldNormWeight}={}){this.norm=sn(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,F(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();F(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!L(t)||le(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((i,o)=>{let a=i.getFn?i.getFn(t):this.getFn(t,i.path);if(L(a)){if(B(a)){let l=[];const r=[{nestedArrIndex:-1,value:a}];for(;r.length;){const{nestedArrIndex:u,value:c}=r.pop();if(L(c))if(F(c)&&!le(c)){let h={v:c,i:u,n:this.norm.get(c)};l.push(h)}else B(c)&&c.forEach((h,d)=>{r.push({nestedArrIndex:d,value:h})})}s.$[o]=l}else if(F(a)&&!le(a)){let l={v:a,n:this.norm.get(a)};s.$[o]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function qe(e,t,{getFn:n=b.getFn,fieldNormWeight:s=b.fieldNormWeight}={}){const i=new Se({getFn:n,fieldNormWeight:s});return i.setKeys(e.map(Ve)),i.setSources(t),i.create(),i}function on(e,{getFn:t=b.getFn,fieldNormWeight:n=b.fieldNormWeight}={}){const{keys:s,records:i}=e,o=new Se({getFn:t,fieldNormWeight:n});return o.setKeys(s),o.setIndexRecords(i),o}function se(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:i=b.distance,ignoreLocation:o=b.ignoreLocation}={}){const a=t/e.length;if(o)return a;const l=Math.abs(s-n);return i?a+l/i:l?1:a}function an(e=[],t=b.minMatchCharLength){let n=[],s=-1,i=-1,o=0;for(let a=e.length;o<a;o+=1){let l=e[o];l&&s===-1?s=o:!l&&s!==-1&&(i=o-1,i-s+1>=t&&n.push([s,i]),s=-1)}return e[o-1]&&o-s>=t&&n.push([s,o-1]),n}const q=32;function rn(e,t,n,{location:s=b.location,distance:i=b.distance,threshold:o=b.threshold,findAllMatches:a=b.findAllMatches,minMatchCharLength:l=b.minMatchCharLength,includeMatches:r=b.includeMatches,ignoreLocation:u=b.ignoreLocation}={}){if(t.length>q)throw new Error(Ut(q));const c=t.length,h=e.length,d=Math.max(0,Math.min(s,h));let p=o,_=d;const S=l>1||r,f=S?Array(h):[];let y;for(;(y=e.indexOf(t,_))>-1;){let E=se(t,{currentLocation:y,expectedLocation:d,distance:i,ignoreLocation:u});if(p=Math.min(E,p),_=y+c,S){let I=0;for(;I<c;)f[y+I]=1,I+=1}}_=-1;let k=[],R=1,$=c+h;const M=1<<c-1;for(let E=0;E<c;E+=1){let I=0,C=$;for(;I<C;)se(t,{errors:E,currentLocation:d+C,expectedLocation:d,distance:i,ignoreLocation:u})<=p?I=C:$=C,C=Math.floor(($-I)/2+I);$=C;let P=Math.max(1,d-C+1),ce=a?h:Math.min(d+C,h)+c,H=Array(ce+2);H[ce+1]=(1<<E)-1;for(let D=ce;D>=P;D-=1){let ee=D-1,Ie=n[e.charAt(ee)];if(S&&(f[ee]=+!!Ie),H[D]=(H[D+1]<<1|1)&Ie,E&&(H[D]|=(k[D+1]|k[D])<<1|1|k[D+1]),H[D]&M&&(R=se(t,{errors:E,currentLocation:ee,expectedLocation:d,distance:i,ignoreLocation:u}),R<=p)){if(p=R,_=ee,_<=d)break;P=Math.max(1,2*d-_)}}if(se(t,{errors:E+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>p)break;k=H}const j={isMatch:_>=0,score:Math.max(.001,R)};if(S){const E=an(f,l);E.length?r&&(j.indices=E):j.isMatch=!1}return j}function cn(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<s-n-1}return t}class We{constructor(t,{location:n=b.location,threshold:s=b.threshold,distance:i=b.distance,includeMatches:o=b.includeMatches,findAllMatches:a=b.findAllMatches,minMatchCharLength:l=b.minMatchCharLength,isCaseSensitive:r=b.isCaseSensitive,ignoreLocation:u=b.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:r,ignoreLocation:u},this.pattern=r?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(d,p)=>{this.chunks.push({pattern:d,alphabet:cn(d),startIndex:p})},h=this.pattern.length;if(h>q){let d=0;const p=h%q,_=h-p;for(;d<_;)c(this.pattern.substr(d,q),d),d+=q;if(p){const S=h-q;c(this.pattern.substr(S),S)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let _={isMatch:!0,score:0};return s&&(_.indices=[[0,t.length-1]]),_}const{location:i,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:r,ignoreLocation:u}=this.options;let c=[],h=0,d=!1;this.chunks.forEach(({pattern:_,alphabet:S,startIndex:f})=>{const{isMatch:y,score:k,indices:R}=rn(t,_,S,{location:i+f,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:r,includeMatches:s,ignoreLocation:u});y&&(d=!0),h+=k,y&&R&&(c=[...c,...R])});let p={isMatch:d,score:d?h/this.chunks.length:1};return d&&s&&(p.indices=c),p}}class V{constructor(t){this.pattern=t}static isMultiMatch(t){return Me(t,this.multiRegex)}static isSingleMatch(t){return Me(t,this.singleRegex)}search(){}}function Me(e,t){const n=e.match(t);return n?n[1]:null}class ln extends V{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class un extends V{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class hn extends V{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class dn extends V{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class pn extends V{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class mn extends V{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class He extends V{constructor(t,{location:n=b.location,threshold:s=b.threshold,distance:i=b.distance,includeMatches:o=b.includeMatches,findAllMatches:a=b.findAllMatches,minMatchCharLength:l=b.minMatchCharLength,isCaseSensitive:r=b.isCaseSensitive,ignoreLocation:u=b.ignoreLocation}={}){super(t),this._bitapSearch=new We(t,{location:n,threshold:s,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:r,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Qe extends V{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const i=[],o=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+o,i.push([s,n-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const me=[ln,Qe,hn,dn,mn,pn,un,He],Re=me.length,fn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,_n="|";function gn(e,t={}){return e.split(_n).map(n=>{let s=n.trim().split(fn).filter(o=>o&&!!o.trim()),i=[];for(let o=0,a=s.length;o<a;o+=1){const l=s[o];let r=!1,u=-1;for(;!r&&++u<Re;){const c=me[u];let h=c.isMultiMatch(l);h&&(i.push(new c(h,t)),r=!0)}if(!r)for(u=-1;++u<Re;){const c=me[u];let h=c.isSingleMatch(l);if(h){i.push(new c(h,t));break}}}return i})}const bn=new Set([He.type,Qe.type]);class vn{constructor(t,{isCaseSensitive:n=b.isCaseSensitive,includeMatches:s=b.includeMatches,minMatchCharLength:i=b.minMatchCharLength,ignoreLocation:o=b.ignoreLocation,findAllMatches:a=b.findAllMatches,location:l=b.location,threshold:r=b.threshold,distance:u=b.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:i,findAllMatches:a,ignoreLocation:o,location:l,threshold:r,distance:u},this.pattern=n?t:t.toLowerCase(),this.query=gn(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let o=0,a=[],l=0;for(let r=0,u=n.length;r<u;r+=1){const c=n[r];a.length=0,o=0;for(let h=0,d=c.length;h<d;h+=1){const p=c[h],{isMatch:_,indices:S,score:f}=p.search(t);if(_){if(o+=1,l+=f,s){const y=p.constructor.type;bn.has(y)?a=[...a,...S]:a.push(S)}}else{l=0,o=0,a.length=0;break}}if(o){let h={isMatch:!0,score:l/o};return s&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const fe=[];function yn(...e){fe.push(...e)}function _e(e,t){for(let n=0,s=fe.length;n<s;n+=1){let i=fe[n];if(i.condition(e,t))return new i(e,t)}return new We(e,t)}const ae={AND:"$and",OR:"$or"},ge={PATH:"$path",PATTERN:"$val"},be=e=>!!(e[ae.AND]||e[ae.OR]),wn=e=>!!e[ge.PATH],Sn=e=>!B(e)&&Be(e)&&!be(e),Ae=e=>({[ae.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Ue(e,t,{auto:n=!0}={}){const s=i=>{let o=Object.keys(i);const a=wn(i);if(!a&&o.length>1&&!be(i))return s(Ae(i));if(Sn(i)){const r=a?i[ge.PATH]:o[0],u=a?i[ge.PATTERN]:i[r];if(!F(u))throw new Error(Qt(r));const c={keyId:pe(r),pattern:u};return n&&(c.searcher=_e(u,t)),c}let l={children:[],operator:o[0]};return o.forEach(r=>{const u=i[r];B(u)&&u.forEach(c=>{l.children.push(s(c))})}),l};return be(e)||(e=Ae(e)),s(e)}function In(e,{ignoreFieldNorm:t=b.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:i,norm:o,score:a})=>{const l=i?i.weight:null;s*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(t?1:o))}),n.score=s})}function xn(e,t){const n=e.matches;t.matches=[],L(n)&&n.forEach(s=>{if(!L(s.indices)||!s.indices.length)return;const{indices:i,value:o}=s;let a={indices:i,value:o};s.key&&(a.key=s.key.src),s.idx>-1&&(a.refIndex=s.idx),t.matches.push(a)})}function Tn(e,t){t.score=e.score}function Cn(e,t,{includeMatches:n=b.includeMatches,includeScore:s=b.includeScore}={}){const i=[];return n&&i.push(xn),s&&i.push(Tn),e.map(o=>{const{idx:a}=o,l={item:t[a],refIndex:a};return i.length&&i.forEach(r=>{r(o,l)}),l})}class G{constructor(t,n={},s){this.options={...b,...n},this.options.useExtendedSearch,this._keyStore=new Jt(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Se))throw new Error(Ht);this._myIndex=n||qe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){L(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,i=this._docs.length;s<i;s+=1){const o=this._docs[s];t(o,s)&&(this.removeAt(s),s-=1,i-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:i,shouldSort:o,sortFn:a,ignoreFieldNorm:l}=this.options;let r=F(t)?F(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return In(r,{ignoreFieldNorm:l}),o&&r.sort(a),Fe(n)&&n>-1&&(r=r.slice(0,n)),Cn(r,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(t){const n=_e(t,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:o,i:a,n:l})=>{if(!L(o))return;const{isMatch:r,score:u,indices:c}=n.searchIn(o);r&&i.push({item:o,idx:a,matches:[{score:u,value:o,norm:l,indices:c}]})}),i}_searchLogical(t){const n=Ue(t,this.options),s=(l,r,u)=>{if(!l.children){const{keyId:h,searcher:d}=l,p=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(r,h),searcher:d});return p&&p.length?[{idx:u,item:r,matches:p}]:[]}const c=[];for(let h=0,d=l.children.length;h<d;h+=1){const p=l.children[h],_=s(p,r,u);if(_.length)c.push(..._);else if(l.operator===ae.AND)return[]}return c},i=this._myIndex.records,o={},a=[];return i.forEach(({$:l,i:r})=>{if(L(l)){let u=s(n,l,r);u.length&&(o[r]||(o[r]={idx:r,item:l,matches:[]},a.push(o[r])),u.forEach(({matches:c})=>{o[r].matches.push(...c)}))}}),a}_searchObjectList(t){const n=_e(t,this.options),{keys:s,records:i}=this._myIndex,o=[];return i.forEach(({$:a,i:l})=>{if(!L(a))return;let r=[];s.forEach((u,c)=>{r.push(...this._findMatches({key:u,value:a[c],searcher:n}))}),r.length&&o.push({idx:l,item:a,matches:r})}),o}_findMatches({key:t,value:n,searcher:s}){if(!L(n))return[];let i=[];if(B(n))n.forEach(({v:o,i:a,n:l})=>{if(!L(o))return;const{isMatch:r,score:u,indices:c}=s.searchIn(o);r&&i.push({score:u,key:t,value:o,idx:a,norm:l,indices:c})});else{const{v:o,n:a}=n,{isMatch:l,score:r,indices:u}=s.searchIn(o);l&&i.push({score:r,key:t,value:o,norm:a,indices:u})}return i}}G.version="6.6.2";G.createIndex=qe;G.parseIndex=on;G.config=b;G.parseQuery=Ue;yn(vn);function kn(e,t,n){const s=()=>{var a,l;return new G((a=N(t))!=null?a:[],(l=N(n))==null?void 0:l.fuseOptions)},i=we(s());oe(()=>{var a;return(a=N(n))==null?void 0:a.fuseOptions},()=>{i.value=s()},{deep:!0}),oe(()=>N(t),a=>{i.value.setCollection(a)},{deep:!0});const o=at(()=>{const a=N(n);if(a!=null&&a.matchAllWhenSearchEmpty&&!N(e))return N(t).map((r,u)=>({item:r,refIndex:u}));const l=a==null?void 0:a.resultLimit;return i.value.search(N(e),l?{limit:l}:void 0)});return{fuse:i,results:o}}const Ge="icarusCalculator",Mn=Object.freeze({Basic_Oxite_Dissolver:!0,Charcoal:!0}),X=Object.freeze({Bauxite:"Aluminum Ore",Copper_Ore:"Copper Ore",Iron_Ore:"Iron Ore",Gold_Ore:"Gold Ore",Metal_Ore:"Iron Ore",Coal_Ore:"Coal Ore",Platinum_Ore:"Platinum Ore",Titanium_Ore:"Titanium Ore",Stick_Talent:"Stick (Talent)",Talent_Leather_Rope:"Rope (Leather, Talent)",Rope_Armor_Bench:"Rope (Armor Bench)",Epoxy_2:"Epoxy (Crushed Bone)",Raw_Meat:"Raw Meat",Composite_Paste:"Composite Paste (Gold)",Composite_Paste_Plat:"Composite Paste (Platinum)",Steel_Bloom:"Steel Bloom (Ore)",Steel_Bloom2:"Steel Bloom (Ingot)",Spoiled_Meat:"Spoiled Meat",Spoiled_Plants:"Spoiled Plants",Biofuel1:"Biofuel (Raw Meat)",Biofuel2:"Biofuel (Fiber)",Biofuel3:"Biofuel (Stick)",Biofuel4:"Biofuel (Wood)",Biofuel5:"Biofuel (Cooked Meat)",Ammo_Pistol_Round:"Pistol Round",Ammo_Rifle_Round:"Rifle Round",Ammo_Shell_Buckshot:"Shotgun Buckshot Shell",Bulk_Rifle_Round:"Rifle Round (Bulk, Talent)",Bulk_Pistol_Round:"Pistol Round (Bulk, Talent)",Shotgun_Shell_Buckshot:"Shotgun Buckshot Shell",Bulk_Shotgun_Shell_Buckshot:"Shotgun Buckshot Shell (Bulk, Talent)"}),Rn=e=>e.replace(/_/g," "),An=(e,{displayName:t}={})=>{const n=X[e];return n||(t??Rn(e))},ue=Object.freeze({}),En=(e="")=>{const n=e.replace(/\"/g,"").match(/NSLOCTEXT\((.*), (.*), (.*)\)/);return n==null?void 0:n[3]},$n=(e="")=>e.replace("/Game/Assets/2DArt/UI/Items/Item_Icons/","");function Ln(e=[]){const t={};return e.forEach(n=>{var i;const s=n.Name;t[s]||(t[s]={id:s,itemStaticId:(i=n.ItemStaticData)==null?void 0:i.RowName})}),t}function On(e=[]){const t={};return e.forEach(n=>{var i;const s=n.Name;t[s]||(t[s]={id:s,itemTableId:(i=n.Itemable)==null?void 0:i.RowName})}),t}function Dn(e=[]){const t={};return e.forEach(n=>{const s=n.Name;t[s]||(t[s]={id:s,displayName:En(n.DisplayName),icon:$n(n.Icon)})}),t}function Nn(e=[],{itemTemplateData:t={},itemStaticData:n={},itemTableData:s={}}={}){const i={};e.forEach(a=>{i[a.name]=a});const o={};return e.forEach(a=>{var f,y,k,R,$;const r=a.Name;if(Mn[r])return;const u=r,c=()=>{var j;const M=(j=a.Outputs[0])==null?void 0:j.Element.RowName;return a.Outputs.length===1&&M&&(M!=null&&M.includes(u)||a.Requirement||!i[M])?M:null},h=(f=a.Inputs[0])==null?void 0:f.Element.RowName,d=t[u]??t[(y=a.Requirement)==null?void 0:y.RowName]??t[c()],p=n[d==null?void 0:d.itemStaticId]??n[h],_=((k=a.ResourceOutputs)==null?void 0:k.length)>0?"":(R=s[p==null?void 0:p.itemTableId])==null?void 0:R.icon,S=_.length>100?_.split("/")[0]+"/"+_.split(".")[1]:"";o[r]={id:r,label:An(r,{displayName:($=s[p==null?void 0:p.itemTableId])==null?void 0:$.displayName}),iconPath:_.length>100?S:_,inputs:[],sources:[],preferredSource:null,outputQuantity:1},(a.Inputs||[]).forEach(M=>{o[r].inputs.push({id:M.Element.RowName,quantity:M.Count})}),(a.RecipeSets||[]).forEach(M=>{o[r].sources.push(M.RowName)}),o[r].preferredSource=o[r].sources[0],(a.Outputs||[]).forEach(M=>{(r===M.Element.RowName||r.includes(M.Element.RowName))&&(o[r].outputQuantity=M.Count)})}),zn(o)}function Pn(e,t=[]){let n="",s=0;return t.forEach(i=>{const o=i[1]+1,a=e.substring(s,i[0]),l=e.substring(i[0],o);n+=`${a}<span class="highlight-result">${l}</span>`,s=o}),n+=e.substring(s),n}function zn(e={}){return Object.keys(e).forEach(t=>{var s;const n=e[t];(s=ue[t])==null||s.call(ue,n,t,e)}),e}const Fn=()=>Date.now(),Ke=()=>rt({id:Fn(),title:"Planning",items:[]}),Ee=(e,t)=>t.findIndex(n=>n.id===e),Je=Ke(),Ye=ze(`${Ge}/tabs`,[Je]),Bn=Ye.value[0].id??Je.id,O=Xe("icarus",{state:()=>({activeTabId:Bn,tabs:Ye,settings:ze(`${Ge}/settings`,{includeSubComponents:!1,includeStationComponents:!1,searchFuzzyMatch:!0},localStorage,{mergeDefaults:!0}),itemTemplateData:{},itemStaticData:{},itemTableData:{},recipeData:{},recipeOptions:[],isLoadingRecipes:!1,recipeSearch:""}),getters:{activeTab:e=>e.tabs.find(t=>t.id===e.activeTabId),tabCount(){return this.tabs.length},includeSubComponents(e){return e.settings.includeSubComponents},includeStationComponents(e){return e.settings.includeStationComponents},sortedRecipeOptions(e){return e.recipeOptions.sort((t,n)=>t.label.localeCompare(n.label))},filteredRecipeOptions(e){if(e.recipeSearch){const t={fuseOptions:{keys:["label"],isCaseSensitive:!1,location:0,threshold:e.settings.searchFuzzyMatch?void 0:0,distance:100,includeScore:!0,includeMatches:!0},resultLimit:void 0,matchAllWhenSearchEmpty:!0},{results:n}=kn(e.recipeSearch,this.sortedRecipeOptions,t);return console.log({searchResults:n.value}),n.value.map(s=>{var i,o;return{...s.item,highlightedLabel:s.matches?Pn(s.item.label,(o=(i=s.matches)==null?void 0:i[0])==null?void 0:o.indices):s.item.label}})}return this.sortedRecipeOptions}},actions:{addTab(){const e=Ke();return this.tabs.push(e),e},removeTab(e){const t=Ee(e,this.tabs);if(t!==-1)this.tabs.splice(t,1);else{console.error(`Could not find tab with id ${e}`,this.tabs);return}const n=Math.min(t,this.tabs.length-1),s=this.tabs[n];this.activeTabId=s.id},setActiveTab(e){this.activeTabId=e},setTabTitle(e,t){const n=Ee(e,this.tabs);n!==-1&&(this.tabs[n].title=t)},addItem(e,t=1){const n=this.activeTab;if(n){const s=n.items.find(o=>o.id===e),i=this.recipeData[e].outputQuantity??1;s?s.quantity+=i:n.items.push({id:e,quantity:i})}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},removeItem(e){const t=this.activeTab;if(t){const n=t.items.findIndex(s=>s.id===e);t.items.splice(n,1)}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},setIncludeSubComponents(e){this.settings.includeSubComponents=e},setIncludeStationComponents(e){this.settings.includeStationComponents=e},async loadRecipeData(){const e=new Date().getTime();this.isLoadingRecipes=!0;const n=await(await fetch(`/icarus-game/Data/D_ItemTemplate.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),i=await(await fetch(`/icarus-game/Data/D_ItemsStatic.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),a=await(await fetch(`/icarus-game/Data/D_Itemable.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),r=await(await fetch(`/icarus-game/Data/D_ProcessorRecipes.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),u=performance.now(),c=Ln(n.Rows);this.itemTemplateData=c;const h=On(i.Rows);this.itemStaticData=h;const d=Dn(a.Rows);this.itemTableData=d;const p=Nn(r==null?void 0:r.Rows,{itemTemplateData:c,itemStaticData:h,itemTableData:d});this.recipeData=p,this.recipeOptions=Object.values(p),this.isLoadingRecipes=!1,console.log({itemTemplateData:c,itemStaticData:h,itemTableData:d,recipeData:p}),console.log(`Processed data in ${performance.now()-u}ms`)}}});const jn=O(),Vn={name:"CraftingToolItemSelector",components:{Plus:gt},props:{},data(){return{searchValue:null}},computed:{...Z(O,["recipeData","isLoadingRecipes","filteredRecipeOptions","settings"])},methods:{...ye(O,["addItem"]),onSearch:Ne.debounce(e=>{jn.recipeSearch=e},250)}},qn={class:"mb-3 flex align-items-center"},Wn={class:"flex-shrink-0 ml-3"},Hn={key:0,class:"p-3 font-italic"},Qn=["onClick"],Un={class:"relative flex align-items-center"},Gn={key:0,class:"item-counter"},Kn={class:"flex-shrink",style:{"min-width":"0"}},Jn=["item-id"],Yn=["innerHTML"],Xn={key:1};function Zn(e,t,n,s,i,o){const a=v("n-input"),l=v("n-checkbox"),r=v("n-tooltip"),u=v("n-image"),c=v("Plus"),h=v("n-icon"),d=v("n-button"),p=v("RecycleScroller"),_=v("n-card"),S=v("n-spin");return x(),T("div",null,[m("div",qn,[g(a,{type:"text",value:i.searchValue,"onUpdate:value":t[0]||(t[0]=f=>i.searchValue=f),placeholder:"Search...",clearable:"",onInput:o.onSearch},null,8,["value","onInput"]),m("div",Wn,[g(r,{trigger:"hover",placement:"right"},{trigger:w(()=>[g(l,{checked:e.settings.searchFuzzyMatch,"onUpdate:checked":t[1]||(t[1]=f=>e.settings.searchFuzzyMatch=f)},{default:w(()=>[A("Fuzzy search")]),_:1},8,["checked"])]),default:w(()=>[A(" Allows partial text matches, sorted by match quality ")]),_:1})])]),g(S,{show:e.isLoadingRecipes},{default:w(()=>[g(_,{class:"scroll-wrap","content-style":"padding: 0;"},{default:w(()=>[e.filteredRecipeOptions.length===0?(x(),T("div",Hn,"No matching items found.")):W("",!0),g(p,{class:"scroller",items:e.filteredRecipeOptions,"item-size":40,"key-field":"id"},{default:w(({index:f,item:y})=>{var k;return[m("div",{class:"recipe-item flex align-items-center",onClick:R=>e.addItem(y.id)},[m("div",Un,[g(u,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${y.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!0},null,8,["src"]),((k=e.recipeData[y.id])==null?void 0:k.outputQuantity)>1?(x(),T("div",Gn,"x"+z(e.recipeData[y.id].outputQuantity),1)):W("",!0)]),m("div",Kn,[m("div",{class:"label text-overflow-ellipsis","item-id":y.id},[y.highlightedLabel?(x(),T("span",{key:0,innerHTML:y.highlightedLabel},null,8,Yn)):(x(),T("span",Xn,z(y.label),1))],8,Jn)]),g(r,{trigger:"hover"},{trigger:w(()=>[g(d,{class:"hover-button ml-auto",secondary:"",type:"default",size:"small"},{default:w(()=>[g(h,{size:"13"},{default:w(()=>[g(c)]),_:1})]),_:1})]),default:w(()=>[A(" Add to list ")]),_:1})],8,Qn)]}),_:1},8,["items"])]),_:1})]),_:1},8,["show"])])}const es=U(Vn,[["render",Zn],["__scopeId","data-v-69bc0aa3"]]);const ts={name:"CraftingToolManageTab",components:{Times:De},props:{tab:{type:Object,required:!0}},emits:["onTitleChanged","removeTab"],data(){return{}},computed:{...Z(O,["tabs","tabCount"])},methods:{onTitleChanged(){this.$emit("updateTab",{tabId:this.tab.id,title:this.tab.title})},removeTab(){this.$emit("removeTab",{tabId:this.tab.id})}}},ns=e=>(Le("data-v-cc2fa8c1"),e=e(),Oe(),e),ss={class:"manage-tab flex align-items-center"},is={class:"flex-grow-1 flex align-items-center"},os={class:"flex align-items-center"},as=ns(()=>m("span",{class:"flex-shrink-0 mr-3"},"List Name:",-1));function rs(e,t,n,s,i,o){const a=v("n-input"),l=v("Times"),r=v("n-icon"),u=v("n-button"),c=v("n-tooltip");return x(),T("div",ss,[m("div",is,[m("div",os,[as,g(a,{type:"text",value:n.tab.title,"onUpdate:value":[t[0]||(t[0]=h=>n.tab.title=h),o.onTitleChanged],valueModifiers:{lazy:!0},placeholder:"Name"},null,8,["value","onUpdate:value"])])]),e.tabCount>1?(x(),Q(c,{key:0,trigger:"hover"},{trigger:w(()=>[g(u,{class:"",secondary:"",type:"error",onClick:o.removeTab},{default:w(()=>[g(r,{size:"20"},{default:w(()=>[g(l)]),_:1})]),_:1},8,["onClick"])]),default:w(()=>[A(" Delete Tab ")]),_:1})):W("",!0)])}const cs=U(ts,[["render",rs],["__scopeId","data-v-cc2fa8c1"]]);const ls={name:"CraftingToolComponentSourcePicker",components:{},props:{componentId:{type:String,required:!0}},data(){return{itemLabelMap:X}},computed:{...Z(O,["recipeData"])},methods:{setComponentPreferredSource(e,t){this.recipeData[e].preferredSource=t,this.$emit("change")}}};function us(e,t,n,s,i,o){const a=v("n-button"),l=v("n-button-group");return e.recipeData[n.componentId]?(x(),Q(l,{key:0,size:"small"},{default:w(()=>[(x(!0),T(J,null,Y(e.recipeData[n.componentId].sources,(r,u)=>(x(),Q(a,{key:r,class:"mx-1",size:"tiny",ghost:"",type:"info",style:ct([e.recipeData[n.componentId].preferredSource===r?null:"--n-border: 1px solid rgba(255, 255, 255, 0.2); --n-text-color: #bbb"]),onClick:c=>o.setComponentPreferredSource(n.componentId,r)},{default:w(()=>{var c;return[m("span",null,z(((c=e.recipeData[r])==null?void 0:c.label)??i.itemLabelMap[r]??r),1)]}),_:2},1032,["style","onClick"]))),128))]),_:1})):W("",!0)}const hs=U(ls,[["render",us]]);const ds={name:"CraftingToolCalculator",components:{ComponentSourcePicker:hs,SortAlphaDown:wt,Times:De},props:{tab:{type:Object,required:!0}},data(){return{itemLabelMap:X,requiredItemData:{},requiredCraftingStations:[],requiredComponents:[]}},watch:{includeSubComponents(e){e||this.setIncludeStationComponents(!1),this.triggerCalc()},includeStationComponents(e){e&&this.setIncludeSubComponents(!0),this.triggerCalc()}},computed:{...Z(O,["recipeData","itemTableData","isLoadingRecipes","settings"]),...Ze(O,["includeSubComponents","includeStationComponents"])},methods:{...ye(O,["setIncludeSubComponents","setIncludeStationComponents"]),sortInputs(){this.tab.items.sort((e,t)=>{const n=this.recipeData[e.id].label,s=this.recipeData[t.id].label;return n.localeCompare(s)})},onQuantityChange(e){e.quantity<1?this.$nextTick(()=>{this.removeItem(e),this.triggerCalc()}):this.$nextTick(()=>{this.triggerCalc()})},validateQuantity(e){return Number.isInteger(e)},removeItem(e){const t=(this.tab.items||[]).findIndex(n=>n.id===e.id);t>-1&&this.tab.items.splice(t,1)},triggerCalc:Ne.debounce(function(){this.calculateRequiredItems()},100),calculateRequiredItems(){const e=this.tab.items||[],t=this.recipeData,n=this.includeSubComponents,s=this.includeStationComponents,i={},o=new Set([]);function a(c=[],h={}){return c.forEach(d=>{const p=t[d.id];if(!p)return;const _=(d.quantity??1)/p.outputQuantity;(p.inputs||[]).forEach(S=>{const f=h[S.id]??0;h[S.id]=f+S.quantity*_;const y=t[S.id];n&&y&&a([{id:S.id,quantity:S.quantity*_}],h)})}),h}function l(){const c=h=>{const d=t[h];d!=null&&d.preferredSource&&o.add(d.preferredSource)};e.map(h=>h.id).forEach(c),Object.keys(i).forEach(c)}a(e,i),l(),s&&(a([...o].map(c=>({id:c})),i),l());const u=Object.keys(i).map(c=>{const h=Math.ceil(i[c]);return{id:c,quantity:h}}).sort((c,h)=>h.quantity-c.quantity);this.requiredCraftingStations=[...o].sort((c,h)=>{var _,S;const d=((_=t[c])==null?void 0:_.label)??X[c]??c,p=((S=t[h])==null?void 0:S.label)??X[h]??h;return d.localeCompare(p)}),this.requiredItemData=i,this.requiredComponents=u}}},K=e=>(Le("data-v-06bf7b4d"),e=e(),Oe(),e),ps={key:0},ms={class:"flex align-items-center"},fs=K(()=>m("h3",null,"Items",-1)),_s={class:"relative flex align-items-center mr-1"},gs={key:0,class:"item-counter"},bs={class:"flex-grow-1"},vs={class:"flex align-items-center pb-1"},ys={class:"flex-shrink"},ws={class:"label text-overflow-ellipsis"},Ss={class:"flex align-items-center flex-grow-1"},Is=K(()=>m("div",{class:"flex align-items-center mt-3"},[m("h3",null,"Components")],-1)),xs={class:"p-1"},Ts={class:"flex align-items-center mb-1"},Cs=K(()=>m("span",null,"Include sub-components",-1)),ks={class:"flex align-items-center mb-3 ml-3"},Ms=K(()=>m("span",null,"Include station components",-1)),Rs={class:"label"},As=K(()=>m("div",{class:"flex align-items-center"},[m("h3",null,"Crafting Stations")],-1)),Es={class:""},$s={class:"recipe-item stations pl-0 flex align-items-center"},Ls={class:"flex align-items-center"},Os={class:"label"},Ds={key:1,class:"mb-3"},Ns=K(()=>m("h3",null,"No Items",-1));function Ps(e,t,n,s,i,o){const a=v("SortAlphaDown"),l=v("n-icon"),r=v("n-button"),u=v("n-tooltip"),c=v("n-image"),h=v("n-input-number"),d=v("component-source-picker"),p=v("Times"),_=v("n-switch"),S=v("n-text");return x(),T("div",null,[!e.isLoadingRecipes&&n.tab.items.length>0?(x(),T("div",ps,[m("div",ms,[fs,g(u,{trigger:"hover"},{trigger:w(()=>[g(r,{class:"ml-3",size:"tiny",secondary:"",circle:"",type:"default",onClick:o.sortInputs},{default:w(()=>[g(l,{size:"13"},{default:w(()=>[g(a)]),_:1})]),_:1},8,["onClick"])]),default:w(()=>[A(" Sort items alphabetically ")]),_:1})]),g(lt,{"x-appear":"",name:"list",tag:"div"},{default:w(()=>[(x(!0),T(J,null,Y(n.tab.items,f=>{var y,k,R;return x(),T("div",{class:"recipe-item flex align-items-center",key:f.id},[m("div",_s,[g(c,{class:"icon",width:"45",src:`/icarus-game/ItemIcons/${(y=e.recipeData[f.id])==null?void 0:y.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),((k=e.recipeData[f.id])==null?void 0:k.outputQuantity)>1?(x(),T("div",gs,"x"+z(e.recipeData[f.id].outputQuantity),1)):W("",!0)]),m("div",bs,[m("div",vs,[m("div",ys,[m("div",ws,z(e.recipeData[f.id].label),1)])]),m("div",Ss,[g(h,{class:"input-quantity flex-shrink-0",value:f.quantity,"onUpdate:value":$=>f.quantity=$,placeholder:"Quantity",min:0,max:1e5,step:((R=e.recipeData[f.id])==null?void 0:R.outputQuantity)??1,validator:o.validateQuantity,"on-update-value":o.onQuantityChange(f)},null,8,["value","onUpdate:value","step","validator","on-update-value"]),g(d,{"component-id":f.id,onChange:t[0]||(t[0]=$=>o.triggerCalc())},null,8,["component-id"]),g(u,{trigger:"hover"},{trigger:w(()=>[g(r,{class:"hover-button ml-auto",secondary:"",type:"error",size:"small",onClick:$=>o.removeItem(f)},{default:w(()=>[g(l,{size:"13"},{default:w(()=>[g(p)]),_:1})]),_:2},1032,["onClick"])]),default:w(()=>[A(" Remove from list ")]),_:2},1024)])])])}),128))]),_:1}),Is,m("div",xs,[m("div",Ts,[g(_,{class:"mr-2",value:e.settings.includeSubComponents,"onUpdate:value":t[1]||(t[1]=f=>e.settings.includeSubComponents=f),size:"small"},null,8,["value"]),Cs]),m("div",ks,[g(_,{class:"mr-2",value:e.settings.includeStationComponents,"onUpdate:value":t[2]||(t[2]=f=>e.settings.includeStationComponents=f),size:"small"},null,8,["value"]),Ms]),m("div",null,[(x(!0),T(J,null,Y(i.requiredComponents,f=>{var y;return x(),T("div",{key:f.id,class:"component-row flex align-items-center"},[m("div",Rs,z(f.quantity)+" "+z(((y=e.recipeData[f.id])==null?void 0:y.label)??i.itemLabelMap[f.id]??f.id),1),g(d,{"component-id":f.id,onChange:t[3]||(t[3]=k=>o.triggerCalc())},null,8,["component-id"])])}),128))])]),As,m("div",Es,[(x(!0),T(J,null,Y(i.requiredCraftingStations,f=>{var y,k;return x(),T("div",$s,[m("div",Ls,[g(c,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${(y=e.recipeData[f])==null?void 0:y.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),m("div",Os,z(((k=e.recipeData[f])==null?void 0:k.label)??i.itemLabelMap[f]??f),1)])])}),256))])])):(x(),T("div",Ds,[Ns,g(S,{type:"info"},{default:w(()=>[A("You haven't added any items to this list yet.")]),_:1})]))])}const zs=U(ds,[["render",Ps],["__scopeId","data-v-06bf7b4d"]]),ie=O(),Fs={name:"CraftingToolTabView",components:{ManageTab:cs,CraftingCalculator:zs},props:[],data(){return{activeTabId:ie.activeTabId,maxTabCount:20,addable:!0,closable:!0}},watch:{activeTabId:function(e){this.setActiveTab(e)}},computed:{...Z(O,["tabs","tabCount","activeTab","isLoadingRecipes"])},methods:{...ye(O,["setActiveTab"]),handleAdd(){},handleClose(){},addTab(){const e=ie.addTab();this.setActiveTab(e.id),this.syncSelectedTab()},removeTab({tabId:e}={}){ie.removeTab(e),this.syncSelectedTab()},syncSelectedTab(){this.activeTabId=ie.activeTabId,this.syncTabBarPosition()},syncTabBarPosition(){this.$nextTick(()=>{var e;(e=this.$refs.tabsInstRef)==null||e.syncBarPosition()})}}},Bs={class:"flex align-items-center mb-3"},js={class:"flex align-items-center ml-auto"},Vs={class:"mr-3"},qs=m("span",null,"Add Tab",-1);function Ws(e,t,n,s,i,o){const a=v("n-button"),l=v("manage-tab"),r=v("crafting-calculator"),u=v("n-tab-pane"),c=v("n-tabs"),h=v("n-card"),d=v("n-spin");return x(),T("div",null,[m("div",Bs,[m("div",js,[m("div",Vs,z(e.tabCount)+" / "+z(i.maxTabCount),1),g(a,{class:"",strong:"",secondary:"",type:"primary",onClick:o.addTab,disabled:e.tabCount===i.maxTabCount},{default:w(()=>[qs]),_:1},8,["onClick","disabled"])])]),g(d,{show:e.isLoadingRecipes},{default:w(()=>[g(h,{class:"overflow-hidden","content-style":"padding: 1rem;"},{default:w(()=>[g(c,{ref:"tabsInstRef",value:i.activeTabId,"onUpdate:value":t[0]||(t[0]=p=>i.activeTabId=p),type:"bar",addable:i.addable,closable:i.closable,"tab-style":""},{default:w(()=>[(x(!0),T(J,null,Y(e.tabs,p=>(x(),Q(u,{tab:p.title,name:p.id,key:p.id},{default:w(()=>[g(l,{tab:p,onUpdateTab:o.syncTabBarPosition,onRemoveTab:o.removeTab},null,8,["tab","onUpdateTab","onRemoveTab"]),g(r,{tab:p},null,8,["tab"])]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value","addable","closable"])]),_:1})]),_:1},8,["show"])])}const Hs=U(Fs,[["render",Ws]]);const Qs=O();Qs.loadRecipeData();const ve=Object.freeze({welcome:1,whatsNew:20231027}),$e=e=>{const t=localStorage.getItem(`alert:version:${e}`);return!t||Number(t)<ve[e]},Us={name:"Icarus",components:{Hammer:pt,ItemSearchView:es,TabsView:Hs},props:[],data(){return{showWelcomeAlert:$e("welcome"),showWhatsNewAlert:$e("whatsNew")}},computed:{},methods:{dismissAlert(e){e&&ve[e]&&localStorage.setItem(`alert:version:${e}`,ve[e])}}},Gs={class:"icarus-wrap p-2 pt-3"},Ks=m("ul",{class:"mb-0 pl-0 list-none"},[m("li",{class:"mb-1"},[A(" Support for "),m("a",{class:"text-primary font-bold",href:"https://store.steampowered.com/news/app/1149460/view/3717218046709215662",target:"_blank"}," Icarus Week 99 Update ")]),m("li",{class:"mb-1"},[A(" 🔄 All your Tabs and Toggle options now persist between sessions. Data saves to "),m("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",target:"_blank",class:"text-primary"},"localStorage"),A(". ")])],-1),Js={class:"flex flex-wrap"},Ys={class:"m-2 text-200 flex align-items-center"},Xs={class:"game-version"},Zs=m("ul",null,[m("li",{class:"line-through"},"Save tab data in localStorage to support session restoration"),m("li",{class:"line-through"},"Show stack size on icons that normally produce more than 1 item"),m("li",{class:"line-through"},"Improve item search matching (fuzzy search)"),m("li",null,'Add way to "check" off items (mark as done)'),m("li",null,"Implement talent options logic to impact component output calculation"),m("li",null,"Indicate which items belong to each Tier (not specified in game data export directly)")],-1),ei=m("div",{class:"m-2"},[m("div",null,[A("Created by "),m("a",{class:"text-primary font-bold",href:"https://github.com/Drumstix42/drumstix42.github.io"},"Drumstix42")]),m("div",null,[A(" This page/site is not affiliated with "),m("a",{class:"text-primary",href:"https://store.steampowered.com/app/1149460/ICARUS/",target:"_blank"},"Icarus"),A(", "),m("a",{class:"text-primary",href:"https://rocketwerkz.com/",target:"_blank"},"RocketWerkz"),A(", or any of its subsidiaries. ")])],-1);function ti(e,t,n,s,i,o){const a=v("n-alert"),l=v("item-search-view"),r=v("n-text"),u=v("n-input"),c=v("tabs-view"),h=v("Hammer"),d=v("n-icon");return x(),T("div",Gs,[i.showWelcomeAlert?(x(),Q(a,{key:0,class:"m-2 mb-3",title:"Crafting Calculator",type:"info",closable:"",onAfterLeave:t[0]||(t[0]=p=>o.dismissAlert("welcome"))},{default:w(()=>[A(" Search and add items from the list below to add them to your to-do list, which will calculate your item requirements. ")]),_:1})):W("",!0),i.showWhatsNewAlert?(x(),Q(a,{key:1,class:"m-2 mb-3",title:"What's New?",type:"success",closable:"",onAfterLeave:t[1]||(t[1]=p=>o.dismissAlert("whatsNew"))},{default:w(()=>[Ks]),_:1})):W("",!0),m("div",Js,[m("div",null,[g(l,{class:"item-selector"}),m("div",Ys,[g(r,{depth:"3",class:"flex-shrink-0"},{default:w(()=>[A("Supports game version")]),_:1}),m("div",Xs,[g(u,{value:"v2.1.2.117241",readonly:""})]),g(r,{depth:"3"},{default:w(()=>[A("2023/10/27")]),_:1})])]),g(c,{class:"tab-view flex-1"})]),g(a,{class:"m-2 mt-3 mb-4",title:"Developer Todo List",type:"default",closable:""},{icon:w(()=>[g(d,{size:"20"},{default:w(()=>[g(h)]),_:1})]),default:w(()=>[Zs]),_:1}),ei])}const oi=U(Us,[["render",ti]]);export{oi as default};
