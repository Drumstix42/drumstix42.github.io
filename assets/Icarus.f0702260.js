var ne=Object.defineProperty,ae=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var Q=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))se.call(t,n)&&Q(e,n,t[n]);if(G)for(var n of G(t))ie.call(t,n)&&Q(e,n,t[n]);return e},E=(e,t)=>ae(e,oe(t));import{G as W,o as f,i as g,e as a,H as le,I as re,J as F,K as J,r as d,a as r,w as _,L as P,M as R,f as x,c as B,O as K,P as X,Q as M,R as O,S as ce,T as de}from"./vendor.ebafb8a8.js";import{_ as q}from"./icarus.14b779e0.js";import"./style.79205ed0.js";const ue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 576 512"},me=a("path",{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31l-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z",fill:"currentColor"},null,-1),pe=[me];var _e=W({name:"Hammer",render:function(t,n){return f(),g("svg",ue,pe)}});const he={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},be=a("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),fe=[be];var ve=W({name:"Plus",render:function(t,n){return f(),g("svg",he,fe)}});const ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Ce=a("path",{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z",fill:"currentColor"},null,-1),we=[Ce];var ye=W({name:"SortAlphaDown",render:function(t,n){return f(),g("svg",ge,we)}});const Ie={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 352 512"},Te=a("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),Se=[Te];var Y=W({name:"Times",render:function(t,n){return f(),g("svg",Ie,Se)}});function V(e,t,n){var i,o,c,m,h;t==null&&(t=100);function b(){var l=Date.now()-m;l<t&&l>=0?i=setTimeout(b,t-l):(i=null,n||(h=e.apply(c,o),c=o=null))}var v=function(){c=this,o=arguments,m=Date.now();var l=n&&!i;return i||(i=setTimeout(b,t)),l&&(h=e.apply(c,o),c=o=null),h};return v.clear=function(){i&&(clearTimeout(i),i=null)},v.flush=function(){i&&(h=e.apply(c,o),c=o=null,clearTimeout(i),i=null)},v}V.debounce=V;var Z=V;const xe=Object.freeze({Basic_Oxite_Dissolver:!0,Charcoal:!0}),L=Object.freeze({Bauxite:"Aluminum Ore",Copper_Ore:"Copper Ore",Iron_Ore:"Iron Ore",Gold_Ore:"Gold Ore",Metal_Ore:"Iron Ore",Coal_Ore:"Coal Ore",Platinum_Ore:"Platinum Ore",Titanium_Ore:"Titanium Ore",Refined_Metal:"Iron Ingot",Refined_Copper:"Copper Ingot",Refined_Gold:"Gold Ingot",Metal_Axe:"Iron Axe",Metal_Bolt:"Iron Bolt",Metal_Crate_Medium:"Iron Crate Medium",Metal_Crate_Small:"Iron Crate Small",Metal_Cupboard:"Iron Cupboard",Metal_Knife:"Iron Knife",Metal_Pickaxe:"Iron Pickaxe",Metal_Spear:"Iron Spear",Carpentry_Bench_T4:"Electric Carpentry Bench",Masonry_Bench_T4:"Electric Masonry Bench",Stick_Talent:"Stick (Talent)",Talent_Leather_Rope:"Rope (Talent)",Armor_Bench:"Textiles Bench",Rope_Armor_Bench:"Rope (Armor Bench)",Epoxy_2:"Epoxy (Crushed Bone)",Raw_Meat:"Raw Meat",Building_UpgradeTool:"Building Upgrade Tool",Composite_Paste_Plat:"Composite Paste (Platinum)",Food_Cooked_Carrot:"Barbecue Carrot",Food_Cooked_Corn:"Charred Corn",Food_Corn_Soup:"Corn Soup",Food_Creamed_Corn:"Creamed Corn",Food_Cooked_Pumpkin:"Grilled Pumpkin",Food_Cooked_Squash:"Roasted Squash",Food_Meat_Stew:"Meat Stew",Food_Fish_Dish:"Fish Dish",Food_Fried_Soy_Beans:"Fried Soy Beans",Food_Mushroom_Soup:"Mushroom Soup",Food_Fruit_Salad:"Fruit Salad",Food_Roasted_Vegetables:"Roasted Vegetables",Food_Cooked_Mushroom:"Seared Mushroom",Food_Wild_Salad:"Field Salad",Paste_Food_Consumption:"Food Paste",Glass_Bottle_Beer:"Beer Bottle",Glass_Bottle_Wine:"Wine Bottle",Glass_Jar_Jam:"Berry Jam",Wood_Floor_CarpentryBench:"Wood Floor (Carpentry Bench)",Wood_Frame_CarpentryBench:"Wood Frame (Carpentry Bench)",Wood_Ramp_CarpentryBench:"Wood Ramp (Carpentry Bench)",Wood_Wall_Angled_CarpentryBench:"Wood Wall Angled (Carpentry Bench)",Wood_Wall_CarpentryBench:"Wood Wall (Carpentry Bench)",Steel_Bloom2:"Steel Bloom (Ingot)",Spoiled_Meat:"Spoiled Meat",Jerrycan:"Biofuel Can",Platinum_Weave:"Platinum Weave",Platinum_Wave:"Platinum Weave"}),ke=e=>e.replace(/_/g," "),De=e=>{const t=L[e];return t||ke(e)},j=Object.freeze({Stick(e,t,n){e.sources.unshift("Character"),e.preferredSource=e.sources[0]},Stick_Talent(e,t,n){delete n[t]}}),Re=(e="")=>e.replace(/NSLOCTEXT.*", /,"").replace(/\"/g,"").replace(/\)$/,""),$e=(e="")=>e.replace("/Game/Assets/2DArt/UI/Items/Item_Icons/","");function Be(e=[]){const t={};return e.forEach(n=>{var o;const i=n.Name;t[i]||(t[i]={id:i,itemStaticId:(o=n.ItemStaticData)==null?void 0:o.RowName})}),t}function qe(e=[]){const t={};return e.forEach(n=>{var o;const i=n.Name;t[i]||(t[i]={id:i,itemTableId:(o=n.Itemable)==null?void 0:o.RowName})}),t}function Ae(e=[]){const t={};return e.forEach(n=>{const i=n.Name;t[i]||(t[i]={id:i,displayName:Re(n.DisplayName),icon:$e(n.Icon)})}),t}function Me(e=[],{itemTemplateData:t={},itemStaticData:n={},itemTableData:i={}}={}){const o={};return e.forEach(c=>{var p,w,I,T;const m=c.Name;if(xe[m])return;const h=m,b=()=>{var C;const s=(C=c.Outputs[0])==null?void 0:C.Element.RowName;return s&&(s==null?void 0:s.includes(h))?s:null},v=(p=c.Inputs[0])==null?void 0:p.Element.RowName,l=(w=t[h])!=null?w:t[b()],u=(I=n[l==null?void 0:l.itemStaticId])!=null?I:n[v];o[m]={id:m,label:De(m),iconPath:(T=i[u==null?void 0:u.itemTableId])==null?void 0:T.icon,inputs:[],sources:[],preferredSource:null,outputQuantity:1},(c.Inputs||[]).forEach(s=>{o[m].inputs.push({id:s.Element.RowName,quantity:s.Count})}),(c.RecipeSets||[]).forEach(s=>{o[m].sources.push(s.RowName)}),o[m].preferredSource=o[m].sources[0],(c.Outputs||[]).forEach(s=>{(m===s.Element.RowName||m.includes(s.Element.RowName))&&(o[m].outputQuantity=s.Count)})}),Oe(o)}function Oe(e={}){return Object.keys(e).forEach(t=>{var i;const n=e[t];(i=j[t])==null||i.call(j,n,t,e)}),e}const Le=()=>Date.now(),ee=()=>le({id:Le(),title:"Planning",items:[]}),U=(e,t)=>t.findIndex(n=>n.id===e),te=ee(),Pe=te.id,k=re("icarus",{state:()=>({activeTabId:Pe,tabs:[te],itemTemplateData:{},itemStaticData:{},itemTableData:{},recipeData:{},recipeOptions:[],isLoadingRecipes:!1,recipeSearch:""}),getters:{activeTab:e=>e.tabs.find(t=>t.id===e.activeTabId),tabCount(){return this.tabs.length},sortedRecipeOptions(e){return e.recipeOptions.sort((t,n)=>t.label.localeCompare(n.label))},filteredRecipeOptions(e){if(e.recipeSearch){const t=e.recipeSearch.toLowerCase();return this.sortedRecipeOptions.filter(n=>n.label.toLowerCase().includes(t))}return this.sortedRecipeOptions}},actions:{addTab(){const e=ee();return this.tabs.push(e),e},removeTab(e){const t=U(e,this.tabs);if(t!==-1)this.tabs.splice(t,1);else{console.error(`Could not find tab with id ${e}`,this.tabs);return}const n=Math.min(t,this.tabs.length-1),i=this.tabs[n];this.activeTabId=i.id},setActiveTab(e){this.activeTabId=e},setTabTitle(e,t){const n=U(e,this.tabs);n!==-1&&(this.tabs[n].title=t)},addItem(e,t=1){var i;const n=this.activeTab;if(n){const o=n.items.find(m=>m.id===e),c=(i=this.recipeData[e].outputQuantity)!=null?i:1;o?o.quantity+=c:n.items.push({id:e,quantity:c})}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},removeItem(e){const t=this.activeTab;if(t){const n=t.items.findIndex(i=>i.id===e);t.items.splice(n,1)}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},async loadRecipeData(){this.isLoadingRecipes=!0;const t=await(await fetch("/icarus-game/Data/ItemTemplate.json",{method:"GET",headers:{"Content-Type":"application/json"}})).json(),i=await(await fetch("/icarus-game/Data/ItemStatic.json",{method:"GET",headers:{"Content-Type":"application/json"}})).json(),c=await(await fetch("/icarus-game/Data/ItemTable.json",{method:"GET",headers:{"Content-Type":"application/json"}})).json(),h=await(await fetch("/icarus-game/Data/Recipes.json",{method:"GET",headers:{"Content-Type":"application/json"}})).json(),b=performance.now(),v=Be(t.Rows);this.itemTemplateData=v;const l=qe(i.Rows);this.itemStaticData=l;const u=Ae(c.Rows);this.itemTableData=u;const p=Me(h==null?void 0:h.Rows,{itemTemplateData:v,itemStaticData:l,itemTableData:u});this.recipeData=p,this.recipeOptions=Object.values(p),this.isLoadingRecipes=!1,console.log({itemTemplateData:v,itemStaticData:l,itemTableData:u,recipeData:p}),console.log(`Processed data in ${performance.now()-b}ms`)}}});const Fe=k(),ze={name:"CraftingToolItemSelector",components:{Plus:ve},props:{},data(){return{searchValue:null}},computed:D({},F(k,["isLoadingRecipes","filteredRecipeOptions"])),methods:E(D({},J(k,["addItem"])),{onSearch:Z.debounce(e=>{Fe.recipeSearch=e},100)})},We={class:"mb-3"},Ee={key:0,class:"p-3 font-italic"},je=["onClick"],Ve={class:"flex-shrink",style:{"min-width":"0"}},Ne={class:"label text-overflow-ellipsis"},Ge=x(" Add to list ");function Qe(e,t,n,i,o,c){const m=d("n-input"),h=d("n-image"),b=d("Plus"),v=d("n-icon"),l=d("n-button"),u=d("n-tooltip"),p=d("RecycleScroller"),w=d("n-card"),I=d("n-spin");return f(),g("div",null,[a("div",We,[r(m,{type:"text",value:o.searchValue,"onUpdate:value":t[0]||(t[0]=T=>o.searchValue=T),placeholder:"Search...",clearable:"",onInput:c.onSearch},null,8,["value","onInput"])]),r(I,{show:e.isLoadingRecipes},{default:_(()=>[r(w,{class:"scroll-wrap","content-style":"padding: 0;"},{default:_(()=>[e.filteredRecipeOptions.length===0?(f(),g("div",Ee,"No matching items found.")):P("",!0),r(p,{class:"scroller",items:e.filteredRecipeOptions,"item-size":40,"key-field":"id"},{default:_(({index:T,item:s})=>[a("div",{class:"recipe-item flex align-items-center",onClick:C=>e.addItem(s.id)},[r(h,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${s.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!0},null,8,["src"]),a("div",Ve,[a("div",Ne,R(s.label),1)]),r(u,{trigger:"hover"},{trigger:_(()=>[r(l,{class:"hover-button ml-auto",secondary:"",type:"default",size:"small"},{default:_(()=>[r(v,{size:"13"},{default:_(()=>[r(b)]),_:1})]),_:1})]),default:_(()=>[Ge]),_:1})],8,je)]),_:1},8,["items"])]),_:1})]),_:1},8,["show"])])}var Ue=q(ze,[["render",Qe],["__scopeId","data-v-43d5615c"]]);const He={name:"CraftingToolManageTab",components:{Times:Y},props:{tab:{type:Object,required:!0}},emits:["removeTab"],data(){return{}},computed:D({},F(k,["tabs","tabCount"])),methods:{removeTab(){this.$emit("removeTab",{tabId:this.tab.id})}}},Je=e=>(K("data-v-6163a402"),e=e(),X(),e),Ke={class:"manage-tab flex align-items-center"},Xe={class:"flex-grow-1 flex align-items-center"},Ye={class:"flex align-items-center"},Ze=Je(()=>a("span",{class:"flex-shrink-0 mr-3"},"List Name:",-1)),et=x(" Delete Tab ");function tt(e,t,n,i,o,c){const m=d("n-input"),h=d("Times"),b=d("n-icon"),v=d("n-button"),l=d("n-tooltip");return f(),g("div",Ke,[a("div",Xe,[a("div",Ye,[Ze,r(m,{type:"text",value:n.tab.title,"onUpdate:value":t[0]||(t[0]=u=>n.tab.title=u),placeholder:"Name"},null,8,["value"])])]),e.tabCount>1?(f(),B(l,{key:0,trigger:"hover"},{trigger:_(()=>[r(v,{class:"",secondary:"",type:"error",onClick:c.removeTab},{default:_(()=>[r(b,{size:"20"},{default:_(()=>[r(h)]),_:1})]),_:1},8,["onClick"])]),default:_(()=>[et]),_:1})):P("",!0)])}var nt=q(He,[["render",tt],["__scopeId","data-v-6163a402"]]);const at={name:"CraftingToolComponentSourcePicker",components:{},props:{componentId:{type:String,required:!0}},data(){return{itemLabelMap:L}},computed:D({},F(k,["recipeData"])),methods:{setComponentPreferredSource(e,t){this.recipeData[e].preferredSource=t,this.$emit("change")}}};function ot(e,t,n,i,o,c){const m=d("n-button"),h=d("n-button-group");return e.recipeData[n.componentId]?(f(),B(h,{key:0,size:"small"},{default:_(()=>[(f(!0),g(O,null,M(e.recipeData[n.componentId].sources,(b,v)=>(f(),B(m,{key:b,class:"mx-1",size:"tiny",ghost:"",type:"info",style:ce([e.recipeData[n.componentId].preferredSource===b?null:"--n-border: 1px solid rgba(255, 255, 255, 0.2); --n-text-color: #bbb"]),onClick:l=>c.setComponentPreferredSource(n.componentId,b)},{default:_(()=>{var l,u,p;return[a("span",null,R((p=(u=(l=e.recipeData[b])==null?void 0:l.label)!=null?u:o.itemLabelMap[b])!=null?p:b),1)]}),_:2},1032,["style","onClick"]))),128))]),_:1})):P("",!0)}var st=q(at,[["render",ot]]);const it={name:"CraftingToolCalculator",components:{ComponentSourcePicker:st,SortAlphaDown:ye,Times:Y},props:{tab:{type:Object,required:!0}},data(){return{itemLabelMap:L,requiredItemData:{},requiredCraftingStations:[],requiredComponents:[],includeSubComponents:!1,includeCraftingStations:!1}},watch:{includeSubComponents(e){e||(this.includeCraftingStations=!1),this.triggerCalc()},includeCraftingStations(e){e&&(this.includeSubComponents=!0),this.triggerCalc()}},computed:D({},F(k,["recipeData","itemTableData"])),methods:{sortInputs(){this.tab.items.sort((e,t)=>{const n=this.recipeData[e.id].label,i=this.recipeData[t.id].label;return n.localeCompare(i)})},onQuantityChange(e){e.quantity<1?this.$nextTick(()=>{this.removeItem(e),this.triggerCalc()}):this.$nextTick(()=>{this.triggerCalc()})},validateQuantity(e){return Number.isInteger(e)},removeItem(e){const t=(this.tab.items||[]).findIndex(n=>n.id===e.id);t>-1&&this.tab.items.splice(t,1)},triggerCalc:Z.debounce(function(){this.calculateRequiredItems()},100),calculateRequiredItems(){const e=this.tab.items||[],t=this.recipeData,n=this.includeSubComponents,i=this.includeCraftingStations,o={},c=new Set([]);function m(l=[],u={}){return l.forEach(p=>{var T;const w=t[p.id];if(!w)return;const I=((T=p.quantity)!=null?T:1)/w.outputQuantity;(w.inputs||[]).forEach(s=>{var y;const C=(y=u[s.id])!=null?y:0;u[s.id]=C+s.quantity*I;const S=t[s.id];n&&S&&m([{id:s.id,quantity:s.quantity*I}],u)})}),u}function h(){const l=u=>{const p=t[u];(p==null?void 0:p.preferredSource)&&c.add(p.preferredSource)};e.map(u=>u.id).forEach(l),Object.keys(o).forEach(l)}m(e,o),h(),i&&(m([...c].map(l=>({id:l})),o),h());const v=Object.keys(o).map(l=>{const u=Math.ceil(o[l]);return{id:l,quantity:u}}).sort((l,u)=>u.quantity-l.quantity);this.requiredCraftingStations=[...c].sort((l,u)=>{var I,T,s,C,S,y;const p=(s=(T=(I=t[l])==null?void 0:I.label)!=null?T:L[l])!=null?s:l,w=(y=(S=(C=t[u])==null?void 0:C.label)!=null?S:L[u])!=null?y:u;return p.localeCompare(w)}),this.requiredItemData=o,this.requiredComponents=v}}},A=e=>(K("data-v-28868546"),e=e(),X(),e),lt={key:0},rt={class:"flex align-items-center"},ct=A(()=>a("h3",null,"Items",-1)),dt=x(" Sort items alphabetically "),ut={class:"flex-shrink label-wrap"},mt={class:"label text-overflow-ellipsis"},pt=x(" Remove from list "),_t=A(()=>a("div",{class:"flex align-items-center mt-3"},[a("h3",null,"Components")],-1)),ht={class:"p-1"},bt={class:"flex align-items-center mb-1"},ft=A(()=>a("span",null,"Include sub-components",-1)),vt={class:"flex align-items-center mb-3 ml-3"},gt=A(()=>a("span",null,"Include station components",-1)),Ct={class:"label"},wt=A(()=>a("div",{class:"flex align-items-center"},[a("h3",null,"Crafting Stations")],-1)),yt={class:""},It={class:"recipe-item pl-0 flex align-items-center"},Tt={class:"flex align-items-center"},St={class:"label"},xt={key:1,class:"mb-3"},kt=A(()=>a("h3",null,"No Items",-1)),Dt=x("You haven't added any items to this list yet.");function Rt(e,t,n,i,o,c){const m=d("SortAlphaDown"),h=d("n-icon"),b=d("n-button"),v=d("n-tooltip"),l=d("n-input-number"),u=d("n-image"),p=d("component-source-picker"),w=d("Times"),I=d("n-switch"),T=d("n-text");return f(),g("div",null,[n.tab.items.length>0?(f(),g("div",lt,[a("div",rt,[ct,r(v,{trigger:"hover"},{trigger:_(()=>[r(b,{class:"ml-3",size:"tiny",secondary:"",circle:"",type:"default",onClick:c.sortInputs},{default:_(()=>[r(h,{size:"13"},{default:_(()=>[r(m)]),_:1})]),_:1},8,["onClick"])]),default:_(()=>[dt]),_:1})]),r(de,{"x-appear":"",name:"list",tag:"div"},{default:_(()=>[(f(!0),g(O,null,M(n.tab.items,s=>{var C,S,y;return f(),g("div",{class:"recipe-item flex align-items-center",key:s.id},[r(l,{class:"input-quantity flex-shrink-0",value:s.quantity,"onUpdate:value":$=>s.quantity=$,placeholder:"Quantity",min:0,max:1e5,step:(S=(C=e.recipeData[s.id])==null?void 0:C.outputQuantity)!=null?S:1,validator:c.validateQuantity,"on-update-value":c.onQuantityChange(s)},null,8,["value","onUpdate:value","step","validator","on-update-value"]),r(u,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${(y=e.recipeData[s.id])==null?void 0:y.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),a("div",ut,[a("div",mt,R(e.recipeData[s.id].label),1)]),r(p,{"component-id":s.id,onChange:t[0]||(t[0]=$=>c.triggerCalc())},null,8,["component-id"]),r(v,{trigger:"hover"},{trigger:_(()=>[r(b,{class:"hover-button ml-auto",secondary:"",type:"error",size:"small",onClick:$=>c.removeItem(s)},{default:_(()=>[r(h,{size:"13"},{default:_(()=>[r(w)]),_:1})]),_:2},1032,["onClick"])]),default:_(()=>[pt]),_:2},1024)])}),128))]),_:1}),_t,a("div",ht,[a("div",bt,[r(I,{class:"mr-2",value:o.includeSubComponents,"onUpdate:value":t[1]||(t[1]=s=>o.includeSubComponents=s),size:"small"},null,8,["value"]),ft]),a("div",vt,[r(I,{class:"mr-2",value:o.includeCraftingStations,"onUpdate:value":t[2]||(t[2]=s=>o.includeCraftingStations=s),size:"small"},null,8,["value"]),gt]),a("div",null,[(f(!0),g(O,null,M(o.requiredComponents,s=>{var C,S,y;return f(),g("div",{key:s.id,class:"component-row flex align-items-center"},[a("div",Ct,R(s.quantity)+" "+R((y=(S=(C=e.recipeData[s.id])==null?void 0:C.label)!=null?S:o.itemLabelMap[s.id])!=null?y:s.id),1),r(p,{"component-id":s.id,onChange:t[3]||(t[3]=$=>c.triggerCalc())},null,8,["component-id"])])}),128))])]),wt,a("div",yt,[(f(!0),g(O,null,M(o.requiredCraftingStations,s=>{var C,S,y,$;return f(),g("div",It,[a("div",Tt,[r(u,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${(C=e.recipeData[s])==null?void 0:C.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),a("div",St,R(($=(y=(S=e.recipeData[s])==null?void 0:S.label)!=null?y:o.itemLabelMap[s])!=null?$:s),1)])])}),256))])])):(f(),g("div",xt,[kt,r(T,{type:"info"},{default:_(()=>[Dt]),_:1})]))])}var $t=q(it,[["render",Rt],["__scopeId","data-v-28868546"]]);const z=k(),Bt={name:"CraftingToolTabView",components:{ManageTab:nt,CraftingCalculator:$t},props:[],data(){return{activeTabId:z.activeTabId,maxTabCount:20,addable:!0,closable:!0}},watch:{activeTabId:function(e){this.setActiveTab(e)}},computed:D({},F(k,["tabs","tabCount","activeTab"])),methods:E(D({},J(k,["setActiveTab"])),{handleAdd(){},handleClose(){},addTab(){const e=z.addTab();this.setActiveTab(e.id),this.syncSelectedTab()},removeTab({tabId:e}={}){z.removeTab(e),this.syncSelectedTab()},syncSelectedTab(){this.activeTabId=z.activeTabId,this.$nextTick(()=>{var e;(e=this.$refs.tabsInstRef)==null||e.syncBarPosition()})}})},qt={class:"flex align-items-center mb-3"},At={class:"flex align-items-center ml-auto"},Mt={class:"mr-3"},Ot=a("span",null,"Add Tab",-1);function Lt(e,t,n,i,o,c){const m=d("n-button"),h=d("manage-tab"),b=d("crafting-calculator"),v=d("n-tab-pane"),l=d("n-tabs"),u=d("n-card");return f(),g("div",null,[a("div",qt,[a("div",At,[a("div",Mt,R(e.tabCount)+" / "+R(o.maxTabCount),1),r(m,{class:"",strong:"",secondary:"",type:"primary",onClick:c.addTab,disabled:e.tabCount===o.maxTabCount},{default:_(()=>[Ot]),_:1},8,["onClick","disabled"])])]),r(u,{class:"overflow-hidden"},{default:_(()=>[r(l,{ref:"tabsInstRef",value:o.activeTabId,"onUpdate:value":t[0]||(t[0]=p=>o.activeTabId=p),type:"bar",addable:o.addable,closable:o.closable,"tab-style":""},{default:_(()=>[(f(!0),g(O,null,M(e.tabs,p=>(f(),B(v,{tab:p.title,name:p.id,key:p.id},{default:_(()=>[r(h,{tab:p,onRemoveTab:c.removeTab},null,8,["tab","onRemoveTab"]),r(b,{tab:p},null,8,["tab"])]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value","addable","closable"])]),_:1})])}var Pt=q(Bt,[["render",Lt]]);const Ft=k();Ft.loadRecipeData();const N=Object.freeze({welcome:1,whatsNew:20220924}),H=e=>{const t=localStorage.getItem(`alert:version:${e}`);return!t||Number(t)<N[e]},zt={name:"Icarus",components:{Hammer:_e,ItemSearchView:Ue,TabsView:Pt},props:[],data(){return{showWelcomeAlert:H("welcome"),showWhatsNewAlert:H("whatsNew")}},computed:{},methods:{dismissAlert(e){e&&N[e]&&localStorage.setItem(`alert:version:${e}`,N[e])}}},Wt={class:"icarus-wrap p-2 pt-3"},Et=x(" Search and add items from the list below to add them to your to-do list, which will calculate your item requirements. "),jt=a("ul",{class:"mb-0"},[a("li",null,[x(" Support for "),a("a",{class:"text-primary font-bold",href:"https://store.steampowered.com/news/app/1149460/view/3310732036321885507",target:"_blank"},"Icarus Week Forty Two Update | Tame and Ride the new Buffalo and Moa Mounts")]),a("li",null,"In-game image icons have been mapped to all of the recipes and crafting stations.")],-1),Vt={class:"flex flex-wrap"},Nt={class:"m-2 text-200 flex align-items-center"},Gt=x("Supports game version"),Qt={class:"game-version"},Ut=x("2022/09/23"),Ht=a("ul",null,[a("li",null," Improve any mismatching item labels vs what shows in-game (labels from game data export are not perfect, and must be mapped manually) "),a("li",null,"Resolve remaining item icon mis-matches (game data export doesn't match image export)"),a("li",null,"Save tab data in localStorage to support session restoration"),a("li",null,"Show stack size on icons that normally produce more than 1 item"),a("li",null,"Implement talent options logic to impact component output calculation"),a("li",null,"Indicate which items belong to each Tier (not specified in game data export directly)"),a("li",null,"Improve item search matching (scrubby search)"),a("li",null,'Add way to "check" off items (mark as done)')],-1),Jt=a("div",{class:"m-2"},[a("div",null,[x("Created by "),a("a",{class:"text-primary font-bold",href:"https://github.com/Drumstix42/drumstix42.github.io"},"Drumstix42")]),a("div",null,[x(" This page/site is not affiliated with "),a("a",{class:"text-primary",href:"https://store.steampowered.com/app/1149460/ICARUS/",target:"_blank"},"Icarus"),x(", "),a("a",{class:"text-primary",href:"https://rocketwerkz.com/",target:"_blank"},"RocketWerkz"),x(", or any of its subsidiaries. ")])],-1);function Kt(e,t,n,i,o,c){const m=d("n-alert"),h=d("item-search-view"),b=d("n-text"),v=d("n-input"),l=d("tabs-view"),u=d("Hammer"),p=d("n-icon");return f(),g("div",Wt,[o.showWelcomeAlert?(f(),B(m,{key:0,class:"m-2 mb-3",title:"Crafting Calculator",type:"info",closable:"",onAfterLeave:t[0]||(t[0]=w=>c.dismissAlert("welcome"))},{default:_(()=>[Et]),_:1})):P("",!0),o.showWhatsNewAlert?(f(),B(m,{key:1,class:"m-2 mb-3",title:"What's New?",type:"success",closable:"",onAfterLeave:t[1]||(t[1]=w=>c.dismissAlert("whatsNew"))},{default:_(()=>[jt]),_:1})):P("",!0),a("div",Vt,[a("div",null,[r(h,{class:"item-selector"}),a("div",Nt,[r(b,{depth:"3",class:"flex-shrink-0"},{default:_(()=>[Gt]),_:1}),a("div",Qt,[r(v,{value:"v1.2.17.101928",readonly:""},null,8,["value"])]),r(b,{depth:"3"},{default:_(()=>[Ut]),_:1})])]),r(l,{class:"tab-view flex-1"})]),r(m,{class:"m-2 mt-3 mb-4",title:"Calculator Todo List",type:"default",closable:""},{icon:_(()=>[r(p,{size:"20"},{default:_(()=>[r(u)]),_:1})]),default:_(()=>[Ht]),_:1}),Jt])}var tn=q(zt,[["render",Kt]]);export{tn as default};
