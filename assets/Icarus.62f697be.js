var ee=Object.defineProperty,te=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var G=(e,t,n)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))oe.call(t,n)&&G(e,n,t[n]);if(j)for(var n of j(t))ae.call(t,n)&&G(e,n,t[n]);return e},E=(e,t)=>te(e,ne(t));import{G as P,i as v,o as m,e as o,H as se,I as ie,J as F,K as U,r as l,a as s,w as d,L as V,M as R,f as I,c as A,O as J,P as N,Q as M,R as O,S as re,T as le}from"./vendor.39d7f36a.js";import{_ as D}from"./icarus.9bee8e9d.js";import"./style.79205ed0.js";const ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 576 512"},de=o("path",{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31l-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z",fill:"currentColor"},null,-1),ue=[de];var _e=P({name:"Hammer",render:function(t,n){return m(),v("svg",ce,ue)}});const pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},me=o("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),he=[me];var be=P({name:"Plus",render:function(t,n){return m(),v("svg",pe,he)}});const fe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},ve=o("path",{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z",fill:"currentColor"},null,-1),ge=[ve];var Ce=P({name:"SortAlphaDown",render:function(t,n){return m(),v("svg",fe,ge)}});const ye={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 352 512"},we=o("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),Ie=[we];var K=P({name:"Times",render:function(t,n){return m(),v("svg",ye,Ie)}});function W(e,t,n){var i,a,u,b,f;t==null&&(t=100);function h(){var c=Date.now()-b;c<t&&c>=0?i=setTimeout(h,t-c):(i=null,n||(f=e.apply(u,a),u=a=null))}var g=function(){u=this,a=arguments,b=Date.now();var c=n&&!i;return i||(i=setTimeout(h,t)),c&&(f=e.apply(u,a),u=a=null),f};return g.clear=function(){i&&(clearTimeout(i),i=null)},g.flush=function(){i&&(f=e.apply(u,a),u=a=null,clearTimeout(i),i=null)},g}W.debounce=W;var Y=W;const Te=Object.freeze({Basic_Oxite_Dissolver:!0}),L=Object.freeze({Bauxite:"Aluminum Ore",Copper_Ore:"Copper Ore",Iron_Ore:"Iron Ore",Gold_Ore:"Gold Ore",Metal_Ore:"Iron Ore",Coal_Ore:"Coal Ore",Platinum_Ore:"Platinum Ore",Titanium_Ore:"Titanium Ore",Refined_Metal:"Iron Ingot",Refined_Copper:"Copper Ingot",Refined_Gold:"Gold Ingot",Metal_Axe:"Iron Axe",Metal_Bolt:"Iron Bolt",Metal_Crate_Medium:"Iron Crate Medium",Metal_Crate_Small:"Iron Crate Small",Metal_Cupboard:"Iron Cupboard",Metal_Knife:"Iron Knife",Metal_Pickaxe:"Iron Pickaxe",Metal_Spear:"Iron Spear",Carpentry_Bench_T4:"Electric Carpentry Bench",Masonry_Bench_T4:"Electric Masonry Bench",Stick_Talent:"Stick (Talent)",Talent_Leather_Rope:"Rope (Talent)",Armor_Bench:"Textiles Bench",Rope_Armor_Bench:"Rope (Armor Bench)",Epoxy_2:"Epoxy (Crushed Bone)",Raw_Meat:"Raw Meat",Building_UpgradeTool:"Building Upgrade Tool",Composite_Paste_Plat:"Composite Paste (Platinum)",Food_Cooked_Carrot:"Barbecue Carrot",Food_Cooked_Corn:"Charred Corn",Food_Corn_Soup:"Corn Soup",Food_Creamed_Corn:"Creamed Corn",Food_Cooked_Pumpkin:"Grilled Pumpkin",Food_Cooked_Squash:"Roasted Squash",Food_Meat_Stew:"Meat Stew",Food_Fish_Dish:"Fish Dish",Food_Fried_Soy_Beans:"Fried Soy Beans",Food_Mushroom_Soup:"Mushroom Soup",Food_Fruit_Salad:"Fruit Salad",Food_Roasted_Vegetables:"Roasted Vegetables",Food_Cooked_Mushroom:"Seared Mushroom",Food_Wild_Salad:"Field Salad",Paste_Food_Consumption:"Food Paste",Glass_Bottle_Beer:"Beer Bottle",Glass_Bottle_Wine:"Wine Bottle",Glass_Jar_Jam:"Berry Jam",Wood_Floor_CarpentryBench:"Wood Floor (Carpentry Bench)",Wood_Frame_CarpentryBench:"Wood Frame (Carpentry Bench)",Wood_Ramp_CarpentryBench:"Wood Ramp (Carpentry Bench)",Wood_Wall_Angled_CarpentryBench:"Wood Wall Angled (Carpentry Bench)",Wood_Wall_CarpentryBench:"Wood Wall (Carpentry Bench)",Steel_Bloom2:"Steel Bloom (Ingot)"}),Se=e=>e.replace(/_/g," "),xe=e=>{const t=L[e];return t||Se(e)};function ke(e=[]){const t={};return e.forEach(n=>{const i=n.Name;Te[i]||(t[i]={label:xe(i),id:i,inputs:[],sources:[],preferredSource:null,outputQuantity:1},(n.Inputs||[]).forEach(a=>{t[i].inputs.push({id:a.Element.RowName,quantity:a.Count})}),(n.RecipeSets||[]).forEach(a=>{t[i].sources.push(a.RowName)}),t[i].preferredSource=t[i].sources[0],(n.Outputs||[]).forEach(a=>{(i===a.Element.RowName||i.includes(a.Element.RowName))&&(t[i].outputQuantity=a.Count)}))}),t}const $e=()=>Date.now(),X=()=>se({id:$e(),title:"Planning",items:[]}),H=(e,t)=>t.findIndex(n=>n.id===e),Z=X(),Re=Z.id,x=ie("icarus",{state:()=>({activeTabId:Re,tabs:[Z],recipeData:{},recipeOptions:[],isLoadingRecipes:!1,recipeSearch:""}),getters:{activeTab:e=>e.tabs.find(t=>t.id===e.activeTabId),tabCount(){return this.tabs.length},sortedRecipeOptions(e){return e.recipeOptions.sort((t,n)=>t.label.localeCompare(n.label))},filteredRecipeOptions(e){if(e.recipeSearch){const t=e.recipeSearch.toLowerCase();return this.sortedRecipeOptions.filter(n=>n.label.toLowerCase().includes(t))}return this.sortedRecipeOptions}},actions:{addTab(){const e=X();return this.tabs.push(e),e},removeTab(e){const t=H(e,this.tabs);if(t!==-1)this.tabs.splice(t,1);else{console.error(`Could not find tab with id ${e}`,this.tabs);return}const n=Math.min(t,this.tabs.length-1),i=this.tabs[n];this.activeTabId=i.id},setActiveTab(e){this.activeTabId=e},setTabTitle(e,t){const n=H(e,this.tabs);n!==-1&&(this.tabs[n].title=t)},addItem(e,t=1){var i;const n=this.activeTab;if(n){const a=n.items.find(b=>b.id===e),u=(i=this.recipeData[e].outputQuantity)!=null?i:1;a?a.quantity+=u:n.items.push({id:e,quantity:u})}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},removeItem(e){const t=this.activeTab;if(t){const n=t.items.findIndex(i=>i.id===e);t.items.splice(n,1)}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},async loadRecipeData(){this.isLoadingRecipes=!0;const t=await(await fetch("/icarus-game/Data/Recipes.json",{method:"GET",headers:{"Content-Type":"application/json"}})).json(),n=ke(t==null?void 0:t.Rows);console.log(n),this.recipeData=n,this.recipeOptions=Object.values(n),this.isLoadingRecipes=!1}}});const Be=x(),De={name:"CraftingToolItemSelector",components:{Plus:be},props:{},data(){return{searchValue:null}},computed:$({},F(x,["isLoadingRecipes","filteredRecipeOptions"])),methods:E($({},U(x,["addItem"])),{onSearch:Y.debounce(e=>{Be.recipeSearch=e},100)})},qe={class:"mb-3"},Me={key:0,class:"p-3 font-italic"},Oe=["onClick"],Le={class:"flex-shrink",style:{"min-width":"0"}},Ae={class:"label text-overflow-ellipsis"},Fe=I(" Add to list ");function ze(e,t,n,i,a,u){const b=l("n-input"),f=l("n-image"),h=l("Plus"),g=l("n-icon"),c=l("n-button"),_=l("n-tooltip"),p=l("RecycleScroller"),k=l("n-card"),T=l("n-spin");return m(),v("div",null,[o("div",qe,[s(b,{type:"text",value:a.searchValue,"onUpdate:value":t[0]||(t[0]=S=>a.searchValue=S),placeholder:"Search...",clearable:"",onInput:u.onSearch},null,8,["value","onInput"])]),s(T,{show:e.isLoadingRecipes},{default:d(()=>[s(k,{class:"scroll-wrap","content-style":"padding: 0;"},{default:d(()=>[e.filteredRecipeOptions.length===0?(m(),v("div",Me,"No matching items found.")):V("",!0),s(p,{class:"scroller",items:e.filteredRecipeOptions,"item-size":40,"key-field":"id"},{default:d(({index:S,item:r})=>[o("div",{class:"recipe-item flex align-items-center",onClick:C=>e.addItem(r.id)},[s(f,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/ITEM_${r.id}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!0},null,8,["src"]),o("div",Le,[o("div",Ae,R(r.label),1)]),s(_,{trigger:"hover"},{trigger:d(()=>[s(c,{class:"hover-button ml-auto",secondary:"",type:"default",size:"small"},{default:d(()=>[s(g,{size:"13"},{default:d(()=>[s(h)]),_:1})]),_:1})]),default:d(()=>[Fe]),_:1})],8,Oe)]),_:1},8,["items"])]),_:1})]),_:1},8,["show"])])}var Pe=D(De,[["render",ze],["__scopeId","data-v-09eaab22"]]);const Ve={name:"CraftingToolManageTab",components:{Times:K},props:{tab:{type:Object,required:!0}},emits:["removeTab"],data(){return{}},computed:$({},F(x,["tabs","tabCount"])),methods:{removeTab(){this.$emit("removeTab",{tabId:this.tab.id})}}},Ee=e=>(J("data-v-6163a402"),e=e(),N(),e),We={class:"manage-tab flex align-items-center"},Qe={class:"flex-grow-1 flex align-items-center"},je={class:"flex align-items-center"},Ge=Ee(()=>o("span",{class:"flex-shrink-0 mr-3"},"List Name:",-1)),He=I(" Delete Tab ");function Ue(e,t,n,i,a,u){const b=l("n-input"),f=l("Times"),h=l("n-icon"),g=l("n-button"),c=l("n-tooltip");return m(),v("div",We,[o("div",Qe,[o("div",je,[Ge,s(b,{type:"text",value:n.tab.title,"onUpdate:value":t[0]||(t[0]=_=>n.tab.title=_),placeholder:"Name"},null,8,["value"])])]),e.tabCount>1?(m(),A(c,{key:0,trigger:"hover"},{trigger:d(()=>[s(g,{class:"",secondary:"",type:"error",onClick:u.removeTab},{default:d(()=>[s(h,{size:"20"},{default:d(()=>[s(f)]),_:1})]),_:1},8,["onClick"])]),default:d(()=>[He]),_:1})):V("",!0)])}var Je=D(Ve,[["render",Ue],["__scopeId","data-v-6163a402"]]);const Ne={name:"CraftingToolComponentSourcePicker",components:{},props:{componentId:{type:String,required:!0}},data(){return{itemLabelMap:L}},computed:$({},F(x,["recipeData"])),methods:{setComponentPreferredSource(e,t){this.recipeData[e].preferredSource=t,this.$emit("change")}}};function Ke(e,t,n,i,a,u){const b=l("n-button"),f=l("n-button-group");return e.recipeData[n.componentId]?(m(),A(f,{key:0,size:"small"},{default:d(()=>[(m(!0),v(O,null,M(e.recipeData[n.componentId].sources,(h,g)=>(m(),A(b,{key:h,class:"mx-1",size:"tiny",ghost:"",type:"info",style:re([e.recipeData[n.componentId].preferredSource===h?null:"--n-border: 1px solid rgba(255, 255, 255, 0.2); --n-text-color: #bbb"]),onClick:c=>u.setComponentPreferredSource(n.componentId,h)},{default:d(()=>{var c,_,p;return[o("span",null,R((p=(_=(c=e.recipeData[h])==null?void 0:c.label)!=null?_:a.itemLabelMap[h])!=null?p:h),1)]}),_:2},1032,["style","onClick"]))),128))]),_:1})):V("",!0)}var Ye=D(Ne,[["render",Ke]]);const Xe={name:"CraftingToolCalculator",components:{ComponentSourcePicker:Ye,SortAlphaDown:Ce,Times:K},props:{tab:{type:Object,required:!0}},data(){return{itemLabelMap:L,requiredItemData:{},requiredCraftingStations:[],requiredComponents:[],includeSubComponents:!1,includeCraftingStations:!1}},watch:{includeSubComponents(e){e||(this.includeCraftingStations=!1),this.triggerCalc()},includeCraftingStations(e){e&&(this.includeSubComponents=!0),this.triggerCalc()}},computed:$({},F(x,["recipeData"])),methods:{sortInputs(){this.tab.items.sort((e,t)=>{const n=this.recipeData[e.id].label,i=this.recipeData[t.id].label;return n.localeCompare(i)})},onQuantityChange(e){e.quantity<1?this.$nextTick(()=>{this.removeItem(e),this.triggerCalc()}):this.$nextTick(()=>{this.triggerCalc()})},validateQuantity(e){return Number.isInteger(e)},removeItem(e){const t=(this.tab.items||[]).findIndex(n=>n.id===e.id);t>-1&&this.tab.items.splice(t,1)},triggerCalc:Y.debounce(function(){this.calculateRequiredItems()},100),calculateRequiredItems(){const e=this.tab.items||[],t=this.recipeData,n=this.includeSubComponents,i=this.includeCraftingStations,a={},u=new Set([]);function b(c=[],_={}){return c.forEach(p=>{var S;const k=t[p.id];if(!k)return;const T=((S=p.quantity)!=null?S:1)/k.outputQuantity;(k.inputs||[]).forEach(r=>{var y;const C=(y=_[r.id])!=null?y:0;_[r.id]=C+r.quantity*T;const w=t[r.id];n&&w&&b([{id:r.id,quantity:r.quantity*T}],_)})}),_}function f(){const c=_=>{const p=t[_];(p==null?void 0:p.preferredSource)&&u.add(p.preferredSource)};e.map(_=>_.id).forEach(c),Object.keys(a).forEach(c)}b(e,a),f(),i&&(b([...u].map(c=>({id:c})),a),f());const g=Object.keys(a).map(c=>{const _=Math.ceil(a[c]);return{id:c,quantity:_}}).sort((c,_)=>_.quantity-c.quantity);this.requiredCraftingStations=[...u].sort((c,_)=>{var T,S,r,C,w,y;const p=(r=(S=(T=t[c])==null?void 0:T.label)!=null?S:L[c])!=null?r:c,k=(y=(w=(C=t[_])==null?void 0:C.label)!=null?w:L[_])!=null?y:_;return p.localeCompare(k)}),this.requiredItemData=a,this.requiredComponents=g}}},q=e=>(J("data-v-e23eaa14"),e=e(),N(),e),Ze={key:0},et={class:"flex align-items-center"},tt=q(()=>o("h3",null,"Items",-1)),nt=I(" Sort items alphabetically "),ot={class:"flex-shrink label-wrap"},at={class:"label text-overflow-ellipsis"},st=I(" Remove from list "),it=q(()=>o("div",{class:"flex align-items-center mt-3"},[o("h3",null,"Components")],-1)),rt={class:"p-1"},lt={class:"flex align-items-center mb-1"},ct=q(()=>o("span",null,"Include sub-components",-1)),dt={class:"flex align-items-center mb-3 ml-3"},ut=q(()=>o("span",null,"Include station components",-1)),_t={class:"label"},pt=q(()=>o("div",{class:"flex align-items-center"},[o("h3",null,"Crafting Stations")],-1)),mt={class:""},ht={class:"recipe-item pl-0 flex align-items-center"},bt={class:"flex align-items-center"},ft={class:"label"},vt={key:1,class:"mb-3"},gt=q(()=>o("h3",null,"No Items",-1)),Ct=I("You haven't added any items to this list yet.");function yt(e,t,n,i,a,u){const b=l("SortAlphaDown"),f=l("n-icon"),h=l("n-button"),g=l("n-tooltip"),c=l("n-input-number"),_=l("n-image"),p=l("component-source-picker"),k=l("Times"),T=l("n-switch"),S=l("n-text");return m(),v("div",null,[n.tab.items.length>0?(m(),v("div",Ze,[o("div",et,[tt,s(g,{trigger:"hover"},{trigger:d(()=>[s(h,{class:"ml-3",size:"tiny",secondary:"",circle:"",type:"default",onClick:u.sortInputs},{default:d(()=>[s(f,{size:"13"},{default:d(()=>[s(b)]),_:1})]),_:1},8,["onClick"])]),default:d(()=>[nt]),_:1})]),s(le,{"x-appear":"",name:"list",tag:"div"},{default:d(()=>[(m(!0),v(O,null,M(n.tab.items,r=>{var C,w,y;return m(),v("div",{class:"recipe-item flex align-items-center",key:r.id},[s(c,{class:"input-quantity flex-shrink-0",value:r.quantity,"onUpdate:value":B=>r.quantity=B,placeholder:"Quantity",min:0,max:1e5,step:(w=(C=e.recipeData[r.id])==null?void 0:C.outputQuantity)!=null?w:1,validator:u.validateQuantity,"on-update-value":u.onQuantityChange(r)},null,8,["value","onUpdate:value","step","validator","on-update-value"]),s(_,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/ITEM_${(y=e.recipeData[r.id])==null?void 0:y.id}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),o("div",ot,[o("div",at,R(e.recipeData[r.id].label),1)]),s(p,{"component-id":r.id,onChange:t[0]||(t[0]=B=>u.triggerCalc())},null,8,["component-id"]),s(g,{trigger:"hover"},{trigger:d(()=>[s(h,{class:"hover-button ml-auto",secondary:"",type:"error",size:"small",onClick:B=>u.removeItem(r)},{default:d(()=>[s(f,{size:"13"},{default:d(()=>[s(k)]),_:1})]),_:2},1032,["onClick"])]),default:d(()=>[st]),_:2},1024)])}),128))]),_:1}),it,o("div",rt,[o("div",lt,[s(T,{class:"mr-2",value:a.includeSubComponents,"onUpdate:value":t[1]||(t[1]=r=>a.includeSubComponents=r),size:"small"},null,8,["value"]),ct]),o("div",dt,[s(T,{class:"mr-2",value:a.includeCraftingStations,"onUpdate:value":t[2]||(t[2]=r=>a.includeCraftingStations=r),size:"small"},null,8,["value"]),ut]),o("div",null,[(m(!0),v(O,null,M(a.requiredComponents,r=>{var C,w,y;return m(),v("div",{key:r.id,class:"component-row flex align-items-center"},[o("div",_t,R(r.quantity)+" "+R((y=(w=(C=e.recipeData[r.id])==null?void 0:C.label)!=null?w:a.itemLabelMap[r.id])!=null?y:r.id),1),s(p,{"component-id":r.id,onChange:t[3]||(t[3]=B=>u.triggerCalc())},null,8,["component-id"])])}),128))])]),pt,o("div",mt,[(m(!0),v(O,null,M(a.requiredCraftingStations,r=>{var C,w,y,B;return m(),v("div",ht,[o("div",bt,[s(_,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/ITEM_${(C=e.recipeData[r])==null?void 0:C.id}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),o("div",ft,R((B=(y=(w=e.recipeData[r])==null?void 0:w.label)!=null?y:a.itemLabelMap[r])!=null?B:r),1)])])}),256))])])):(m(),v("div",vt,[gt,s(S,{type:"info"},{default:d(()=>[Ct]),_:1})]))])}var wt=D(Xe,[["render",yt],["__scopeId","data-v-e23eaa14"]]);const z=x(),It={name:"CraftingToolTabView",components:{ManageTab:Je,CraftingCalculator:wt},props:[],data(){return{activeTabId:z.activeTabId,maxTabCount:20,addable:!0,closable:!0}},watch:{activeTabId:function(e){this.setActiveTab(e)}},computed:$({},F(x,["tabs","tabCount","activeTab"])),methods:E($({},U(x,["setActiveTab"])),{handleAdd(){},handleClose(){},addTab(){const e=z.addTab();this.setActiveTab(e.id),this.syncSelectedTab()},removeTab({tabId:e}={}){z.removeTab(e),this.syncSelectedTab()},syncSelectedTab(){this.activeTabId=z.activeTabId,this.$nextTick(()=>{var e;(e=this.$refs.tabsInstRef)==null||e.syncBarPosition()})}})},Tt={class:"flex align-items-center mb-3"},St={class:"flex align-items-center ml-auto"},xt={class:"mr-3"},kt=o("span",null,"Add Tab",-1);function $t(e,t,n,i,a,u){const b=l("n-button"),f=l("manage-tab"),h=l("crafting-calculator"),g=l("n-tab-pane"),c=l("n-tabs"),_=l("n-card");return m(),v("div",null,[o("div",Tt,[o("div",St,[o("div",xt,R(e.tabCount)+" / "+R(a.maxTabCount),1),s(b,{class:"",strong:"",secondary:"",type:"primary",onClick:u.addTab,disabled:e.tabCount===a.maxTabCount},{default:d(()=>[kt]),_:1},8,["onClick","disabled"])])]),s(_,{class:"overflow-hidden"},{default:d(()=>[s(c,{ref:"tabsInstRef",value:a.activeTabId,"onUpdate:value":t[0]||(t[0]=p=>a.activeTabId=p),type:"bar",addable:a.addable,closable:a.closable,"tab-style":""},{default:d(()=>[(m(!0),v(O,null,M(e.tabs,p=>(m(),A(g,{tab:p.title,name:p.id,key:p.id},{default:d(()=>[s(f,{tab:p,onRemoveTab:u.removeTab},null,8,["tab","onRemoveTab"]),s(h,{tab:p},null,8,["tab"])]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value","addable","closable"])]),_:1})])}var Rt=D(It,[["render",$t]]);const Bt=x();Bt.loadRecipeData();const Q=Object.freeze({welcome:1}),Dt=e=>{const t=localStorage.getItem(`alert:version:${e}`);return!t||Number(t)<Q[e]},qt={name:"Icarus",components:{Hammer:_e,ItemSearchView:Pe,TabsView:Rt},props:[],data(){return{showWelcomeAlert:Dt("welcome")}},computed:{},methods:{dismissAlert(e){e&&Q[e]&&localStorage.setItem(`alert:version:${e}`,Q[e])}}},Mt={class:"icarus-wrap p-2 pt-3"},Ot=I(" Search and add items from the list below to add them to your to-do list, which will calculate your item requirements. "),Lt={class:"flex flex-wrap"},At={class:"m-2 text-200"},Ft=I("Supports game version"),zt=I("\xA0 "),Pt=I("1.1.1.91141 - 2022/02/10"),Vt=o("ul",null,[o("li",null,"Improve any mismatching item labels vs what shows in-game (labels from game data export are not perfect, and must be mapped manually)"),o("li",null,"Resolve remaining item icon mis-matches (game data export doesn't match image export)"),o("li",null,"Save tab data in localStorage to support session restoration"),o("li",null,"Show stack size on icons that normally produce more than 1 item"),o("li",null,"Implement talent options logic to impact component output calculation"),o("li",null,"Indicate which items belong to each Tier (not specified in game data export directly)"),o("li",null,"Improve item search matching (scrubby search)")],-1),Et=o("div",{class:"m-2"},[o("div",null,"Created by Drumstix42."),o("div",null,[I(" This page/site is not affiliated with "),o("a",{class:"text-primary",href:"https://store.steampowered.com/app/1149460/ICARUS/",target:"_blank"},"Icarus"),I(", "),o("a",{class:"text-primary",href:"https://rocketwerkz.com/",target:"_blank"},"RocketWerkz"),I(", or any of its subsidiaries. ")])],-1);function Wt(e,t,n,i,a,u){const b=l("n-alert"),f=l("item-search-view"),h=l("n-text"),g=l("tabs-view"),c=l("Hammer"),_=l("n-icon");return m(),v("div",Mt,[a.showWelcomeAlert?(m(),A(b,{key:0,class:"m-2 mb-3",title:"Crafting Calculator",type:"info",closable:"",onAfterLeave:t[0]||(t[0]=p=>u.dismissAlert("welcome"))},{default:d(()=>[Ot]),_:1})):V("",!0),o("div",Lt,[o("div",null,[s(f,{class:"item-selector"}),o("div",At,[s(h,{depth:"3"},{default:d(()=>[Ft]),_:1}),zt,s(h,{code:""},{default:d(()=>[Pt]),_:1})])]),s(g,{class:"tab-view flex-1"})]),s(b,{class:"m-2 mt-3 mb-4",title:"Calculator Todo List",type:"default",closable:""},{icon:d(()=>[s(_,{size:"20"},{default:d(()=>[s(c)]),_:1})]),default:d(()=>[Vt]),_:1}),Et])}var Ut=D(qt,[["render",Wt]]);export{Ut as default};
