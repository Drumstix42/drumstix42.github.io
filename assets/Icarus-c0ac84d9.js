import{d as Ze,m as ee,a as ye,_ as U,b as et}from"./icarus-528d0b84.js";import{k as ce,o as x,bb as C,e as m,u as tt,z as nt,n as st,G as Le,r as we,l as it,m as ae,b0 as ot,b1 as at,bd as rt,s as ct,aX as lt,b7 as v,a as g,w as y,f as M,b9 as H,be as F,c as G,b3 as Oe,b4 as De,F as Y,ba as X,aQ as ut,ai as ht}from"./style-c25aa8ae.js";const dt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 576 512"},pt=m("path",{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31l-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z",fill:"currentColor"},null,-1),mt=[pt],ft=ce({name:"Hammer",render:function(t,n){return x(),C("svg",dt,mt)}}),gt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},_t=m("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),bt=[_t],vt=ce({name:"Plus",render:function(t,n){return x(),C("svg",gt,bt)}}),yt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},wt=m("path",{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z",fill:"currentColor"},null,-1),St=[wt],It=ce({name:"SortAlphaDown",render:function(t,n){return x(),C("svg",yt,St)}}),xt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 352 512"},Tt=m("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),Ct=[Tt],Ne=ce({name:"Times",render:function(t,n){return x(),C("svg",xt,Ct)}});function he(e,t,n){var s,i,o,a,l;t==null&&(t=100);function r(){var c=Date.now()-a;c<t&&c>=0?s=setTimeout(r,t-c):(s=null,n||(l=e.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,a=Date.now();var c=n&&!s;return s||(s=setTimeout(r,t)),c&&(l=e.apply(o,i),o=i=null),l};return u.clear=function(){s&&(clearTimeout(s),s=null)},u.flush=function(){s&&(l=e.apply(o,i),o=i=null,clearTimeout(s),s=null)},u}he.debounce=he;var Pe=he;function kt(e){return ot()?(at(e),!0):!1}function z(e){return typeof e=="function"?e():tt(e)}const Mt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Rt=Object.prototype.toString,At=e=>Rt.call(e)==="[object Object]",Et=()=>{};function $t(e,t){function n(...s){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(i).catch(o)})}return n}const ze=e=>e();function Lt(e=ze){const t=we(!0);function n(){t.value=!1}function s(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:it(t),pause:n,resume:s,eventFilter:i}}function Ot(e,t,n={}){const{eventFilter:s=ze,...i}=n;return ae(e,$t(s,t),i)}function Dt(e,t,n={}){const{eventFilter:s,...i}=n,{eventFilter:o,pause:a,resume:l,isActive:r}=Lt(s);return{stop:Ot(e,t,{...i,eventFilter:o}),pause:a,resume:l,isActive:r}}function Nt(e,t=!0){nt()?st(e):t?e():Le(e)}function Pt(e){var t;const n=z(e);return(t=n==null?void 0:n.$el)!=null?t:n}const de=Mt?window:void 0;function xe(...e){let t,n,s,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,i]=e,t=de):[t,n,s,i]=e,!t)return Et;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const o=[],a=()=>{o.forEach(c=>c()),o.length=0},l=(c,h,d,p)=>(c.addEventListener(h,d,p),()=>c.removeEventListener(h,d,p)),r=ae(()=>[Pt(t),z(i)],([c,h])=>{if(a(),!c)return;const d=At(h)?{...h}:h;o.push(...n.flatMap(p=>s.map(b=>l(c,p,b,d))))},{immediate:!0,flush:"post"}),u=()=>{r(),a()};return kt(u),u}const ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se="__vueuse_ssr_handlers__",zt=Ft();function Ft(){return se in ne||(ne[se]=ne[se]||{}),ne[se]}function Bt(e,t){return zt[e]||t}function jt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Vt={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Te="vueuse-storage";function Fe(e,t,n,s={}){var i;const{flush:o="pre",deep:a=!0,listenToStorageChanges:l=!0,writeDefaults:r=!0,mergeDefaults:u=!1,shallow:c,window:h=de,eventFilter:d,onError:p=I=>{console.error(I)},initOnMounted:b}=s,w=(c?rt:we)(typeof t=="function"?t():t);if(!n)try{n=Bt("getDefaultStorage",()=>{var I;return(I=de)==null?void 0:I.localStorage})()}catch(I){p(I)}if(!n)return w;const f=z(t),S=jt(f),T=(i=s.serializer)!=null?i:Vt[S],{pause:R,resume:E}=Dt(w,()=>k(w.value),{flush:o,deep:a,eventFilter:d});return h&&l&&Nt(()=>{xe(h,"storage",L),xe(h,Te,$),b&&L()}),b||L(),w;function k(I){try{if(I==null)n.removeItem(e);else{const A=T.write(I),N=n.getItem(e);N!==A&&(n.setItem(e,A),h&&h.dispatchEvent(new CustomEvent(Te,{detail:{key:e,oldValue:N,newValue:A,storageArea:n}})))}}catch(A){p(A)}}function V(I){const A=I?I.newValue:n.getItem(e);if(A==null)return r&&f!==null&&n.setItem(e,T.write(f)),f;if(!I&&u){const N=T.read(A);return typeof u=="function"?u(N,f):S==="object"&&!Array.isArray(N)?{...f,...N}:N}else return typeof A!="string"?A:T.read(A)}function $(I){L(I.detail)}function L(I){if(!(I&&I.storageArea!==n)){if(I&&I.key==null){w.value=f;return}if(!(I&&I.key!==e)){R();try{(I==null?void 0:I.newValue)!==T.write(w.value)&&(w.value=V(I))}catch(A){p(A)}finally{I?Le(E):E()}}}}}function j(e){return Array.isArray?Array.isArray(e):Ve(e)==="[object Array]"}const Wt=1/0;function qt(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-Wt?"-0":t}function Ht(e){return e==null?"":qt(e)}function B(e){return typeof e=="string"}function Be(e){return typeof e=="number"}function Qt(e){return e===!0||e===!1||Gt(e)&&Ve(e)=="[object Boolean]"}function je(e){return typeof e=="object"}function Gt(e){return je(e)&&e!==null}function O(e){return e!=null}function le(e){return!e.trim().length}function Ve(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ut="Incorrect 'index' type",Kt=e=>`Invalid value for key ${e}`,Jt=e=>`Pattern length exceeds max of ${e}.`,Yt=e=>`Missing ${e} property in key`,Xt=e=>`Property 'weight' in key '${e}' must be a positive integer`,Ce=Object.prototype.hasOwnProperty;class Zt{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let i=We(s);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function We(e){let t=null,n=null,s=null,i=1,o=null;if(B(e)||j(e))s=e,t=ke(e),n=pe(e);else{if(!Ce.call(e,"name"))throw new Error(Yt("name"));const a=e.name;if(s=a,Ce.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Xt(a));t=ke(a),n=pe(a),o=e.getFn}return{path:t,id:n,weight:i,src:s,getFn:o}}function ke(e){return j(e)?e:e.split(".")}function pe(e){return j(e)?e.join("."):e}function en(e,t){let n=[],s=!1;const i=(o,a,l)=>{if(O(o))if(!a[l])n.push(o);else{let r=a[l];const u=o[r];if(!O(u))return;if(l===a.length-1&&(B(u)||Be(u)||Qt(u)))n.push(Ht(u));else if(j(u)){s=!0;for(let c=0,h=u.length;c<h;c+=1)i(u[c],a,l+1)}else a.length&&i(u,a,l+1)}};return i(e,B(t)?t.split("."):t,0),s?n:n[0]}const tn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},nn={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},sn={location:0,threshold:.6,distance:100},on={useExtendedSearch:!1,getFn:en,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var _={...nn,...tn,...sn,...on};const an=/[^ ]+/g;function rn(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(i){const o=i.match(an).length;if(n.has(o))return n.get(o);const a=1/Math.pow(o,.5*e),l=parseFloat(Math.round(a*s)/s);return n.set(o,l),l},clear(){n.clear()}}}class Se{constructor({getFn:t=_.getFn,fieldNormWeight:n=_.fieldNormWeight}={}){this.norm=rn(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,B(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();B(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!O(t)||le(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((i,o)=>{let a=i.getFn?i.getFn(t):this.getFn(t,i.path);if(O(a)){if(j(a)){let l=[];const r=[{nestedArrIndex:-1,value:a}];for(;r.length;){const{nestedArrIndex:u,value:c}=r.pop();if(O(c))if(B(c)&&!le(c)){let h={v:c,i:u,n:this.norm.get(c)};l.push(h)}else j(c)&&c.forEach((h,d)=>{r.push({nestedArrIndex:d,value:h})})}s.$[o]=l}else if(B(a)&&!le(a)){let l={v:a,n:this.norm.get(a)};s.$[o]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function qe(e,t,{getFn:n=_.getFn,fieldNormWeight:s=_.fieldNormWeight}={}){const i=new Se({getFn:n,fieldNormWeight:s});return i.setKeys(e.map(We)),i.setSources(t),i.create(),i}function cn(e,{getFn:t=_.getFn,fieldNormWeight:n=_.fieldNormWeight}={}){const{keys:s,records:i}=e,o=new Se({getFn:t,fieldNormWeight:n});return o.setKeys(s),o.setIndexRecords(i),o}function ie(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:i=_.distance,ignoreLocation:o=_.ignoreLocation}={}){const a=t/e.length;if(o)return a;const l=Math.abs(s-n);return i?a+l/i:l?1:a}function ln(e=[],t=_.minMatchCharLength){let n=[],s=-1,i=-1,o=0;for(let a=e.length;o<a;o+=1){let l=e[o];l&&s===-1?s=o:!l&&s!==-1&&(i=o-1,i-s+1>=t&&n.push([s,i]),s=-1)}return e[o-1]&&o-s>=t&&n.push([s,o-1]),n}const q=32;function un(e,t,n,{location:s=_.location,distance:i=_.distance,threshold:o=_.threshold,findAllMatches:a=_.findAllMatches,minMatchCharLength:l=_.minMatchCharLength,includeMatches:r=_.includeMatches,ignoreLocation:u=_.ignoreLocation}={}){if(t.length>q)throw new Error(Jt(q));const c=t.length,h=e.length,d=Math.max(0,Math.min(s,h));let p=o,b=d;const w=l>1||r,f=w?Array(h):[];let S;for(;(S=e.indexOf(t,b))>-1;){let $=ie(t,{currentLocation:S,expectedLocation:d,distance:i,ignoreLocation:u});if(p=Math.min($,p),b=S+c,w){let L=0;for(;L<c;)f[S+L]=1,L+=1}}b=-1;let T=[],R=1,E=c+h;const k=1<<c-1;for(let $=0;$<c;$+=1){let L=0,I=E;for(;L<I;)ie(t,{errors:$,currentLocation:d+I,expectedLocation:d,distance:i,ignoreLocation:u})<=p?L=I:E=I,I=Math.floor((E-L)/2+L);E=I;let A=Math.max(1,d-I+1),N=a?h:Math.min(d+I,h)+c,Q=Array(N+2);Q[N+1]=(1<<$)-1;for(let P=N;P>=A;P-=1){let te=P-1,Ie=n[e.charAt(te)];if(w&&(f[te]=+!!Ie),Q[P]=(Q[P+1]<<1|1)&Ie,$&&(Q[P]|=(T[P+1]|T[P])<<1|1|T[P+1]),Q[P]&k&&(R=ie(t,{errors:$,currentLocation:te,expectedLocation:d,distance:i,ignoreLocation:u}),R<=p)){if(p=R,b=te,b<=d)break;A=Math.max(1,2*d-b)}}if(ie(t,{errors:$+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>p)break;T=Q}const V={isMatch:b>=0,score:Math.max(.001,R)};if(w){const $=ln(f,l);$.length?r&&(V.indices=$):V.isMatch=!1}return V}function hn(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<s-n-1}return t}class He{constructor(t,{location:n=_.location,threshold:s=_.threshold,distance:i=_.distance,includeMatches:o=_.includeMatches,findAllMatches:a=_.findAllMatches,minMatchCharLength:l=_.minMatchCharLength,isCaseSensitive:r=_.isCaseSensitive,ignoreLocation:u=_.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:r,ignoreLocation:u},this.pattern=r?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(d,p)=>{this.chunks.push({pattern:d,alphabet:hn(d),startIndex:p})},h=this.pattern.length;if(h>q){let d=0;const p=h%q,b=h-p;for(;d<b;)c(this.pattern.substr(d,q),d),d+=q;if(p){const w=h-q;c(this.pattern.substr(w),w)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let b={isMatch:!0,score:0};return s&&(b.indices=[[0,t.length-1]]),b}const{location:i,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:r,ignoreLocation:u}=this.options;let c=[],h=0,d=!1;this.chunks.forEach(({pattern:b,alphabet:w,startIndex:f})=>{const{isMatch:S,score:T,indices:R}=un(t,b,w,{location:i+f,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:r,includeMatches:s,ignoreLocation:u});S&&(d=!0),h+=T,S&&R&&(c=[...c,...R])});let p={isMatch:d,score:d?h/this.chunks.length:1};return d&&s&&(p.indices=c),p}}class W{constructor(t){this.pattern=t}static isMultiMatch(t){return Me(t,this.multiRegex)}static isSingleMatch(t){return Me(t,this.singleRegex)}search(){}}function Me(e,t){const n=e.match(t);return n?n[1]:null}class dn extends W{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class pn extends W{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class mn extends W{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class fn extends W{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class gn extends W{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class _n extends W{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Qe extends W{constructor(t,{location:n=_.location,threshold:s=_.threshold,distance:i=_.distance,includeMatches:o=_.includeMatches,findAllMatches:a=_.findAllMatches,minMatchCharLength:l=_.minMatchCharLength,isCaseSensitive:r=_.isCaseSensitive,ignoreLocation:u=_.ignoreLocation}={}){super(t),this._bitapSearch=new He(t,{location:n,threshold:s,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:r,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Ge extends W{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const i=[],o=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+o,i.push([s,n-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const me=[dn,Ge,mn,fn,_n,gn,pn,Qe],Re=me.length,bn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,vn="|";function yn(e,t={}){return e.split(vn).map(n=>{let s=n.trim().split(bn).filter(o=>o&&!!o.trim()),i=[];for(let o=0,a=s.length;o<a;o+=1){const l=s[o];let r=!1,u=-1;for(;!r&&++u<Re;){const c=me[u];let h=c.isMultiMatch(l);h&&(i.push(new c(h,t)),r=!0)}if(!r)for(u=-1;++u<Re;){const c=me[u];let h=c.isSingleMatch(l);if(h){i.push(new c(h,t));break}}}return i})}const wn=new Set([Qe.type,Ge.type]);class Sn{constructor(t,{isCaseSensitive:n=_.isCaseSensitive,includeMatches:s=_.includeMatches,minMatchCharLength:i=_.minMatchCharLength,ignoreLocation:o=_.ignoreLocation,findAllMatches:a=_.findAllMatches,location:l=_.location,threshold:r=_.threshold,distance:u=_.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:i,findAllMatches:a,ignoreLocation:o,location:l,threshold:r,distance:u},this.pattern=n?t:t.toLowerCase(),this.query=yn(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let o=0,a=[],l=0;for(let r=0,u=n.length;r<u;r+=1){const c=n[r];a.length=0,o=0;for(let h=0,d=c.length;h<d;h+=1){const p=c[h],{isMatch:b,indices:w,score:f}=p.search(t);if(b){if(o+=1,l+=f,s){const S=p.constructor.type;wn.has(S)?a=[...a,...w]:a.push(w)}}else{l=0,o=0,a.length=0;break}}if(o){let h={isMatch:!0,score:l/o};return s&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const fe=[];function In(...e){fe.push(...e)}function ge(e,t){for(let n=0,s=fe.length;n<s;n+=1){let i=fe[n];if(i.condition(e,t))return new i(e,t)}return new He(e,t)}const re={AND:"$and",OR:"$or"},_e={PATH:"$path",PATTERN:"$val"},be=e=>!!(e[re.AND]||e[re.OR]),xn=e=>!!e[_e.PATH],Tn=e=>!j(e)&&je(e)&&!be(e),Ae=e=>({[re.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Ue(e,t,{auto:n=!0}={}){const s=i=>{let o=Object.keys(i);const a=xn(i);if(!a&&o.length>1&&!be(i))return s(Ae(i));if(Tn(i)){const r=a?i[_e.PATH]:o[0],u=a?i[_e.PATTERN]:i[r];if(!B(u))throw new Error(Kt(r));const c={keyId:pe(r),pattern:u};return n&&(c.searcher=ge(u,t)),c}let l={children:[],operator:o[0]};return o.forEach(r=>{const u=i[r];j(u)&&u.forEach(c=>{l.children.push(s(c))})}),l};return be(e)||(e=Ae(e)),s(e)}function Cn(e,{ignoreFieldNorm:t=_.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:i,norm:o,score:a})=>{const l=i?i.weight:null;s*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(t?1:o))}),n.score=s})}function kn(e,t){const n=e.matches;t.matches=[],O(n)&&n.forEach(s=>{if(!O(s.indices)||!s.indices.length)return;const{indices:i,value:o}=s;let a={indices:i,value:o};s.key&&(a.key=s.key.src),s.idx>-1&&(a.refIndex=s.idx),t.matches.push(a)})}function Mn(e,t){t.score=e.score}function Rn(e,t,{includeMatches:n=_.includeMatches,includeScore:s=_.includeScore}={}){const i=[];return n&&i.push(kn),s&&i.push(Mn),e.map(o=>{const{idx:a}=o,l={item:t[a],refIndex:a};return i.length&&i.forEach(r=>{r(o,l)}),l})}class K{constructor(t,n={},s){this.options={..._,...n},this.options.useExtendedSearch,this._keyStore=new Zt(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Se))throw new Error(Ut);this._myIndex=n||qe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){O(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,i=this._docs.length;s<i;s+=1){const o=this._docs[s];t(o,s)&&(this.removeAt(s),s-=1,i-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:i,shouldSort:o,sortFn:a,ignoreFieldNorm:l}=this.options;let r=B(t)?B(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Cn(r,{ignoreFieldNorm:l}),o&&r.sort(a),Be(n)&&n>-1&&(r=r.slice(0,n)),Rn(r,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(t){const n=ge(t,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:o,i:a,n:l})=>{if(!O(o))return;const{isMatch:r,score:u,indices:c}=n.searchIn(o);r&&i.push({item:o,idx:a,matches:[{score:u,value:o,norm:l,indices:c}]})}),i}_searchLogical(t){const n=Ue(t,this.options),s=(l,r,u)=>{if(!l.children){const{keyId:h,searcher:d}=l,p=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(r,h),searcher:d});return p&&p.length?[{idx:u,item:r,matches:p}]:[]}const c=[];for(let h=0,d=l.children.length;h<d;h+=1){const p=l.children[h],b=s(p,r,u);if(b.length)c.push(...b);else if(l.operator===re.AND)return[]}return c},i=this._myIndex.records,o={},a=[];return i.forEach(({$:l,i:r})=>{if(O(l)){let u=s(n,l,r);u.length&&(o[r]||(o[r]={idx:r,item:l,matches:[]},a.push(o[r])),u.forEach(({matches:c})=>{o[r].matches.push(...c)}))}}),a}_searchObjectList(t){const n=ge(t,this.options),{keys:s,records:i}=this._myIndex,o=[];return i.forEach(({$:a,i:l})=>{if(!O(a))return;let r=[];s.forEach((u,c)=>{r.push(...this._findMatches({key:u,value:a[c],searcher:n}))}),r.length&&o.push({idx:l,item:a,matches:r})}),o}_findMatches({key:t,value:n,searcher:s}){if(!O(n))return[];let i=[];if(j(n))n.forEach(({v:o,i:a,n:l})=>{if(!O(o))return;const{isMatch:r,score:u,indices:c}=s.searchIn(o);r&&i.push({score:u,key:t,value:o,idx:a,norm:l,indices:c})});else{const{v:o,n:a}=n,{isMatch:l,score:r,indices:u}=s.searchIn(o);l&&i.push({score:r,key:t,value:o,norm:a,indices:u})}return i}}K.version="6.6.2";K.createIndex=qe;K.parseIndex=cn;K.config=_;K.parseQuery=Ue;In(Sn);function An(e,t,n){const s=()=>{var a,l;return new K((a=z(t))!=null?a:[],(l=z(n))==null?void 0:l.fuseOptions)},i=we(s());ae(()=>{var a;return(a=z(n))==null?void 0:a.fuseOptions},()=>{i.value=s()},{deep:!0}),ae(()=>z(t),a=>{i.value.setCollection(a)},{deep:!0});const o=ct(()=>{const a=z(n);if(a!=null&&a.matchAllWhenSearchEmpty&&!z(e))return z(t).map((r,u)=>({item:r,refIndex:u}));const l=a==null?void 0:a.resultLimit;return i.value.search(z(e),l?{limit:l}:void 0)});return{fuse:i,results:o}}const Ke="icarusCalculator",En=Object.freeze({Basic_Oxite_Dissolver:!0,Charcoal:!0}),Z=Object.freeze({Bauxite:"Aluminum Ore",Copper_Ore:"Copper Ore",Iron_Ore:"Iron Ore",Gold_Ore:"Gold Ore",Metal_Ore:"Iron Ore",Coal_Ore:"Coal Ore",Platinum_Ore:"Platinum Ore",Titanium_Ore:"Titanium Ore",Stick_Talent:"Stick (Talent)",Talent_Leather_Rope:"Rope (Leather, Talent)",Rope_Armor_Bench:"Rope (Armor Bench)",Epoxy_2:"Epoxy (Crushed Bone)",Raw_Meat:"Raw Meat",Composite_Paste:"Composite Paste (Gold)",Composite_Paste_Plat:"Composite Paste (Platinum)",Steel_Bloom:"Steel Bloom (Ore)",Steel_Bloom2:"Steel Bloom (Ingot)",Spoiled_Meat:"Spoiled Meat",Spoiled_Plants:"Spoiled Plants",Biofuel1:"Biofuel (Raw Meat)",Biofuel2:"Biofuel (Fiber)",Biofuel3:"Biofuel (Stick)",Biofuel4:"Biofuel (Wood)",Biofuel5:"Biofuel (Cooked Meat)",Ammo_Pistol_Round:"Pistol Round",Ammo_Rifle_Round:"Rifle Round",Ammo_Shell_Buckshot:"Shotgun Buckshot Shell",Bulk_Rifle_Round:"Rifle Round (Bulk, Talent)",Bulk_Pistol_Round:"Pistol Round (Bulk, Talent)",Shotgun_Shell_Buckshot:"Shotgun Buckshot Shell",Bulk_Shotgun_Shell_Buckshot:"Shotgun Buckshot Shell (Bulk, Talent)"}),$n=e=>e.replace(/_/g," "),Ln=(e,{displayName:t}={})=>{const n=Z[e];return n||(t??$n(e))},ue=Object.freeze({}),On=(e="")=>{const n=e.replace(/\"/g,"").match(/NSLOCTEXT\((.*), (.*), (.*)\)/);return n==null?void 0:n[3]},Dn=(e="")=>e.replace("/Game/Assets/2DArt/UI/Items/Item_Icons/","");function Nn(e=[]){const t={};return e.forEach(n=>{var i;const s=n.Name;t[s]||(t[s]={id:s,itemStaticId:(i=n.ItemStaticData)==null?void 0:i.RowName})}),t}function Pn(e=[]){const t={};return e.forEach(n=>{var i;const s=n.Name;t[s]||(t[s]={id:s,itemTableId:(i=n.Itemable)==null?void 0:i.RowName})}),t}function zn(e=[]){const t={};return e.forEach(n=>{const s=n.Name;t[s]||(t[s]={id:s,displayName:On(n.DisplayName),icon:Dn(n.Icon)})}),t}function Fn(e=[],{itemTemplateData:t={},itemStaticData:n={},itemTableData:s={}}={}){const i={};e.forEach(a=>{i[a.name]=a});const o={};return e.forEach(a=>{var f,S,T,R,E;const r=a.Name;if(En[r])return;const u=r,c=()=>{var V;const k=(V=a.Outputs[0])==null?void 0:V.Element.RowName;return a.Outputs.length===1&&k&&(k!=null&&k.includes(u)||a.Requirement||!i[k])?k:null},h=(f=a.Inputs[0])==null?void 0:f.Element.RowName,d=t[u]??t[(S=a.Requirement)==null?void 0:S.RowName]??t[c()],p=n[d==null?void 0:d.itemStaticId]??n[h],b=((T=a.ResourceOutputs)==null?void 0:T.length)>0?"":(R=s[p==null?void 0:p.itemTableId])==null?void 0:R.icon,w=b.length>100?b.split("/")[0]+"/"+b.split(".")[1]:"";o[r]={id:r,label:Ln(r,{displayName:(E=s[p==null?void 0:p.itemTableId])==null?void 0:E.displayName}),iconPath:b.length>100?w:b,inputs:[],sources:[],preferredSource:null,outputQuantity:1},(a.Inputs||[]).forEach(k=>{o[r].inputs.push({id:k.Element.RowName,quantity:k.Count})}),(a.RecipeSets||[]).forEach(k=>{o[r].sources.push(k.RowName)}),o[r].preferredSource=o[r].sources[0],(a.Outputs||[]).forEach(k=>{(r===k.Element.RowName||r.includes(k.Element.RowName))&&(o[r].outputQuantity=k.Count)})}),jn(o)}function Bn(e,t=[]){let n="",s=0;return t.forEach(i=>{const o=i[1]+1,a=e.substring(s,i[0]),l=e.substring(i[0],o);n+=`${a}<span class="highlight-result">${l}</span>`,s=o}),n+=e.substring(s),n}function jn(e={}){return Object.keys(e).forEach(t=>{var s;const n=e[t];(s=ue[t])==null||s.call(ue,n,t,e)}),e}const Vn=()=>Date.now(),Je=()=>lt({id:Vn(),title:"Planning",items:[]}),Ee=(e,t)=>t.findIndex(n=>n.id===e),Ye=Je(),Xe=Fe(`${Ke}/tabs`,[Ye]),Wn=Xe.value[0].id??Ye.id,D=Ze("icarus",{state:()=>({activeTabId:Wn,tabs:Xe,settings:Fe(`${Ke}/settings`,{includeSubComponents:!1,includeStationComponents:!1,searchFuzzyMatch:!0},localStorage,{mergeDefaults:!0}),itemTemplateData:{},itemStaticData:{},itemTableData:{},recipeData:{},recipeOptions:[],isLoadingRecipes:!1,recipeSearch:""}),getters:{activeTab:e=>e.tabs.find(t=>t.id===e.activeTabId),tabCount(){return this.tabs.length},includeSubComponents(e){return e.settings.includeSubComponents},includeStationComponents(e){return e.settings.includeStationComponents},sortedRecipeOptions(e){return e.recipeOptions.sort((t,n)=>t.label.localeCompare(n.label))},filteredRecipeOptions(e){if(e.recipeSearch){const t={fuseOptions:{keys:["label"],isCaseSensitive:!1,location:0,threshold:e.settings.searchFuzzyMatch?void 0:0,distance:100,includeScore:!0,includeMatches:!0},resultLimit:void 0,matchAllWhenSearchEmpty:!0},{results:n}=An(e.recipeSearch,this.sortedRecipeOptions,t);return console.log({searchResults:n.value}),n.value.map(s=>{var i,o;return{...s.item,highlightedLabel:s.matches?Bn(s.item.label,(o=(i=s.matches)==null?void 0:i[0])==null?void 0:o.indices):s.item.label}})}return this.sortedRecipeOptions}},actions:{addTab(){const e=Je();return this.tabs.push(e),e},removeTab(e){const t=Ee(e,this.tabs);if(t!==-1)this.tabs.splice(t,1);else{console.error(`Could not find tab with id ${e}`,this.tabs);return}const n=Math.min(t,this.tabs.length-1),s=this.tabs[n];this.activeTabId=s.id},setActiveTab(e){this.activeTabId=e},setTabTitle(e,t){const n=Ee(e,this.tabs);n!==-1&&(this.tabs[n].title=t)},addItem(e,t=1){const n=this.activeTab;if(n){const s=n.items.find(o=>o.id===e),i=this.recipeData[e].outputQuantity??1;s?s.quantity+=i:n.items.push({id:e,quantity:i})}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},removeItem(e){const t=this.activeTab;if(t){const n=t.items.findIndex(s=>s.id===e);t.items.splice(n,1)}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},setIncludeSubComponents(e){this.settings.includeSubComponents=e},setIncludeStationComponents(e){this.settings.includeStationComponents=e},async loadRecipeData(){const e=new Date().getTime();this.isLoadingRecipes=!0;const n=await(await fetch(`/icarus-game/Data/D_ItemTemplate.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),i=await(await fetch(`/icarus-game/Data/D_ItemsStatic.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),a=await(await fetch(`/icarus-game/Data/D_Itemable.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),r=await(await fetch(`/icarus-game/Data/D_ProcessorRecipes.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),u=performance.now(),c=Nn(n.Rows);this.itemTemplateData=c;const h=Pn(i.Rows);this.itemStaticData=h;const d=zn(a.Rows);this.itemTableData=d;const p=Fn(r==null?void 0:r.Rows,{itemTemplateData:c,itemStaticData:h,itemTableData:d});this.recipeData=p,this.recipeOptions=Object.values(p),this.isLoadingRecipes=!1,console.log({itemTemplateData:c,itemStaticData:h,itemTableData:d,recipeData:p}),console.log(`Processed data in ${performance.now()-u}ms`)}}});const qn=D(),Hn={name:"CraftingToolItemSelector",components:{Plus:vt},props:{},data(){return{searchValue:null}},computed:{...ee(D,["recipeData","isLoadingRecipes","filteredRecipeOptions","settings"])},methods:{...ye(D,["addItem"]),onSearch:Pe.debounce(e=>{qn.recipeSearch=e},250)}},Qn={class:"mb-3 flex align-items-center"},Gn={class:"flex-shrink-0 ml-3"},Un={key:0,class:"p-3 font-italic"},Kn=["onClick"],Jn={class:"relative flex align-items-center"},Yn={key:0,class:"item-counter"},Xn={class:"flex-shrink",style:{"min-width":"0"}},Zn=["item-id"],es=["innerHTML"],ts={key:1};function ns(e,t,n,s,i,o){const a=v("n-input"),l=v("n-checkbox"),r=v("n-tooltip"),u=v("n-image"),c=v("Plus"),h=v("n-icon"),d=v("n-button"),p=v("RecycleScroller"),b=v("n-card"),w=v("n-spin");return x(),C("div",null,[m("div",Qn,[g(a,{type:"text",value:i.searchValue,"onUpdate:value":t[0]||(t[0]=f=>i.searchValue=f),placeholder:"Search...",clearable:"",onInput:o.onSearch},null,8,["value","onInput"]),m("div",Gn,[g(r,{trigger:"hover",placement:"right"},{trigger:y(()=>[g(l,{checked:e.settings.searchFuzzyMatch,"onUpdate:checked":t[1]||(t[1]=f=>e.settings.searchFuzzyMatch=f)},{default:y(()=>[M("Fuzzy search")]),_:1},8,["checked"])]),default:y(()=>[M(" Allows partial text matches, sorted by match quality ")]),_:1})])]),g(w,{show:e.isLoadingRecipes},{default:y(()=>[g(b,{class:"scroll-wrap","content-style":"padding: 0;"},{default:y(()=>[e.filteredRecipeOptions.length===0?(x(),C("div",Un,"No matching items found.")):H("",!0),g(p,{class:"scroller",items:e.filteredRecipeOptions,"item-size":40,"key-field":"id"},{default:y(({index:f,item:S})=>{var T;return[m("div",{class:"recipe-item flex align-items-center",onClick:R=>e.addItem(S.id)},[m("div",Jn,[g(u,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${S.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!0},null,8,["src"]),((T=e.recipeData[S.id])==null?void 0:T.outputQuantity)>1?(x(),C("div",Yn,"x"+F(e.recipeData[S.id].outputQuantity),1)):H("",!0)]),m("div",Xn,[m("div",{class:"label text-overflow-ellipsis","item-id":S.id},[S.highlightedLabel?(x(),C("span",{key:0,innerHTML:S.highlightedLabel},null,8,es)):(x(),C("span",ts,F(S.label),1))],8,Zn)]),g(r,{trigger:"hover"},{trigger:y(()=>[g(d,{class:"hover-button ml-auto",secondary:"",type:"default",size:"small"},{default:y(()=>[g(h,{size:"13"},{default:y(()=>[g(c)]),_:1})]),_:1})]),default:y(()=>[M(" Add to list ")]),_:1})],8,Kn)]}),_:1},8,["items"])]),_:1})]),_:1},8,["show"])])}const ss=U(Hn,[["render",ns],["__scopeId","data-v-69bc0aa3"]]);const is={name:"CraftingToolManageTab",components:{Times:Ne},props:{tab:{type:Object,required:!0}},emits:["onTitleChanged","removeTab"],data(){return{}},computed:{...ee(D,["tabs","tabCount"])},methods:{onTitleChanged(){this.$emit("updateTab",{tabId:this.tab.id,title:this.tab.title})},removeTab(){this.$emit("removeTab",{tabId:this.tab.id})}}},os=e=>(Oe("data-v-cc2fa8c1"),e=e(),De(),e),as={class:"manage-tab flex align-items-center"},rs={class:"flex-grow-1 flex align-items-center"},cs={class:"flex align-items-center"},ls=os(()=>m("span",{class:"flex-shrink-0 mr-3"},"List Name:",-1));function us(e,t,n,s,i,o){const a=v("n-input"),l=v("Times"),r=v("n-icon"),u=v("n-button"),c=v("n-tooltip");return x(),C("div",as,[m("div",rs,[m("div",cs,[ls,g(a,{type:"text",value:n.tab.title,"onUpdate:value":[t[0]||(t[0]=h=>n.tab.title=h),o.onTitleChanged],valueModifiers:{lazy:!0},placeholder:"Name"},null,8,["value","onUpdate:value"])])]),e.tabCount>1?(x(),G(c,{key:0,trigger:"hover"},{trigger:y(()=>[g(u,{class:"",secondary:"",type:"error",onClick:o.removeTab},{default:y(()=>[g(r,{size:"20"},{default:y(()=>[g(l)]),_:1})]),_:1},8,["onClick"])]),default:y(()=>[M(" Delete Tab ")]),_:1})):H("",!0)])}const hs=U(is,[["render",us],["__scopeId","data-v-cc2fa8c1"]]);const ds={name:"CraftingToolComponentSourcePicker",components:{},props:{componentId:{type:String,required:!0}},data(){return{itemLabelMap:Z}},computed:{...ee(D,["recipeData"])},methods:{setComponentPreferredSource(e,t){this.recipeData[e].preferredSource=t,this.$emit("change")}}};function ps(e,t,n,s,i,o){const a=v("n-button"),l=v("n-button-group");return e.recipeData[n.componentId]?(x(),G(l,{key:0,size:"small"},{default:y(()=>[(x(!0),C(Y,null,X(e.recipeData[n.componentId].sources,(r,u)=>(x(),G(a,{key:r,class:"mx-1",size:"tiny",ghost:"",type:"info",style:ut([e.recipeData[n.componentId].preferredSource===r?null:"--n-border: 1px solid rgba(255, 255, 255, 0.2); --n-text-color: #bbb"]),onClick:c=>o.setComponentPreferredSource(n.componentId,r)},{default:y(()=>{var c;return[m("span",null,F(((c=e.recipeData[r])==null?void 0:c.label)??i.itemLabelMap[r]??r),1)]}),_:2},1032,["style","onClick"]))),128))]),_:1})):H("",!0)}const ms=U(ds,[["render",ps]]);const fs={name:"CraftingToolCalculator",components:{ComponentSourcePicker:ms,SortAlphaDown:It,Times:Ne},props:{tab:{type:Object,required:!0}},data(){return{itemLabelMap:Z,requiredItemData:{},requiredCraftingStations:[],requiredComponents:[]}},watch:{includeSubComponents(e){e||this.setIncludeStationComponents(!1),this.triggerCalc()},includeStationComponents(e){e&&this.setIncludeSubComponents(!0),this.triggerCalc()}},computed:{...ee(D,["recipeData","itemTableData","isLoadingRecipes","settings"]),...et(D,["includeSubComponents","includeStationComponents"])},methods:{...ye(D,["setIncludeSubComponents","setIncludeStationComponents"]),sortInputs(){this.tab.items.sort((e,t)=>{const n=this.recipeData[e.id].label,s=this.recipeData[t.id].label;return n.localeCompare(s)})},onQuantityChange(e){e.quantity<1?this.$nextTick(()=>{this.removeItem(e),this.triggerCalc()}):this.$nextTick(()=>{this.triggerCalc()})},validateQuantity(e){return Number.isInteger(e)},removeItem(e){const t=(this.tab.items||[]).findIndex(n=>n.id===e.id);t>-1&&this.tab.items.splice(t,1)},triggerCalc:Pe.debounce(function(){this.calculateRequiredItems()},100),calculateRequiredItems(){const e=this.tab.items||[],t=this.recipeData,n=this.includeSubComponents,s=this.includeStationComponents,i={},o=new Set([]);function a(c=[],h={}){return c.forEach(d=>{const p=t[d.id];if(!p)return;const b=(d.quantity??1)/p.outputQuantity;(p.inputs||[]).forEach(w=>{const f=h[w.id]??0;h[w.id]=f+w.quantity*b;const S=t[w.id];n&&S&&a([{id:w.id,quantity:w.quantity*b}],h)})}),h}function l(){const c=h=>{const d=t[h];d!=null&&d.preferredSource&&o.add(d.preferredSource)};e.map(h=>h.id).forEach(c),Object.keys(i).forEach(c)}a(e,i),l(),s&&(a([...o].map(c=>({id:c})),i),l());const u=Object.keys(i).map(c=>{const h=Math.ceil(i[c]);return{id:c,quantity:h}}).sort((c,h)=>h.quantity-c.quantity);this.requiredCraftingStations=[...o].sort((c,h)=>{var b,w;const d=((b=t[c])==null?void 0:b.label)??Z[c]??c,p=((w=t[h])==null?void 0:w.label)??Z[h]??h;return d.localeCompare(p)}),this.requiredItemData=i,this.requiredComponents=u}}},J=e=>(Oe("data-v-06bf7b4d"),e=e(),De(),e),gs={key:0},_s={class:"flex align-items-center"},bs=J(()=>m("h3",null,"Items",-1)),vs={class:"relative flex align-items-center mr-1"},ys={key:0,class:"item-counter"},ws={class:"flex-grow-1"},Ss={class:"flex align-items-center pb-1"},Is={class:"flex-shrink"},xs={class:"label text-overflow-ellipsis"},Ts={class:"flex align-items-center flex-grow-1"},Cs=J(()=>m("div",{class:"flex align-items-center mt-3"},[m("h3",null,"Components")],-1)),ks={class:"p-1"},Ms={class:"flex align-items-center mb-1"},Rs=J(()=>m("span",null,"Include sub-components",-1)),As={class:"flex align-items-center mb-3 ml-3"},Es=J(()=>m("span",null,"Include station components",-1)),$s={class:"label"},Ls=J(()=>m("div",{class:"flex align-items-center"},[m("h3",null,"Crafting Stations")],-1)),Os={class:""},Ds={class:"recipe-item stations pl-0 flex align-items-center"},Ns={class:"flex align-items-center"},Ps={class:"label"},zs={key:1,class:"mb-3"},Fs=J(()=>m("h3",null,"No Items",-1));function Bs(e,t,n,s,i,o){const a=v("SortAlphaDown"),l=v("n-icon"),r=v("n-button"),u=v("n-tooltip"),c=v("n-image"),h=v("n-input-number"),d=v("component-source-picker"),p=v("Times"),b=v("n-switch"),w=v("n-text");return x(),C("div",null,[!e.isLoadingRecipes&&n.tab.items.length>0?(x(),C("div",gs,[m("div",_s,[bs,g(u,{trigger:"hover"},{trigger:y(()=>[g(r,{class:"ml-3",size:"tiny",secondary:"",circle:"",type:"default",onClick:o.sortInputs},{default:y(()=>[g(l,{size:"13"},{default:y(()=>[g(a)]),_:1})]),_:1},8,["onClick"])]),default:y(()=>[M(" Sort items alphabetically ")]),_:1})]),g(ht,{"x-appear":"",name:"list",tag:"div"},{default:y(()=>[(x(!0),C(Y,null,X(n.tab.items,f=>{var S,T,R;return x(),C("div",{class:"recipe-item flex align-items-center",key:f.id},[m("div",vs,[g(c,{class:"icon",width:"45",src:`/icarus-game/ItemIcons/${(S=e.recipeData[f.id])==null?void 0:S.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),((T=e.recipeData[f.id])==null?void 0:T.outputQuantity)>1?(x(),C("div",ys,"x"+F(e.recipeData[f.id].outputQuantity),1)):H("",!0)]),m("div",ws,[m("div",Ss,[m("div",Is,[m("div",xs,F(e.recipeData[f.id].label),1)])]),m("div",Ts,[g(h,{class:"input-quantity flex-shrink-0",value:f.quantity,"onUpdate:value":E=>f.quantity=E,placeholder:"Quantity",min:0,max:1e5,step:((R=e.recipeData[f.id])==null?void 0:R.outputQuantity)??1,validator:o.validateQuantity,"on-update-value":o.onQuantityChange(f)},null,8,["value","onUpdate:value","step","validator","on-update-value"]),g(d,{"component-id":f.id,onChange:t[0]||(t[0]=E=>o.triggerCalc())},null,8,["component-id"]),g(u,{trigger:"hover"},{trigger:y(()=>[g(r,{class:"hover-button ml-auto",secondary:"",type:"error",size:"small",onClick:E=>o.removeItem(f)},{default:y(()=>[g(l,{size:"13"},{default:y(()=>[g(p)]),_:1})]),_:2},1032,["onClick"])]),default:y(()=>[M(" Remove from list ")]),_:2},1024)])])])}),128))]),_:1}),Cs,m("div",ks,[m("div",Ms,[g(b,{class:"mr-2",value:e.settings.includeSubComponents,"onUpdate:value":t[1]||(t[1]=f=>e.settings.includeSubComponents=f),size:"small"},null,8,["value"]),Rs]),m("div",As,[g(b,{class:"mr-2",value:e.settings.includeStationComponents,"onUpdate:value":t[2]||(t[2]=f=>e.settings.includeStationComponents=f),size:"small"},null,8,["value"]),Es]),m("div",null,[(x(!0),C(Y,null,X(i.requiredComponents,f=>{var S;return x(),C("div",{key:f.id,class:"component-row flex align-items-center"},[m("div",$s,F(f.quantity)+" "+F(((S=e.recipeData[f.id])==null?void 0:S.label)??i.itemLabelMap[f.id]??f.id),1),g(d,{"component-id":f.id,onChange:t[3]||(t[3]=T=>o.triggerCalc())},null,8,["component-id"])])}),128))])]),Ls,m("div",Os,[(x(!0),C(Y,null,X(i.requiredCraftingStations,f=>{var S,T;return x(),C("div",Ds,[m("div",Ns,[g(c,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${(S=e.recipeData[f])==null?void 0:S.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),m("div",Ps,F(((T=e.recipeData[f])==null?void 0:T.label)??i.itemLabelMap[f]??f),1)])])}),256))])])):(x(),C("div",zs,[Fs,g(w,{type:"info"},{default:y(()=>[M("You haven't added any items to this list yet.")]),_:1})]))])}const js=U(fs,[["render",Bs],["__scopeId","data-v-06bf7b4d"]]),oe=D(),Vs={name:"CraftingToolTabView",components:{ManageTab:hs,CraftingCalculator:js},props:[],data(){return{activeTabId:oe.activeTabId,maxTabCount:20,addable:!0,closable:!0}},watch:{activeTabId:function(e){this.setActiveTab(e)}},computed:{...ee(D,["tabs","tabCount","activeTab","isLoadingRecipes"])},methods:{...ye(D,["setActiveTab"]),handleAdd(){},handleClose(){},addTab(){const e=oe.addTab();this.setActiveTab(e.id),this.syncSelectedTab()},removeTab({tabId:e}={}){oe.removeTab(e),this.syncSelectedTab()},syncSelectedTab(){this.activeTabId=oe.activeTabId,this.syncTabBarPosition()},syncTabBarPosition(){this.$nextTick(()=>{var e;(e=this.$refs.tabsInstRef)==null||e.syncBarPosition()})}}},Ws={class:"flex align-items-center mb-3"},qs={class:"flex align-items-center ml-auto"},Hs={class:"mr-3"},Qs=m("span",null,"Add Tab",-1);function Gs(e,t,n,s,i,o){const a=v("n-button"),l=v("manage-tab"),r=v("crafting-calculator"),u=v("n-tab-pane"),c=v("n-tabs"),h=v("n-card"),d=v("n-spin");return x(),C("div",null,[m("div",Ws,[m("div",qs,[m("div",Hs,F(e.tabCount)+" / "+F(i.maxTabCount),1),g(a,{class:"",strong:"",secondary:"",type:"primary",onClick:o.addTab,disabled:e.tabCount===i.maxTabCount},{default:y(()=>[Qs]),_:1},8,["onClick","disabled"])])]),g(d,{show:e.isLoadingRecipes},{default:y(()=>[g(h,{class:"overflow-hidden","content-style":"padding: 1rem;"},{default:y(()=>[g(c,{ref:"tabsInstRef",value:i.activeTabId,"onUpdate:value":t[0]||(t[0]=p=>i.activeTabId=p),type:"bar",addable:i.addable,closable:i.closable,"tab-style":""},{default:y(()=>[(x(!0),C(Y,null,X(e.tabs,p=>(x(),G(u,{tab:p.title,name:p.id,key:p.id},{default:y(()=>[g(l,{tab:p,onUpdateTab:o.syncTabBarPosition,onRemoveTab:o.removeTab},null,8,["tab","onUpdateTab","onRemoveTab"]),g(r,{tab:p},null,8,["tab"])]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value","addable","closable"])]),_:1})]),_:1},8,["show"])])}const Us=U(Vs,[["render",Gs]]);const Ks=D();Ks.loadRecipeData();const ve=Object.freeze({welcome:1,whatsNew:20231027}),$e=e=>{const t=localStorage.getItem(`alert:version:${e}`);return!t||Number(t)<ve[e]},Js={name:"Icarus",components:{Hammer:ft,ItemSearchView:ss,TabsView:Us},props:[],data(){return{showWelcomeAlert:$e("welcome"),showWhatsNewAlert:$e("whatsNew")}},computed:{},methods:{dismissAlert(e){e&&ve[e]&&localStorage.setItem(`alert:version:${e}`,ve[e])}}},Ys={class:"icarus-wrap p-2 pt-3"},Xs=m("ul",{class:"mb-0 pl-0 list-none"},[m("li",{class:"mb-1"},[M(" Support for "),m("a",{class:"text-primary font-bold",href:"https://store.steampowered.com/news/app/1149460/view/5622242686590633480",target:"_blank"}," Icarus Week 102 Update ")]),m("li",{class:"mb-1"},[M(" 🔄 All your Tabs and Toggle options now persist between sessions. Data saves to "),m("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",target:"_blank",class:"text-primary"},"localStorage"),M(". ")])],-1),Zs={class:"flex flex-wrap"},ei={class:"m-2 text-200 flex align-items-center"},ti={class:"game-version"},ni=m("ul",null,[m("li",{class:"line-through"},"Save tab data in localStorage to support session restoration"),m("li",{class:"line-through"},"Show stack size on icons that normally produce more than 1 item"),m("li",{class:"line-through"},"Improve item search matching (fuzzy search)"),m("li",null,'Add way to "check" off items (mark as done)'),m("li",null,"Implement talent options logic to impact component output calculation"),m("li",null,"Indicate which items belong to each Tier (not specified in game data export directly)")],-1),si=m("div",{class:"m-2"},[m("div",null,[M("Created by "),m("a",{class:"text-primary font-bold",href:"https://github.com/Drumstix42/drumstix42.github.io"},"Drumstix42")]),m("div",null,[M(" This page/site is not affiliated with "),m("a",{class:"text-primary",href:"https://store.steampowered.com/app/1149460/ICARUS/",target:"_blank"},"Icarus"),M(", "),m("a",{class:"text-primary",href:"https://rocketwerkz.com/",target:"_blank"},"RocketWerkz"),M(", or any of its subsidiaries. ")])],-1);function ii(e,t,n,s,i,o){const a=v("n-alert"),l=v("item-search-view"),r=v("n-text"),u=v("n-input"),c=v("tabs-view"),h=v("Hammer"),d=v("n-icon");return x(),C("div",Ys,[i.showWelcomeAlert?(x(),G(a,{key:0,class:"m-2 mb-3",title:"Crafting Calculator",type:"info",closable:"",onAfterLeave:t[0]||(t[0]=p=>o.dismissAlert("welcome"))},{default:y(()=>[M(" Search and add items from the list below to add them to your to-do list, which will calculate your item requirements. ")]),_:1})):H("",!0),i.showWhatsNewAlert?(x(),G(a,{key:1,class:"m-2 mb-3",title:"What's New?",type:"success",closable:"",onAfterLeave:t[1]||(t[1]=p=>o.dismissAlert("whatsNew"))},{default:y(()=>[Xs]),_:1})):H("",!0),m("div",Zs,[m("div",null,[g(l,{class:"item-selector"}),m("div",ei,[g(r,{depth:"3",class:"flex-shrink-0"},{default:y(()=>[M("Supports game version")]),_:1}),m("div",ti,[g(u,{value:"v2.1.5.117759",readonly:""})]),g(r,{depth:"3"},{default:y(()=>[M("2023/11/17")]),_:1})])]),g(c,{class:"tab-view flex-1"})]),g(a,{class:"m-2 mt-3 mb-4",title:"Developer Todo List",type:"default",closable:""},{icon:y(()=>[g(d,{size:"20"},{default:y(()=>[g(h)]),_:1})]),default:y(()=>[ni]),_:1}),si])}const ci=U(Js,[["render",ii]]);export{ci as default};
