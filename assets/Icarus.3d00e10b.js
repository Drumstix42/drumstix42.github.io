var ee=Object.defineProperty,te=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var H=(e,t,n)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))oe.call(t,n)&&H(e,n,t[n]);if(Q)for(var n of Q(t))ae.call(t,n)&&H(e,n,t[n]);return e},E=(e,t)=>te(e,ne(t));import{G as z,c as $,a as s,o as m,H as se,I as ie,J as O,K as U,r as l,i as g,e as a,w as d,L as P,M as B,f as I,O as G,P as J,Q as L,R as A,S as re,T as le}from"./vendor.5478e00f.js";import{_ as q}from"./icarus.2386286a.js";import"./style.79205ed0.js";const ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 576 512"},de=s("path",{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31l-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z",fill:"currentColor"},null,-1);var ue=z({name:"Hammer",render:function(t,n){return m(),$("svg",ce,[de])}});const _e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},pe=s("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1);var me=z({name:"Plus",render:function(t,n){return m(),$("svg",_e,[pe])}});const he={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},be=s("path",{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z",fill:"currentColor"},null,-1);var fe=z({name:"SortAlphaDown",render:function(t,n){return m(),$("svg",he,[be])}});const ve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 352 512"},ge=s("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1);var N=z({name:"Times",render:function(t,n){return m(),$("svg",ve,[ge])}});function W(e,t,n){var i,o,u,b,f;t==null&&(t=100);function h(){var c=Date.now()-b;c<t&&c>=0?i=setTimeout(h,t-c):(i=null,n||(f=e.apply(u,o),u=o=null))}var v=function(){u=this,o=arguments,b=Date.now();var c=n&&!i;return i||(i=setTimeout(h,t)),c&&(f=e.apply(u,o),u=o=null),f};return v.clear=function(){i&&(clearTimeout(i),i=null)},v.flush=function(){i&&(f=e.apply(u,o),u=o=null,clearTimeout(i),i=null)},v}W.debounce=W;var K=W;const Ce=Object.freeze({Basic_Oxite_Dissolver:!0}),F=Object.freeze({Bauxite:"Aluminum Ore",Copper_Ore:"Copper Ore",Iron_Ore:"Iron Ore",Gold_Ore:"Gold Ore",Metal_Ore:"Iron Ore",Coal_Ore:"Coal Ore",Platinum_Ore:"Platinum Ore",Titanium_Ore:"Titanium Ore",Refined_Metal:"Iron Ingot",Metal_Axe:"Iron Axe",Metal_Bolt:"Iron Bolt",Metal_Crate_Medium:"Iron Crate Medium",Metal_Crate_Small:"Iron Crate Small",Metal_Cupboard:"Iron Cupboard",Metal_Knife:"Iron Knife",Metal_Pickaxe:"Iron Pickaxe",Metal_Spear:"Iron Spear",Carpentry_Bench_T4:"Electric Carpentry Bench",Masonry_Bench_T4:"Electric Masonry Bench",Stick_Talent:"Stick (Talent)",Talent_Leather_Rope:"Rope (Talent)",Armor_Bench:"Textiles Bench",Rope_Armor_Bench:"Rope (Armor Bench)",Epoxy_2:"Epoxy (Crushed Bone)",Raw_Meat:"Raw Meat",Building_UpgradeTool:"Building Upgrade Tool",Composite_Paste_Plat:"Composite Paste (Platinum)",Food_Cooked_Carrot:"Barbecue Carrot",Food_Cooked_Corn:"Charred Corn",Food_Corn_Soup:"Corn Soup",Food_Creamed_Corn:"Creamed Corn",Food_Cooked_Pumpkin:"Grilled Pumpkin",Food_Cooked_Squash:"Roasted Squash",Food_Meat_Stew:"Meat Stew",Food_Fish_Dish:"Fish Dish",Food_Fried_Soy_Beans:"Fried Soy Beans",Food_Mushroom_Soup:"Mushroom Soup",Food_Fruit_Salad:"Fruit Salad",Food_Roasted_Vegetables:"Roasted Vegetables",Food_Cooked_Mushroom:"Seared Mushroom",Food_Wild_Salad:"Field Salad",Paste_Food_Consumption:"Food Paste",Glass_Bottle_Beer:"Beer Bottle",Glass_Bottle_Wine:"Wine Bottle",Glass_Jar_Jam:"Berry Jam",Wood_Floor_CarpentryBench:"Wood Floor (Carpentry Bench)",Wood_Frame_CarpentryBench:"Wood Frame (Carpentry Bench)",Wood_Ramp_CarpentryBench:"Wood Ramp (Carpentry Bench)",Wood_Wall_Angled_CarpentryBench:"Wood Wall Angled (Carpentry Bench)",Wood_Wall_CarpentryBench:"Wood Wall (Carpentry Bench)",Steel_Bloom2:"Steel Bloom (Ingot)"}),ye=e=>e.replace(/_/g," "),we=e=>{const t=F[e];return t||ye(e)};function Ie(e=[]){const t={};return e.forEach(n=>{const i=n.Name;Ce[i]||(t[i]={label:we(i),id:i,inputs:[],sources:[],preferredSource:null,outputQuantity:1},(n.Inputs||[]).forEach(o=>{t[i].inputs.push({id:o.Element.RowName,quantity:o.Count})}),(n.RecipeSets||[]).forEach(o=>{t[i].sources.push(o.RowName)}),t[i].preferredSource=t[i].sources[0],(n.Outputs||[]).forEach(o=>{(i===o.Element.RowName||i.includes(o.Element.RowName))&&(t[i].outputQuantity=o.Count)}))}),t}const Te=()=>Date.now(),Y=()=>se({id:Te(),title:"Planning",items:[]}),X=(e,t)=>t.findIndex(n=>n.id===e),Z=Y(),Se=Z.id,x=ie("icarus",{state:()=>({activeTabId:Se,tabs:[Z],recipeData:{},recipeOptions:[],isLoadingRecipes:!1,recipeSearch:""}),getters:{activeTab:e=>e.tabs.find(t=>t.id===e.activeTabId),tabCount(){return this.tabs.length},sortedRecipeOptions(e){return e.recipeOptions.sort((t,n)=>t.label.localeCompare(n.label))},filteredRecipeOptions(e){if(e.recipeSearch){const t=e.recipeSearch.toLowerCase();return this.sortedRecipeOptions.filter(n=>n.label.toLowerCase().includes(t))}return this.sortedRecipeOptions}},actions:{addTab(){const e=Y();return this.tabs.push(e),e},removeTab(e){const t=X(e,this.tabs);if(t!==-1)this.tabs.splice(t,1);else{console.error(`Could not find tab with id ${e}`,this.tabs);return}const n=Math.min(t,this.tabs.length-1),i=this.tabs[n];this.activeTabId=i.id},setActiveTab(e){this.activeTabId=e},setTabTitle(e,t){const n=X(e,this.tabs);n!==-1&&(this.tabs[n].title=t)},addItem(e,t=1){var i;const n=this.activeTab;if(n){const o=n.items.find(b=>b.id===e),u=(i=this.recipeData[e].outputQuantity)!=null?i:1;o?o.quantity+=u:n.items.push({id:e,quantity:u})}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},removeItem(e){const t=this.activeTab;if(t){const n=t.items.findIndex(i=>i.id===e);t.items.splice(n,1)}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},async loadRecipeData(){this.isLoadingRecipes=!0;const t=await(await fetch("/icarus-game/Data/Recipes.json",{method:"GET",headers:{"Content-Type":"application/json"}})).json(),n=Ie(t==null?void 0:t.Rows);console.log(n),this.recipeData=n,this.recipeOptions=Object.values(n),this.isLoadingRecipes=!1}}});const xe=x(),ke={name:"CraftingToolItemSelector",components:{Plus:me},props:{},data(){return{searchValue:null}},computed:R({},O(x,["isLoadingRecipes","filteredRecipeOptions"])),methods:E(R({},U(x,["addItem"])),{onSearch:K.debounce(e=>{xe.recipeSearch=e},100)})},$e={class:"mb-3"},Re={key:0,class:"p-3 font-italic"},Be=["onClick"],De={class:"flex-shrink",style:{"min-width":"0"}},qe={class:"label text-overflow-ellipsis"},Me=I(" Add to list ");function Oe(e,t,n,i,o,u){const b=l("n-input"),f=l("n-image"),h=l("Plus"),v=l("n-icon"),c=l("n-button"),_=l("n-tooltip"),p=l("RecycleScroller"),k=l("n-card"),T=l("n-spin");return m(),g("div",null,[a("div",$e,[s(b,{type:"text",value:o.searchValue,"onUpdate:value":t[0]||(t[0]=S=>o.searchValue=S),placeholder:"Search...",clearable:"",onInput:u.onSearch},null,8,["value","onInput"])]),s(T,{show:e.isLoadingRecipes},{default:d(()=>[s(k,{class:"scroll-wrap","content-style":"padding: 0;"},{default:d(()=>[e.filteredRecipeOptions.length===0?(m(),g("div",Re,"No matching items found.")):P("",!0),s(p,{class:"scroller",items:e.filteredRecipeOptions,"item-size":40,"key-field":"id"},{default:d(({index:S,item:r})=>[a("div",{class:"recipe-item flex align-items-center",onClick:C=>e.addItem(r.id)},[s(f,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/ITEM_${r.id}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!0},null,8,["src"]),a("div",De,[a("div",qe,B(r.label),1)]),s(_,{trigger:"hover"},{trigger:d(()=>[s(c,{class:"hover-button ml-auto",secondary:"",type:"default",size:"small"},{default:d(()=>[s(v,{size:"13"},{default:d(()=>[s(h)]),_:1})]),_:1})]),default:d(()=>[Me]),_:1})],8,Be)]),_:1},8,["items"])]),_:1})]),_:1},8,["show"])])}var Le=q(ke,[["render",Oe],["__scopeId","data-v-09eaab22"]]);const Ae={name:"CraftingToolManageTab",components:{Times:N},props:{tab:{type:Object,required:!0}},emits:["removeTab"],data(){return{}},computed:R({},O(x,["tabs","tabCount"])),methods:{removeTab(){this.$emit("removeTab",{tabId:this.tab.id})}}},Fe=e=>(G("data-v-6163a402"),e=e(),J(),e),ze={class:"manage-tab flex align-items-center"},Pe={class:"flex-grow-1 flex align-items-center"},Ve={class:"flex align-items-center"},Ee=Fe(()=>a("span",{class:"flex-shrink-0 mr-3"},"List Name:",-1)),We=I(" Delete Tab ");function je(e,t,n,i,o,u){const b=l("n-input"),f=l("Times"),h=l("n-icon"),v=l("n-button"),c=l("n-tooltip");return m(),g("div",ze,[a("div",Pe,[a("div",Ve,[Ee,s(b,{type:"text",value:n.tab.title,"onUpdate:value":t[0]||(t[0]=_=>n.tab.title=_),placeholder:"Name"},null,8,["value"])])]),e.tabCount>1?(m(),$(c,{key:0,trigger:"hover"},{trigger:d(()=>[s(v,{class:"",secondary:"",type:"error",onClick:u.removeTab},{default:d(()=>[s(h,{size:"20"},{default:d(()=>[s(f)]),_:1})]),_:1},8,["onClick"])]),default:d(()=>[We]),_:1})):P("",!0)])}var Qe=q(Ae,[["render",je],["__scopeId","data-v-6163a402"]]);const He={name:"CraftingToolComponentSourcePicker",components:{},props:{componentId:{type:String,required:!0}},data(){return{itemLabelMap:F}},computed:R({},O(x,["recipeData"])),methods:{setComponentPreferredSource(e,t){this.recipeData[e].preferredSource=t,this.$emit("change")}}};function Ue(e,t,n,i,o,u){const b=l("n-button"),f=l("n-button-group");return e.recipeData[n.componentId]?(m(),$(f,{key:0,size:"small"},{default:d(()=>[(m(!0),g(A,null,L(e.recipeData[n.componentId].sources,(h,v)=>(m(),$(b,{key:h,class:"mx-1",size:"tiny",ghost:"",type:"info",style:re([e.recipeData[n.componentId].preferredSource===h?null:"--n-border: 1px solid rgba(255, 255, 255, 0.2); --n-text-color: #bbb"]),onClick:c=>u.setComponentPreferredSource(n.componentId,h)},{default:d(()=>{var c,_,p;return[a("span",null,B((p=(_=(c=e.recipeData[h])==null?void 0:c.label)!=null?_:o.itemLabelMap[h])!=null?p:h),1)]}),_:2},1032,["style","onClick"]))),128))]),_:1})):P("",!0)}var Ge=q(He,[["render",Ue]]);const Je={name:"CraftingToolCalculator",components:{ComponentSourcePicker:Ge,SortAlphaDown:fe,Times:N},props:{tab:{type:Object,required:!0}},data(){return{itemLabelMap:F,requiredItemData:{},requiredCraftingStations:[],requiredComponents:[],includeSubComponents:!1,includeCraftingStations:!1}},watch:{includeSubComponents(e){e||(this.includeCraftingStations=!1),this.triggerCalc()},includeCraftingStations(e){e&&(this.includeSubComponents=!0),this.triggerCalc()}},computed:R({},O(x,["recipeData"])),methods:{sortInputs(){this.tab.items.sort((e,t)=>{const n=this.recipeData[e.id].label,i=this.recipeData[t.id].label;return n.localeCompare(i)})},onQuantityChange(e){e.quantity<1?this.$nextTick(()=>{this.removeItem(e),this.triggerCalc()}):this.$nextTick(()=>{this.triggerCalc()})},validateQuantity(e){return Number.isInteger(e)},removeItem(e){const t=(this.tab.items||[]).findIndex(n=>n.id===e.id);t>-1&&this.tab.items.splice(t,1)},triggerCalc:K.debounce(function(){this.calculateRequiredItems()},100),calculateRequiredItems(){const e=this.tab.items||[],t=this.recipeData,n=this.includeSubComponents,i=this.includeCraftingStations,o={},u=new Set([]);function b(c=[],_={}){return c.forEach(p=>{var S;const k=t[p.id];if(!k)return;const T=((S=p.quantity)!=null?S:1)/k.outputQuantity;(k.inputs||[]).forEach(r=>{var y;const C=(y=_[r.id])!=null?y:0;_[r.id]=C+r.quantity*T;const w=t[r.id];n&&w&&b([{id:r.id,quantity:r.quantity*T}],_)})}),_}function f(){const c=_=>{const p=t[_];(p==null?void 0:p.preferredSource)&&u.add(p.preferredSource)};e.map(_=>_.id).forEach(c),Object.keys(o).forEach(c)}b(e,o),f(),i&&(b([...u].map(c=>({id:c})),o),f());const v=Object.keys(o).map(c=>{const _=Math.ceil(o[c]);return{id:c,quantity:_}}).sort((c,_)=>_.quantity-c.quantity);this.requiredCraftingStations=[...u].sort((c,_)=>{var T,S,r,C,w,y;const p=(r=(S=(T=t[c])==null?void 0:T.label)!=null?S:F[c])!=null?r:c,k=(y=(w=(C=t[_])==null?void 0:C.label)!=null?w:F[_])!=null?y:_;return p.localeCompare(k)}),this.requiredItemData=o,this.requiredComponents=v}}},M=e=>(G("data-v-e23eaa14"),e=e(),J(),e),Ne={key:0},Ke={class:"flex align-items-center"},Ye=M(()=>a("h3",null,"Items",-1)),Xe=I(" Sort items alphabetically "),Ze={class:"flex-shrink label-wrap"},et={class:"label text-overflow-ellipsis"},tt=I(" Remove from list "),nt=M(()=>a("div",{class:"flex align-items-center mt-3"},[a("h3",null,"Components")],-1)),ot={class:"p-1"},at={class:"flex align-items-center mb-1"},st=M(()=>a("span",null,"Include sub-components",-1)),it={class:"flex align-items-center mb-3 ml-3"},rt=M(()=>a("span",null,"Include station components",-1)),lt={class:"label"},ct=M(()=>a("div",{class:"flex align-items-center"},[a("h3",null,"Crafting Stations")],-1)),dt={class:""},ut={class:"recipe-item pl-0 flex align-items-center"},_t={class:"flex align-items-center"},pt={class:"label"},mt={key:1,class:"mb-3"},ht=M(()=>a("h3",null,"No Items",-1)),bt=I("You haven't added any items to this list yet.");function ft(e,t,n,i,o,u){const b=l("SortAlphaDown"),f=l("n-icon"),h=l("n-button"),v=l("n-tooltip"),c=l("n-input-number"),_=l("n-image"),p=l("component-source-picker"),k=l("Times"),T=l("n-switch"),S=l("n-text");return m(),g("div",null,[n.tab.items.length>0?(m(),g("div",Ne,[a("div",Ke,[Ye,s(v,{trigger:"hover"},{trigger:d(()=>[s(h,{class:"ml-3",size:"tiny",secondary:"",circle:"",type:"default",onClick:u.sortInputs},{default:d(()=>[s(f,{size:"13"},{default:d(()=>[s(b)]),_:1})]),_:1},8,["onClick"])]),default:d(()=>[Xe]),_:1})]),s(le,{"x-appear":"",name:"list",tag:"div"},{default:d(()=>[(m(!0),g(A,null,L(n.tab.items,r=>{var C,w,y;return m(),g("div",{class:"recipe-item flex align-items-center",key:r.id},[s(c,{class:"input-quantity flex-shrink-0",value:r.quantity,"onUpdate:value":D=>r.quantity=D,placeholder:"Quantity",min:0,max:1e5,step:(w=(C=e.recipeData[r.id])==null?void 0:C.outputQuantity)!=null?w:1,validator:u.validateQuantity,"on-update-value":u.onQuantityChange(r)},null,8,["value","onUpdate:value","step","validator","on-update-value"]),s(_,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/ITEM_${(y=e.recipeData[r.id])==null?void 0:y.id}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),a("div",Ze,[a("div",et,B(e.recipeData[r.id].label),1)]),s(p,{"component-id":r.id,onChange:t[0]||(t[0]=D=>u.triggerCalc())},null,8,["component-id"]),s(v,{trigger:"hover"},{trigger:d(()=>[s(h,{class:"hover-button ml-auto",secondary:"",type:"error",size:"small",onClick:D=>u.removeItem(r)},{default:d(()=>[s(f,{size:"13"},{default:d(()=>[s(k)]),_:1})]),_:2},1032,["onClick"])]),default:d(()=>[tt]),_:2},1024)])}),128))]),_:1}),nt,a("div",ot,[a("div",at,[s(T,{class:"mr-2",value:o.includeSubComponents,"onUpdate:value":t[1]||(t[1]=r=>o.includeSubComponents=r),size:"small"},null,8,["value"]),st]),a("div",it,[s(T,{class:"mr-2",value:o.includeCraftingStations,"onUpdate:value":t[2]||(t[2]=r=>o.includeCraftingStations=r),size:"small"},null,8,["value"]),rt]),a("div",null,[(m(!0),g(A,null,L(o.requiredComponents,r=>{var C,w,y;return m(),g("div",{key:r.id,class:"component-row flex align-items-center"},[a("div",lt,B(r.quantity)+" "+B((y=(w=(C=e.recipeData[r.id])==null?void 0:C.label)!=null?w:o.itemLabelMap[r.id])!=null?y:r.id),1),s(p,{"component-id":r.id,onChange:t[3]||(t[3]=D=>u.triggerCalc())},null,8,["component-id"])])}),128))])]),ct,a("div",dt,[(m(!0),g(A,null,L(o.requiredCraftingStations,r=>{var C,w,y,D;return m(),g("div",ut,[a("div",_t,[s(_,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/ITEM_${(C=e.recipeData[r])==null?void 0:C.id}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),a("div",pt,B((D=(y=(w=e.recipeData[r])==null?void 0:w.label)!=null?y:o.itemLabelMap[r])!=null?D:r),1)])])}),256))])])):(m(),g("div",mt,[ht,s(S,{type:"info"},{default:d(()=>[bt]),_:1})]))])}var vt=q(Je,[["render",ft],["__scopeId","data-v-e23eaa14"]]);const V=x(),gt={name:"CraftingToolTabView",components:{ManageTab:Qe,CraftingCalculator:vt},props:[],data(){return{activeTabId:V.activeTabId,maxTabCount:20,addable:!0,closable:!0}},watch:{activeTabId:function(e){this.setActiveTab(e)}},computed:R({},O(x,["tabs","tabCount","activeTab"])),methods:E(R({},U(x,["setActiveTab"])),{handleAdd(){},handleClose(){},addTab(){const e=V.addTab();this.setActiveTab(e.id),this.syncSelectedTab()},removeTab({tabId:e}={}){V.removeTab(e),this.syncSelectedTab()},syncSelectedTab(){this.activeTabId=V.activeTabId,this.$nextTick(()=>{var e;(e=this.$refs.tabsInstRef)==null||e.syncBarPosition()})}})},Ct={class:"flex align-items-center mb-3"},yt={class:"flex align-items-center ml-auto"},wt={class:"mr-3"},It=a("span",null,"Add Tab",-1);function Tt(e,t,n,i,o,u){const b=l("n-button"),f=l("manage-tab"),h=l("crafting-calculator"),v=l("n-tab-pane"),c=l("n-tabs"),_=l("n-card");return m(),g("div",null,[a("div",Ct,[a("div",yt,[a("div",wt,B(e.tabCount)+" / "+B(o.maxTabCount),1),s(b,{class:"",strong:"",secondary:"",type:"primary",onClick:u.addTab,disabled:e.tabCount===o.maxTabCount},{default:d(()=>[It]),_:1},8,["onClick","disabled"])])]),s(_,{class:"overflow-hidden"},{default:d(()=>[s(c,{ref:"tabsInstRef",value:o.activeTabId,"onUpdate:value":t[0]||(t[0]=p=>o.activeTabId=p),type:"bar",addable:o.addable,closable:o.closable,"tab-style":""},{default:d(()=>[(m(!0),g(A,null,L(e.tabs,p=>(m(),$(v,{tab:p.title,name:p.id,key:p.id},{default:d(()=>[s(f,{tab:p,onRemoveTab:u.removeTab},null,8,["tab","onRemoveTab"]),s(h,{tab:p},null,8,["tab"])]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value","addable","closable"])]),_:1})])}var St=q(gt,[["render",Tt]]);const xt=x();xt.loadRecipeData();const j=Object.freeze({welcome:1}),kt=e=>{const t=localStorage.getItem(`alert:version:${e}`);return!t||Number(t)<j[e]},$t={name:"Icarus",components:{Hammer:ue,ItemSearchView:Le,TabsView:St},props:[],data(){return{showWelcomeAlert:kt("welcome")}},computed:{},methods:{dismissAlert(e){e&&j[e]&&localStorage.setItem(`alert:version:${e}`,j[e])}}},Rt={class:"icarus-wrap p-2 pt-3"},Bt=I(" Search and add items from the list below to add them to your to-do list, which will calculate your item requirements. "),Dt={class:"flex flex-wrap"},qt={class:"m-2 text-200"},Mt=I("Supports game version"),Ot=I("\xA0 "),Lt=I("1.1.1.90886 - 2022/02/03"),At=a("ul",null,[a("li",null,"Improve any mismatching item labels vs what shows in-game (labels from game data export are not perfect, and must be mapped manually)"),a("li",null,"Resolve remaining item icon mis-matches (game data export doesn't match image export)"),a("li",null,"Save tab data in localStorage to support session restoration"),a("li",null,"Show stack size on icons that normally produce more than 1 item"),a("li",null,"Implement talent options logic to impact component output calculation"),a("li",null,"Indicate which items belong to each Tier (not specified in game data export directly)"),a("li",null,"Improve item search matching (scrubby search)")],-1),Ft=a("div",{class:"m-2"},[a("div",null,"Created by Drumstix42."),a("div",null,[I(" This page/site is not affiliated with "),a("a",{class:"text-primary",href:"https://store.steampowered.com/app/1149460/ICARUS/",target:"_blank"},"Icarus"),I(", "),a("a",{class:"text-primary",href:"https://rocketwerkz.com/",target:"_blank"},"RocketWerkz"),I(", or any of its subsidiaries. ")])],-1);function zt(e,t,n,i,o,u){const b=l("n-alert"),f=l("item-search-view"),h=l("n-text"),v=l("tabs-view"),c=l("Hammer"),_=l("n-icon");return m(),g("div",Rt,[o.showWelcomeAlert?(m(),$(b,{key:0,class:"m-2 mb-3",title:"Crafting Calculator",type:"info",closable:"",onAfterLeave:t[0]||(t[0]=p=>u.dismissAlert("welcome"))},{default:d(()=>[Bt]),_:1})):P("",!0),a("div",Dt,[a("div",null,[s(f,{class:"item-selector"}),a("div",qt,[s(h,{depth:"3"},{default:d(()=>[Mt]),_:1}),Ot,s(h,{code:""},{default:d(()=>[Lt]),_:1})])]),s(v,{class:"tab-view flex-1"})]),s(b,{class:"m-2 mt-3 mb-4",title:"Calculator Todo List",type:"default",closable:""},{icon:d(()=>[s(_,{size:"20"},{default:d(()=>[s(c)]),_:1})]),default:d(()=>[At]),_:1}),Ft])}var jt=q($t,[["render",zt]]);export{jt as default};
