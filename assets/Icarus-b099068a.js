import{d as rt,m as Z,a as we,_ as U,b as at}from"./icarus-ea33237b.js";import{k as ce,o as x,b9 as C,e as f,u as ct,a_ as lt,a$ as ut,r as Se,l as dt,m as ie,bb as ht,H as pt,s as ft,aW as mt,b5 as v,a as _,w as y,f as O,b7 as W,bc as z,c as Q,b1 as je,b2 as Fe,F as J,b8 as Y,bd as _t,aj as gt}from"./style-6110507d.js";const bt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 576 512"},vt=f("path",{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31l-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z",fill:"currentColor"},null,-1),yt=[vt],wt=ce({name:"Hammer",render:function(t,n){return x(),C("svg",bt,yt)}}),St={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},It=f("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),xt=[It],Tt=ce({name:"Plus",render:function(t,n){return x(),C("svg",St,xt)}}),Ct={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},kt=f("path",{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z",fill:"currentColor"},null,-1),Ot=[kt],Mt=ce({name:"SortAlphaDown",render:function(t,n){return x(),C("svg",Ct,Ot)}}),$t={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 352 512"},At=f("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),Et=[At],Be=ce({name:"Times",render:function(t,n){return x(),C("svg",$t,Et)}});function he(e,t,n){var s,o,i,r,l;t==null&&(t=100);function a(){var c=Date.now()-r;c<t&&c>=0?s=setTimeout(a,t-c):(s=null,n||(l=e.apply(i,o),i=o=null))}var u=function(){i=this,o=arguments,r=Date.now();var c=n&&!s;return s||(s=setTimeout(a,t)),c&&(l=e.apply(i,o),i=o=null),l};return u.clear=function(){s&&(clearTimeout(s),s=null)},u.flush=function(){s&&(l=e.apply(i,o),i=o=null,clearTimeout(s),s=null)},u}he.debounce=he;var Ve=he;function Rt(e){return lt()?(ut(e),!0):!1}function P(e){return typeof e=="function"?e():ct(e)}const Dt=typeof window<"u",Lt=()=>{};function Pt(e,t){function n(...s){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(i)})}return n}const qe=e=>e();function Nt(e=qe){const t=Se(!0);function n(){t.value=!1}function s(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:dt(t),pause:n,resume:s,eventFilter:o}}var Te=Object.getOwnPropertySymbols,zt=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable,Ft=(e,t)=>{var n={};for(var s in e)zt.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Te)for(var s of Te(e))t.indexOf(s)<0&&jt.call(e,s)&&(n[s]=e[s]);return n};function Bt(e,t,n={}){const s=n,{eventFilter:o=qe}=s,i=Ft(s,["eventFilter"]);return ie(e,Pt(o,t),i)}var Vt=Object.defineProperty,qt=Object.defineProperties,Wt=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,Ce=(e,t,n)=>t in e?Vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ht=(e,t)=>{for(var n in t||(t={}))We.call(t,n)&&Ce(e,n,t[n]);if(re)for(var n of re(t))He.call(t,n)&&Ce(e,n,t[n]);return e},Qt=(e,t)=>qt(e,Wt(t)),Ut=(e,t)=>{var n={};for(var s in e)We.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&re)for(var s of re(e))t.indexOf(s)<0&&He.call(e,s)&&(n[s]=e[s]);return n};function Gt(e,t,n={}){const s=n,{eventFilter:o}=s,i=Ut(s,["eventFilter"]),{eventFilter:r,pause:l,resume:a,isActive:u}=Nt(o);return{stop:Bt(e,t,Qt(Ht({},i),{eventFilter:r})),pause:l,resume:a,isActive:u}}function Kt(e){var t;const n=P(e);return(t=n==null?void 0:n.$el)!=null?t:n}const pe=Dt?window:void 0;function ke(...e){let t,n,s,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,o]=e,t=pe):[t,n,s,o]=e,!t)return Lt;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],r=()=>{i.forEach(c=>c()),i.length=0},l=(c,d,h,p)=>(c.addEventListener(d,h,p),()=>c.removeEventListener(d,h,p)),a=ie(()=>[Kt(t),P(o)],([c,d])=>{r(),c&&i.push(...n.flatMap(h=>s.map(p=>l(c,h,p,d))))},{immediate:!0,flush:"post"}),u=()=>{a(),r()};return Rt(u),u}const te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne="__vueuse_ssr_handlers__",Jt=Yt();function Yt(){return ne in te||(te[ne]=te[ne]||{}),te[ne]}function Xt(e,t){return Jt[e]||t}function Zt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var en=Object.defineProperty,Oe=Object.getOwnPropertySymbols,tn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable,Me=(e,t,n)=>t in e?en(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$e=(e,t)=>{for(var n in t||(t={}))tn.call(t,n)&&Me(e,n,t[n]);if(Oe)for(var n of Oe(t))nn.call(t,n)&&Me(e,n,t[n]);return e};const sn={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Ae="vueuse-storage";function Qe(e,t,n,s={}){var o;const{flush:i="pre",deep:r=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:u=!1,shallow:c,window:d=pe,eventFilter:h,onError:p=I=>{console.error(I)}}=s,b=(c?ht:Se)(t);if(!n)try{n=Xt("getDefaultStorage",()=>{var I;return(I=pe)==null?void 0:I.localStorage})()}catch(I){p(I)}if(!n)return b;const w=P(t),m=Zt(w),S=(o=s.serializer)!=null?o:sn[m],{pause:k,resume:$}=Gt(b,()=>E(b.value),{flush:i,deep:r,eventFilter:h});return d&&l&&(ke(d,"storage",A),ke(d,Ae,B)),A(),b;function E(I){try{if(I==null)n.removeItem(e);else{const T=S.write(I),N=n.getItem(e);N!==T&&(n.setItem(e,T),d&&d.dispatchEvent(new CustomEvent(Ae,{detail:{key:e,oldValue:N,newValue:T,storageArea:n}})))}}catch(T){p(T)}}function M(I){const T=I?I.newValue:n.getItem(e);if(T==null)return a&&w!==null&&n.setItem(e,S.write(w)),w;if(!I&&u){const N=S.read(T);return typeof u=="function"?u(N,w):m==="object"&&!Array.isArray(N)?$e($e({},w),N):N}else return typeof T!="string"?T:S.read(T)}function B(I){A(I.detail)}function A(I){if(!(I&&I.storageArea!==n)){if(I&&I.key==null){b.value=w;return}if(!(I&&I.key!==e)){k();try{b.value=M(I)}catch(T){p(T)}finally{I?pt($):$()}}}}}function F(e){return Array.isArray?Array.isArray(e):Ke(e)==="[object Array]"}const on=1/0;function rn(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-on?"-0":t}function an(e){return e==null?"":rn(e)}function j(e){return typeof e=="string"}function Ue(e){return typeof e=="number"}function cn(e){return e===!0||e===!1||ln(e)&&Ke(e)=="[object Boolean]"}function Ge(e){return typeof e=="object"}function ln(e){return Ge(e)&&e!==null}function R(e){return e!=null}function ue(e){return!e.trim().length}function Ke(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const un="Incorrect 'index' type",dn=e=>`Invalid value for key ${e}`,hn=e=>`Pattern length exceeds max of ${e}.`,pn=e=>`Missing ${e} property in key`,fn=e=>`Property 'weight' in key '${e}' must be a positive integer`,Ee=Object.prototype.hasOwnProperty;class mn{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let o=Je(s);n+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Je(e){let t=null,n=null,s=null,o=1,i=null;if(j(e)||F(e))s=e,t=Re(e),n=fe(e);else{if(!Ee.call(e,"name"))throw new Error(pn("name"));const r=e.name;if(s=r,Ee.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(fn(r));t=Re(r),n=fe(r),i=e.getFn}return{path:t,id:n,weight:o,src:s,getFn:i}}function Re(e){return F(e)?e:e.split(".")}function fe(e){return F(e)?e.join("."):e}function _n(e,t){let n=[],s=!1;const o=(i,r,l)=>{if(R(i))if(!r[l])n.push(i);else{let a=r[l];const u=i[a];if(!R(u))return;if(l===r.length-1&&(j(u)||Ue(u)||cn(u)))n.push(an(u));else if(F(u)){s=!0;for(let c=0,d=u.length;c<d;c+=1)o(u[c],r,l+1)}else r.length&&o(u,r,l+1)}};return o(e,j(t)?t.split("."):t,0),s?n:n[0]}const gn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},bn={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},vn={location:0,threshold:.6,distance:100},yn={useExtendedSearch:!1,getFn:_n,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var g={...bn,...gn,...vn,...yn};const wn=/[^ ]+/g;function Sn(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(o){const i=o.match(wn).length;if(n.has(i))return n.get(i);const r=1/Math.pow(i,.5*e),l=parseFloat(Math.round(r*s)/s);return n.set(i,l),l},clear(){n.clear()}}}class Ie{constructor({getFn:t=g.getFn,fieldNormWeight:n=g.fieldNormWeight}={}){this.norm=Sn(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,j(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();j(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!R(t)||ue(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((o,i)=>{let r=o.getFn?o.getFn(t):this.getFn(t,o.path);if(R(r)){if(F(r)){let l=[];const a=[{nestedArrIndex:-1,value:r}];for(;a.length;){const{nestedArrIndex:u,value:c}=a.pop();if(R(c))if(j(c)&&!ue(c)){let d={v:c,i:u,n:this.norm.get(c)};l.push(d)}else F(c)&&c.forEach((d,h)=>{a.push({nestedArrIndex:h,value:d})})}s.$[i]=l}else if(j(r)&&!ue(r)){let l={v:r,n:this.norm.get(r)};s.$[i]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function Ye(e,t,{getFn:n=g.getFn,fieldNormWeight:s=g.fieldNormWeight}={}){const o=new Ie({getFn:n,fieldNormWeight:s});return o.setKeys(e.map(Je)),o.setSources(t),o.create(),o}function In(e,{getFn:t=g.getFn,fieldNormWeight:n=g.fieldNormWeight}={}){const{keys:s,records:o}=e,i=new Ie({getFn:t,fieldNormWeight:n});return i.setKeys(s),i.setIndexRecords(o),i}function se(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:o=g.distance,ignoreLocation:i=g.ignoreLocation}={}){const r=t/e.length;if(i)return r;const l=Math.abs(s-n);return o?r+l/o:l?1:r}function xn(e=[],t=g.minMatchCharLength){let n=[],s=-1,o=-1,i=0;for(let r=e.length;i<r;i+=1){let l=e[i];l&&s===-1?s=i:!l&&s!==-1&&(o=i-1,o-s+1>=t&&n.push([s,o]),s=-1)}return e[i-1]&&i-s>=t&&n.push([s,i-1]),n}const q=32;function Tn(e,t,n,{location:s=g.location,distance:o=g.distance,threshold:i=g.threshold,findAllMatches:r=g.findAllMatches,minMatchCharLength:l=g.minMatchCharLength,includeMatches:a=g.includeMatches,ignoreLocation:u=g.ignoreLocation}={}){if(t.length>q)throw new Error(hn(q));const c=t.length,d=e.length,h=Math.max(0,Math.min(s,d));let p=i,b=h;const w=l>1||a,m=w?Array(d):[];let S;for(;(S=e.indexOf(t,b))>-1;){let A=se(t,{currentLocation:S,expectedLocation:h,distance:o,ignoreLocation:u});if(p=Math.min(A,p),b=S+c,w){let I=0;for(;I<c;)m[S+I]=1,I+=1}}b=-1;let k=[],$=1,E=c+d;const M=1<<c-1;for(let A=0;A<c;A+=1){let I=0,T=E;for(;I<T;)se(t,{errors:A,currentLocation:h+T,expectedLocation:h,distance:o,ignoreLocation:u})<=p?I=T:E=T,T=Math.floor((E-I)/2+I);E=T;let N=Math.max(1,h-T+1),le=r?d:Math.min(h+T,d)+c,H=Array(le+2);H[le+1]=(1<<A)-1;for(let L=le;L>=N;L-=1){let ee=L-1,xe=n[e.charAt(ee)];if(w&&(m[ee]=+!!xe),H[L]=(H[L+1]<<1|1)&xe,A&&(H[L]|=(k[L+1]|k[L])<<1|1|k[L+1]),H[L]&M&&($=se(t,{errors:A,currentLocation:ee,expectedLocation:h,distance:o,ignoreLocation:u}),$<=p)){if(p=$,b=ee,b<=h)break;N=Math.max(1,2*h-b)}}if(se(t,{errors:A+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:u})>p)break;k=H}const B={isMatch:b>=0,score:Math.max(.001,$)};if(w){const A=xn(m,l);A.length?a&&(B.indices=A):B.isMatch=!1}return B}function Cn(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<s-n-1}return t}class Xe{constructor(t,{location:n=g.location,threshold:s=g.threshold,distance:o=g.distance,includeMatches:i=g.includeMatches,findAllMatches:r=g.findAllMatches,minMatchCharLength:l=g.minMatchCharLength,isCaseSensitive:a=g.isCaseSensitive,ignoreLocation:u=g.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:o,includeMatches:i,findAllMatches:r,minMatchCharLength:l,isCaseSensitive:a,ignoreLocation:u},this.pattern=a?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(h,p)=>{this.chunks.push({pattern:h,alphabet:Cn(h),startIndex:p})},d=this.pattern.length;if(d>q){let h=0;const p=d%q,b=d-p;for(;h<b;)c(this.pattern.substr(h,q),h),h+=q;if(p){const w=d-q;c(this.pattern.substr(w),w)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let b={isMatch:!0,score:0};return s&&(b.indices=[[0,t.length-1]]),b}const{location:o,distance:i,threshold:r,findAllMatches:l,minMatchCharLength:a,ignoreLocation:u}=this.options;let c=[],d=0,h=!1;this.chunks.forEach(({pattern:b,alphabet:w,startIndex:m})=>{const{isMatch:S,score:k,indices:$}=Tn(t,b,w,{location:o+m,distance:i,threshold:r,findAllMatches:l,minMatchCharLength:a,includeMatches:s,ignoreLocation:u});S&&(h=!0),d+=k,S&&$&&(c=[...c,...$])});let p={isMatch:h,score:h?d/this.chunks.length:1};return h&&s&&(p.indices=c),p}}class V{constructor(t){this.pattern=t}static isMultiMatch(t){return De(t,this.multiRegex)}static isSingleMatch(t){return De(t,this.singleRegex)}search(){}}function De(e,t){const n=e.match(t);return n?n[1]:null}class kn extends V{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class On extends V{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Mn extends V{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class $n extends V{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class An extends V{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class En extends V{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Ze extends V{constructor(t,{location:n=g.location,threshold:s=g.threshold,distance:o=g.distance,includeMatches:i=g.includeMatches,findAllMatches:r=g.findAllMatches,minMatchCharLength:l=g.minMatchCharLength,isCaseSensitive:a=g.isCaseSensitive,ignoreLocation:u=g.ignoreLocation}={}){super(t),this._bitapSearch=new Xe(t,{location:n,threshold:s,distance:o,includeMatches:i,findAllMatches:r,minMatchCharLength:l,isCaseSensitive:a,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class et extends V{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const o=[],i=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+i,o.push([s,n-1]);const r=!!o.length;return{isMatch:r,score:r?0:1,indices:o}}}const me=[kn,et,Mn,$n,En,An,On,Ze],Le=me.length,Rn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Dn="|";function Ln(e,t={}){return e.split(Dn).map(n=>{let s=n.trim().split(Rn).filter(i=>i&&!!i.trim()),o=[];for(let i=0,r=s.length;i<r;i+=1){const l=s[i];let a=!1,u=-1;for(;!a&&++u<Le;){const c=me[u];let d=c.isMultiMatch(l);d&&(o.push(new c(d,t)),a=!0)}if(!a)for(u=-1;++u<Le;){const c=me[u];let d=c.isSingleMatch(l);if(d){o.push(new c(d,t));break}}}return o})}const Pn=new Set([Ze.type,et.type]);class Nn{constructor(t,{isCaseSensitive:n=g.isCaseSensitive,includeMatches:s=g.includeMatches,minMatchCharLength:o=g.minMatchCharLength,ignoreLocation:i=g.ignoreLocation,findAllMatches:r=g.findAllMatches,location:l=g.location,threshold:a=g.threshold,distance:u=g.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:o,findAllMatches:r,ignoreLocation:i,location:l,threshold:a,distance:u},this.pattern=n?t:t.toLowerCase(),this.query=Ln(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:o}=this.options;t=o?t:t.toLowerCase();let i=0,r=[],l=0;for(let a=0,u=n.length;a<u;a+=1){const c=n[a];r.length=0,i=0;for(let d=0,h=c.length;d<h;d+=1){const p=c[d],{isMatch:b,indices:w,score:m}=p.search(t);if(b){if(i+=1,l+=m,s){const S=p.constructor.type;Pn.has(S)?r=[...r,...w]:r.push(w)}}else{l=0,i=0,r.length=0;break}}if(i){let d={isMatch:!0,score:l/i};return s&&(d.indices=r),d}}return{isMatch:!1,score:1}}}const _e=[];function zn(...e){_e.push(...e)}function ge(e,t){for(let n=0,s=_e.length;n<s;n+=1){let o=_e[n];if(o.condition(e,t))return new o(e,t)}return new Xe(e,t)}const ae={AND:"$and",OR:"$or"},be={PATH:"$path",PATTERN:"$val"},ve=e=>!!(e[ae.AND]||e[ae.OR]),jn=e=>!!e[be.PATH],Fn=e=>!F(e)&&Ge(e)&&!ve(e),Pe=e=>({[ae.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function tt(e,t,{auto:n=!0}={}){const s=o=>{let i=Object.keys(o);const r=jn(o);if(!r&&i.length>1&&!ve(o))return s(Pe(o));if(Fn(o)){const a=r?o[be.PATH]:i[0],u=r?o[be.PATTERN]:o[a];if(!j(u))throw new Error(dn(a));const c={keyId:fe(a),pattern:u};return n&&(c.searcher=ge(u,t)),c}let l={children:[],operator:i[0]};return i.forEach(a=>{const u=o[a];F(u)&&u.forEach(c=>{l.children.push(s(c))})}),l};return ve(e)||(e=Pe(e)),s(e)}function Bn(e,{ignoreFieldNorm:t=g.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:o,norm:i,score:r})=>{const l=o?o.weight:null;s*=Math.pow(r===0&&l?Number.EPSILON:r,(l||1)*(t?1:i))}),n.score=s})}function Vn(e,t){const n=e.matches;t.matches=[],R(n)&&n.forEach(s=>{if(!R(s.indices)||!s.indices.length)return;const{indices:o,value:i}=s;let r={indices:o,value:i};s.key&&(r.key=s.key.src),s.idx>-1&&(r.refIndex=s.idx),t.matches.push(r)})}function qn(e,t){t.score=e.score}function Wn(e,t,{includeMatches:n=g.includeMatches,includeScore:s=g.includeScore}={}){const o=[];return n&&o.push(Vn),s&&o.push(qn),e.map(i=>{const{idx:r}=i,l={item:t[r],refIndex:r};return o.length&&o.forEach(a=>{a(i,l)}),l})}class G{constructor(t,n={},s){this.options={...g,...n},this.options.useExtendedSearch,this._keyStore=new mn(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Ie))throw new Error(un);this._myIndex=n||Ye(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){R(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,o=this._docs.length;s<o;s+=1){const i=this._docs[s];t(i,s)&&(this.removeAt(s),s-=1,o-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:o,shouldSort:i,sortFn:r,ignoreFieldNorm:l}=this.options;let a=j(t)?j(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Bn(a,{ignoreFieldNorm:l}),i&&a.sort(r),Ue(n)&&n>-1&&(a=a.slice(0,n)),Wn(a,this._docs,{includeMatches:s,includeScore:o})}_searchStringList(t){const n=ge(t,this.options),{records:s}=this._myIndex,o=[];return s.forEach(({v:i,i:r,n:l})=>{if(!R(i))return;const{isMatch:a,score:u,indices:c}=n.searchIn(i);a&&o.push({item:i,idx:r,matches:[{score:u,value:i,norm:l,indices:c}]})}),o}_searchLogical(t){const n=tt(t,this.options),s=(l,a,u)=>{if(!l.children){const{keyId:d,searcher:h}=l,p=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(a,d),searcher:h});return p&&p.length?[{idx:u,item:a,matches:p}]:[]}const c=[];for(let d=0,h=l.children.length;d<h;d+=1){const p=l.children[d],b=s(p,a,u);if(b.length)c.push(...b);else if(l.operator===ae.AND)return[]}return c},o=this._myIndex.records,i={},r=[];return o.forEach(({$:l,i:a})=>{if(R(l)){let u=s(n,l,a);u.length&&(i[a]||(i[a]={idx:a,item:l,matches:[]},r.push(i[a])),u.forEach(({matches:c})=>{i[a].matches.push(...c)}))}}),r}_searchObjectList(t){const n=ge(t,this.options),{keys:s,records:o}=this._myIndex,i=[];return o.forEach(({$:r,i:l})=>{if(!R(r))return;let a=[];s.forEach((u,c)=>{a.push(...this._findMatches({key:u,value:r[c],searcher:n}))}),a.length&&i.push({idx:l,item:r,matches:a})}),i}_findMatches({key:t,value:n,searcher:s}){if(!R(n))return[];let o=[];if(F(n))n.forEach(({v:i,i:r,n:l})=>{if(!R(i))return;const{isMatch:a,score:u,indices:c}=s.searchIn(i);a&&o.push({score:u,key:t,value:i,idx:r,norm:l,indices:c})});else{const{v:i,n:r}=n,{isMatch:l,score:a,indices:u}=s.searchIn(i);l&&o.push({score:a,key:t,value:i,norm:r,indices:u})}return o}}G.version="6.6.2";G.createIndex=Ye;G.parseIndex=In;G.config=g;G.parseQuery=tt;zn(Nn);function Hn(e,t,n){const s=()=>{var r,l;return new G((r=P(t))!=null?r:[],(l=P(n))==null?void 0:l.fuseOptions)},o=Se(s());ie(()=>{var r;return(r=P(n))==null?void 0:r.fuseOptions},()=>{o.value=s()},{deep:!0}),ie(()=>P(t),r=>{o.value.setCollection(r)},{deep:!0});const i=ft(()=>{const r=P(n);if(r!=null&&r.matchAllWhenSearchEmpty&&!P(e))return P(t).map((a,u)=>({item:a,refIndex:u}));const l=r==null?void 0:r.resultLimit;return o.value.search(P(e),l?{limit:l}:void 0)});return{fuse:o,results:i}}const nt="icarusCalculator",Qn=Object.freeze({Basic_Oxite_Dissolver:!0,Charcoal:!0}),X=Object.freeze({Bauxite:"Aluminum Ore",Copper_Ore:"Copper Ore",Iron_Ore:"Iron Ore",Gold_Ore:"Gold Ore",Metal_Ore:"Iron Ore",Coal_Ore:"Coal Ore",Platinum_Ore:"Platinum Ore",Titanium_Ore:"Titanium Ore",Stick_Talent:"Stick (Talent)",Talent_Leather_Rope:"Rope (Leather, Talent)",Rope_Armor_Bench:"Rope (Armor Bench)",Epoxy_2:"Epoxy (Crushed Bone)",Raw_Meat:"Raw Meat",Composite_Paste:"Composite Paste (Gold)",Composite_Paste_Plat:"Composite Paste (Platinum)",Steel_Bloom:"Steel Bloom (Ore)",Steel_Bloom2:"Steel Bloom (Ingot)",Spoiled_Meat:"Spoiled Meat",Spoiled_Plants:"Spoiled Plants",Biofuel1:"Biofuel (Raw Meat)",Biofuel2:"Biofuel (Fiber)",Biofuel3:"Biofuel (Stick)",Biofuel4:"Biofuel (Wood)",Biofuel5:"Biofuel (Cooked Meat)",Ammo_Pistol_Round:"Pistol Round",Ammo_Rifle_Round:"Rifle Round",Ammo_Shell_Buckshot:"Shotgun Buckshot Shell",Bulk_Rifle_Round:"Rifle Round (Bulk, Talent)",Bulk_Pistol_Round:"Pistol Round (Bulk, Talent)",Shotgun_Shell_Buckshot:"Shotgun Buckshot Shell",Bulk_Shotgun_Shell_Buckshot:"Shotgun Buckshot Shell (Bulk, Talent)"}),Un=e=>e.replace(/_/g," "),Gn=(e,{displayName:t}={})=>{const n=X[e];return n||(t??Un(e))},de=Object.freeze({}),Kn=(e="")=>{const n=e.replace(/\"/g,"").match(/NSLOCTEXT\((.*), (.*), (.*)\)/);return n==null?void 0:n[3]},Jn=(e="")=>e.replace("/Game/Assets/2DArt/UI/Items/Item_Icons/","");function Yn(e=[]){const t={};return e.forEach(n=>{var o;const s=n.Name;t[s]||(t[s]={id:s,itemStaticId:(o=n.ItemStaticData)==null?void 0:o.RowName})}),t}function Xn(e=[]){const t={};return e.forEach(n=>{var o;const s=n.Name;t[s]||(t[s]={id:s,itemTableId:(o=n.Itemable)==null?void 0:o.RowName})}),t}function Zn(e=[]){const t={};return e.forEach(n=>{const s=n.Name;t[s]||(t[s]={id:s,displayName:Kn(n.DisplayName),icon:Jn(n.Icon)})}),t}function es(e=[],{itemTemplateData:t={},itemStaticData:n={},itemTableData:s={}}={}){const o={};e.forEach(r=>{o[r.name]=r});const i={};return e.forEach(r=>{var m,S,k,$,E;const a=r.Name;if(Qn[a])return;const u=a,c=()=>{var B;const M=(B=r.Outputs[0])==null?void 0:B.Element.RowName;return r.Outputs.length===1&&M&&(M!=null&&M.includes(u)||r.Requirement||!o[M])?M:null},d=(m=r.Inputs[0])==null?void 0:m.Element.RowName,h=t[u]??t[(S=r.Requirement)==null?void 0:S.RowName]??t[c()],p=n[h==null?void 0:h.itemStaticId]??n[d],b=((k=r.ResourceOutputs)==null?void 0:k.length)>0?"":($=s[p==null?void 0:p.itemTableId])==null?void 0:$.icon,w=b.length>100?b.split("/")[0]+"/"+b.split(".")[1]:"";i[a]={id:a,label:Gn(a,{displayName:(E=s[p==null?void 0:p.itemTableId])==null?void 0:E.displayName}),iconPath:b.length>100?w:b,inputs:[],sources:[],preferredSource:null,outputQuantity:1},(r.Inputs||[]).forEach(M=>{i[a].inputs.push({id:M.Element.RowName,quantity:M.Count})}),(r.RecipeSets||[]).forEach(M=>{i[a].sources.push(M.RowName)}),i[a].preferredSource=i[a].sources[0],(r.Outputs||[]).forEach(M=>{(a===M.Element.RowName||a.includes(M.Element.RowName))&&(i[a].outputQuantity=M.Count)})}),ts(i)}function ts(e={}){return Object.keys(e).forEach(t=>{var s;const n=e[t];(s=de[t])==null||s.call(de,n,t,e)}),e}const ns=()=>Date.now(),st=()=>mt({id:ns(),title:"Planning",items:[]}),Ne=(e,t)=>t.findIndex(n=>n.id===e),ot=st(),it=Qe(`${nt}/tabs`,[ot]),ss=it.value[0].id??ot.id,D=rt("icarus",{state:()=>({activeTabId:ss,tabs:it,settings:Qe(`${nt}/settings`,{includeSubComponents:!1,includeStationComponents:!1,searchFuzzyMatch:!1},localStorage,{mergeDefaults:!0}),itemTemplateData:{},itemStaticData:{},itemTableData:{},recipeData:{},recipeOptions:[],isLoadingRecipes:!1,recipeSearch:""}),getters:{activeTab:e=>e.tabs.find(t=>t.id===e.activeTabId),tabCount(){return this.tabs.length},includeSubComponents(e){return e.settings.includeSubComponents},includeStationComponents(e){return e.settings.includeStationComponents},sortedRecipeOptions(e){return e.recipeOptions.sort((t,n)=>t.label.localeCompare(n.label))},filteredRecipeOptions(e){if(e.recipeSearch){const t={fuseOptions:{keys:["label"],isCaseSensitive:!1,location:0,threshold:e.settings.searchFuzzyMatch?void 0:0,distance:100,includeScore:!0,includeMatches:!0},resultLimit:void 0,matchAllWhenSearchEmpty:!0},{results:n}=Hn(e.recipeSearch,this.sortedRecipeOptions,t);return console.log({results:n.value}),n.value.map(s=>s.item)}return this.sortedRecipeOptions}},actions:{addTab(){const e=st();return this.tabs.push(e),e},removeTab(e){const t=Ne(e,this.tabs);if(t!==-1)this.tabs.splice(t,1);else{console.error(`Could not find tab with id ${e}`,this.tabs);return}const n=Math.min(t,this.tabs.length-1),s=this.tabs[n];this.activeTabId=s.id},setActiveTab(e){this.activeTabId=e},setTabTitle(e,t){const n=Ne(e,this.tabs);n!==-1&&(this.tabs[n].title=t)},addItem(e,t=1){const n=this.activeTab;if(n){const s=n.items.find(i=>i.id===e),o=this.recipeData[e].outputQuantity??1;s?s.quantity+=o:n.items.push({id:e,quantity:o})}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},removeItem(e){const t=this.activeTab;if(t){const n=t.items.findIndex(s=>s.id===e);t.items.splice(n,1)}else console.error(`Could not find tab with id ${this.activeTabId}`,this.tabs)},setIncludeSubComponents(e){this.settings.includeSubComponents=e},setIncludeStationComponents(e){this.settings.includeStationComponents=e},async loadRecipeData(){const e=new Date().getTime();this.isLoadingRecipes=!0;const n=await(await fetch(`/icarus-game/Data/D_ItemTemplate.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),o=await(await fetch(`/icarus-game/Data/D_ItemsStatic.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),r=await(await fetch(`/icarus-game/Data/D_Itemable.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),a=await(await fetch(`/icarus-game/Data/D_ProcessorRecipes.json?v=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),u=performance.now(),c=Yn(n.Rows);this.itemTemplateData=c;const d=Xn(o.Rows);this.itemStaticData=d;const h=Zn(r.Rows);this.itemTableData=h;const p=es(a==null?void 0:a.Rows,{itemTemplateData:c,itemStaticData:d,itemTableData:h});this.recipeData=p,this.recipeOptions=Object.values(p),this.isLoadingRecipes=!1,console.log({itemTemplateData:c,itemStaticData:d,itemTableData:h,recipeData:p}),console.log(`Processed data in ${performance.now()-u}ms`)}}});const os=D(),is={name:"CraftingToolItemSelector",components:{Plus:Tt},props:{},data(){return{searchValue:null}},computed:{...Z(D,["recipeData","isLoadingRecipes","filteredRecipeOptions","settings"])},methods:{...we(D,["addItem"]),onSearch:Ve.debounce(e=>{os.recipeSearch=e},250)}},rs={class:"mb-3 flex align-items-center"},as={class:"flex-shrink-0 ml-3"},cs={key:0,class:"p-3 font-italic"},ls=["onClick"],us={class:"relative flex align-items-center"},ds={key:0,class:"item-counter"},hs={class:"flex-shrink",style:{"min-width":"0"}},ps=["item-id"];function fs(e,t,n,s,o,i){const r=v("n-input"),l=v("n-checkbox"),a=v("n-tooltip"),u=v("n-image"),c=v("Plus"),d=v("n-icon"),h=v("n-button"),p=v("RecycleScroller"),b=v("n-card"),w=v("n-spin");return x(),C("div",null,[f("div",rs,[_(r,{type:"text",value:o.searchValue,"onUpdate:value":t[0]||(t[0]=m=>o.searchValue=m),placeholder:"Search...",clearable:"",onInput:i.onSearch},null,8,["value","onInput"]),f("div",as,[_(a,{trigger:"hover",placement:"right"},{trigger:y(()=>[_(l,{checked:e.settings.searchFuzzyMatch,"onUpdate:checked":t[1]||(t[1]=m=>e.settings.searchFuzzyMatch=m)},{default:y(()=>[O("Fuzzy search")]),_:1},8,["checked"])]),default:y(()=>[O(" Allows partial text matches, sorted by match quality ")]),_:1})])]),_(w,{show:e.isLoadingRecipes},{default:y(()=>[_(b,{class:"scroll-wrap","content-style":"padding: 0;"},{default:y(()=>[e.filteredRecipeOptions.length===0?(x(),C("div",cs,"No matching items found.")):W("",!0),_(p,{class:"scroller",items:e.filteredRecipeOptions,"item-size":40,"key-field":"id"},{default:y(({index:m,item:S})=>{var k;return[f("div",{class:"recipe-item flex align-items-center",onClick:$=>e.addItem(S.id)},[f("div",us,[_(u,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${S.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!0},{default:y(()=>[O(" test ")]),_:2},1032,["src"]),((k=e.recipeData[S.id])==null?void 0:k.outputQuantity)>1?(x(),C("div",ds,"x"+z(e.recipeData[S.id].outputQuantity),1)):W("",!0)]),f("div",hs,[f("div",{class:"label text-overflow-ellipsis","item-id":S.id},z(S.label),9,ps)]),_(a,{trigger:"hover"},{trigger:y(()=>[_(h,{class:"hover-button ml-auto",secondary:"",type:"default",size:"small"},{default:y(()=>[_(d,{size:"13"},{default:y(()=>[_(c)]),_:1})]),_:1})]),default:y(()=>[O(" Add to list ")]),_:1})],8,ls)]}),_:1},8,["items"])]),_:1})]),_:1},8,["show"])])}const ms=U(is,[["render",fs],["__scopeId","data-v-b2d16390"]]);const _s={name:"CraftingToolManageTab",components:{Times:Be},props:{tab:{type:Object,required:!0}},emits:["onTitleChanged","removeTab"],data(){return{}},computed:{...Z(D,["tabs","tabCount"])},methods:{onTitleChanged(){this.$emit("updateTab",{tabId:this.tab.id,title:this.tab.title})},removeTab(){this.$emit("removeTab",{tabId:this.tab.id})}}},gs=e=>(je("data-v-cc2fa8c1"),e=e(),Fe(),e),bs={class:"manage-tab flex align-items-center"},vs={class:"flex-grow-1 flex align-items-center"},ys={class:"flex align-items-center"},ws=gs(()=>f("span",{class:"flex-shrink-0 mr-3"},"List Name:",-1));function Ss(e,t,n,s,o,i){const r=v("n-input"),l=v("Times"),a=v("n-icon"),u=v("n-button"),c=v("n-tooltip");return x(),C("div",bs,[f("div",vs,[f("div",ys,[ws,_(r,{type:"text",value:n.tab.title,"onUpdate:value":[t[0]||(t[0]=d=>n.tab.title=d),i.onTitleChanged],valueModifiers:{lazy:!0},placeholder:"Name"},null,8,["value","onUpdate:value"])])]),e.tabCount>1?(x(),Q(c,{key:0,trigger:"hover"},{trigger:y(()=>[_(u,{class:"",secondary:"",type:"error",onClick:i.removeTab},{default:y(()=>[_(a,{size:"20"},{default:y(()=>[_(l)]),_:1})]),_:1},8,["onClick"])]),default:y(()=>[O(" Delete Tab ")]),_:1})):W("",!0)])}const Is=U(_s,[["render",Ss],["__scopeId","data-v-cc2fa8c1"]]);const xs={name:"CraftingToolComponentSourcePicker",components:{},props:{componentId:{type:String,required:!0}},data(){return{itemLabelMap:X}},computed:{...Z(D,["recipeData"])},methods:{setComponentPreferredSource(e,t){this.recipeData[e].preferredSource=t,this.$emit("change")}}};function Ts(e,t,n,s,o,i){const r=v("n-button"),l=v("n-button-group");return e.recipeData[n.componentId]?(x(),Q(l,{key:0,size:"small"},{default:y(()=>[(x(!0),C(J,null,Y(e.recipeData[n.componentId].sources,(a,u)=>(x(),Q(r,{key:a,class:"mx-1",size:"tiny",ghost:"",type:"info",style:_t([e.recipeData[n.componentId].preferredSource===a?null:"--n-border: 1px solid rgba(255, 255, 255, 0.2); --n-text-color: #bbb"]),onClick:c=>i.setComponentPreferredSource(n.componentId,a)},{default:y(()=>{var c;return[f("span",null,z(((c=e.recipeData[a])==null?void 0:c.label)??o.itemLabelMap[a]??a),1)]}),_:2},1032,["style","onClick"]))),128))]),_:1})):W("",!0)}const Cs=U(xs,[["render",Ts]]);const ks={name:"CraftingToolCalculator",components:{ComponentSourcePicker:Cs,SortAlphaDown:Mt,Times:Be},props:{tab:{type:Object,required:!0}},data(){return{itemLabelMap:X,requiredItemData:{},requiredCraftingStations:[],requiredComponents:[]}},watch:{includeSubComponents(e){e||this.setIncludeStationComponents(!1),this.triggerCalc()},includeStationComponents(e){e&&this.setIncludeSubComponents(!0),this.triggerCalc()}},computed:{...Z(D,["recipeData","itemTableData","isLoadingRecipes","settings"]),...at(D,["includeSubComponents","includeStationComponents"])},methods:{...we(D,["setIncludeSubComponents","setIncludeStationComponents"]),sortInputs(){this.tab.items.sort((e,t)=>{const n=this.recipeData[e.id].label,s=this.recipeData[t.id].label;return n.localeCompare(s)})},onQuantityChange(e){e.quantity<1?this.$nextTick(()=>{this.removeItem(e),this.triggerCalc()}):this.$nextTick(()=>{this.triggerCalc()})},validateQuantity(e){return Number.isInteger(e)},removeItem(e){const t=(this.tab.items||[]).findIndex(n=>n.id===e.id);t>-1&&this.tab.items.splice(t,1)},triggerCalc:Ve.debounce(function(){this.calculateRequiredItems()},100),calculateRequiredItems(){const e=this.tab.items||[],t=this.recipeData,n=this.includeSubComponents,s=this.includeStationComponents,o={},i=new Set([]);function r(c=[],d={}){return c.forEach(h=>{const p=t[h.id];if(!p)return;const b=(h.quantity??1)/p.outputQuantity;(p.inputs||[]).forEach(w=>{const m=d[w.id]??0;d[w.id]=m+w.quantity*b;const S=t[w.id];n&&S&&r([{id:w.id,quantity:w.quantity*b}],d)})}),d}function l(){const c=d=>{const h=t[d];h!=null&&h.preferredSource&&i.add(h.preferredSource)};e.map(d=>d.id).forEach(c),Object.keys(o).forEach(c)}r(e,o),l(),s&&(r([...i].map(c=>({id:c})),o),l());const u=Object.keys(o).map(c=>{const d=Math.ceil(o[c]);return{id:c,quantity:d}}).sort((c,d)=>d.quantity-c.quantity);this.requiredCraftingStations=[...i].sort((c,d)=>{var b,w;const h=((b=t[c])==null?void 0:b.label)??X[c]??c,p=((w=t[d])==null?void 0:w.label)??X[d]??d;return h.localeCompare(p)}),this.requiredItemData=o,this.requiredComponents=u}}},K=e=>(je("data-v-5b30f628"),e=e(),Fe(),e),Os={key:0},Ms={class:"flex align-items-center"},$s=K(()=>f("h3",null,"Items",-1)),As={class:"relative flex align-items-center"},Es={key:0,class:"item-counter"},Rs={class:"flex-shrink label-wrap"},Ds={class:"label text-overflow-ellipsis"},Ls=K(()=>f("div",{class:"flex align-items-center mt-3"},[f("h3",null,"Components")],-1)),Ps={class:"p-1"},Ns={class:"flex align-items-center mb-1"},zs=K(()=>f("span",null,"Include sub-components",-1)),js={class:"flex align-items-center mb-3 ml-3"},Fs=K(()=>f("span",null,"Include station components",-1)),Bs={class:"label"},Vs=K(()=>f("div",{class:"flex align-items-center"},[f("h3",null,"Crafting Stations")],-1)),qs={class:""},Ws={class:"recipe-item pl-0 flex align-items-center"},Hs={class:"flex align-items-center"},Qs={class:"label"},Us={key:1,class:"mb-3"},Gs=K(()=>f("h3",null,"No Items",-1));function Ks(e,t,n,s,o,i){const r=v("SortAlphaDown"),l=v("n-icon"),a=v("n-button"),u=v("n-tooltip"),c=v("n-input-number"),d=v("n-image"),h=v("component-source-picker"),p=v("Times"),b=v("n-switch"),w=v("n-text");return x(),C("div",null,[!e.isLoadingRecipes&&n.tab.items.length>0?(x(),C("div",Os,[f("div",Ms,[$s,_(u,{trigger:"hover"},{trigger:y(()=>[_(a,{class:"ml-3",size:"tiny",secondary:"",circle:"",type:"default",onClick:i.sortInputs},{default:y(()=>[_(l,{size:"13"},{default:y(()=>[_(r)]),_:1})]),_:1},8,["onClick"])]),default:y(()=>[O(" Sort items alphabetically ")]),_:1})]),_(gt,{"x-appear":"",name:"list",tag:"div"},{default:y(()=>[(x(!0),C(J,null,Y(n.tab.items,m=>{var S,k,$;return x(),C("div",{class:"recipe-item flex align-items-center",key:m.id},[_(c,{class:"input-quantity flex-shrink-0",value:m.quantity,"onUpdate:value":E=>m.quantity=E,placeholder:"Quantity",min:0,max:1e5,step:((S=e.recipeData[m.id])==null?void 0:S.outputQuantity)??1,validator:i.validateQuantity,"on-update-value":i.onQuantityChange(m)},null,8,["value","onUpdate:value","step","validator","on-update-value"]),f("div",As,[_(d,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${(k=e.recipeData[m.id])==null?void 0:k.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!0},null,8,["src"]),(($=e.recipeData[m.id])==null?void 0:$.outputQuantity)>1?(x(),C("div",Es,"x"+z(e.recipeData[m.id].outputQuantity),1)):W("",!0)]),f("div",Rs,[f("div",Ds,z(e.recipeData[m.id].label),1)]),_(h,{"component-id":m.id,onChange:t[0]||(t[0]=E=>i.triggerCalc())},null,8,["component-id"]),_(u,{trigger:"hover"},{trigger:y(()=>[_(a,{class:"hover-button ml-auto",secondary:"",type:"error",size:"small",onClick:E=>i.removeItem(m)},{default:y(()=>[_(l,{size:"13"},{default:y(()=>[_(p)]),_:1})]),_:2},1032,["onClick"])]),default:y(()=>[O(" Remove from list ")]),_:2},1024)])}),128))]),_:1}),Ls,f("div",Ps,[f("div",Ns,[_(b,{class:"mr-2",value:e.settings.includeSubComponents,"onUpdate:value":t[1]||(t[1]=m=>e.settings.includeSubComponents=m),size:"small"},null,8,["value"]),zs]),f("div",js,[_(b,{class:"mr-2",value:e.settings.includeStationComponents,"onUpdate:value":t[2]||(t[2]=m=>e.settings.includeStationComponents=m),size:"small"},null,8,["value"]),Fs]),f("div",null,[(x(!0),C(J,null,Y(o.requiredComponents,m=>{var S;return x(),C("div",{key:m.id,class:"component-row flex align-items-center"},[f("div",Bs,z(m.quantity)+" "+z(((S=e.recipeData[m.id])==null?void 0:S.label)??o.itemLabelMap[m.id]??m.id),1),_(h,{"component-id":m.id,onChange:t[3]||(t[3]=k=>i.triggerCalc())},null,8,["component-id"])])}),128))])]),Vs,f("div",qs,[(x(!0),C(J,null,Y(o.requiredCraftingStations,m=>{var S,k;return x(),C("div",Ws,[f("div",Hs,[_(d,{class:"icon",width:"32",src:`/icarus-game/ItemIcons/${(S=e.recipeData[m])==null?void 0:S.iconPath}.png`,"fallback-src":"/icarus-game/Images/question-mark.png","preview-disabled":!1},null,8,["src"]),f("div",Qs,z(((k=e.recipeData[m])==null?void 0:k.label)??o.itemLabelMap[m]??m),1)])])}),256))])])):(x(),C("div",Us,[Gs,_(w,{type:"info"},{default:y(()=>[O("You haven't added any items to this list yet.")]),_:1})]))])}const Js=U(ks,[["render",Ks],["__scopeId","data-v-5b30f628"]]),oe=D(),Ys={name:"CraftingToolTabView",components:{ManageTab:Is,CraftingCalculator:Js},props:[],data(){return{activeTabId:oe.activeTabId,maxTabCount:20,addable:!0,closable:!0}},watch:{activeTabId:function(e){this.setActiveTab(e)}},computed:{...Z(D,["tabs","tabCount","activeTab","isLoadingRecipes"])},methods:{...we(D,["setActiveTab"]),handleAdd(){},handleClose(){},addTab(){const e=oe.addTab();this.setActiveTab(e.id),this.syncSelectedTab()},removeTab({tabId:e}={}){oe.removeTab(e),this.syncSelectedTab()},syncSelectedTab(){this.activeTabId=oe.activeTabId,this.syncTabBarPosition()},syncTabBarPosition(){this.$nextTick(()=>{var e;(e=this.$refs.tabsInstRef)==null||e.syncBarPosition()})}}},Xs={class:"flex align-items-center mb-3"},Zs={class:"flex align-items-center ml-auto"},eo={class:"mr-3"},to=f("span",null,"Add Tab",-1);function no(e,t,n,s,o,i){const r=v("n-button"),l=v("manage-tab"),a=v("crafting-calculator"),u=v("n-tab-pane"),c=v("n-tabs"),d=v("n-card"),h=v("n-spin");return x(),C("div",null,[f("div",Xs,[f("div",Zs,[f("div",eo,z(e.tabCount)+" / "+z(o.maxTabCount),1),_(r,{class:"",strong:"",secondary:"",type:"primary",onClick:i.addTab,disabled:e.tabCount===o.maxTabCount},{default:y(()=>[to]),_:1},8,["onClick","disabled"])])]),_(h,{show:e.isLoadingRecipes},{default:y(()=>[_(d,{class:"overflow-hidden"},{default:y(()=>[_(c,{ref:"tabsInstRef",value:o.activeTabId,"onUpdate:value":t[0]||(t[0]=p=>o.activeTabId=p),type:"bar",addable:o.addable,closable:o.closable,"tab-style":""},{default:y(()=>[(x(!0),C(J,null,Y(e.tabs,p=>(x(),Q(u,{tab:p.title,name:p.id,key:p.id},{default:y(()=>[_(l,{tab:p,onUpdateTab:i.syncTabBarPosition,onRemoveTab:i.removeTab},null,8,["tab","onUpdateTab","onRemoveTab"]),_(a,{tab:p},null,8,["tab"])]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value","addable","closable"])]),_:1})]),_:1},8,["show"])])}const so=U(Ys,[["render",no]]);const oo=D();oo.loadRecipeData();const ye=Object.freeze({welcome:1,whatsNew:20230421}),ze=e=>{const t=localStorage.getItem(`alert:version:${e}`);return!t||Number(t)<ye[e]},io={name:"Icarus",components:{Hammer:wt,ItemSearchView:ms,TabsView:so},props:[],data(){return{showWelcomeAlert:ze("welcome"),showWhatsNewAlert:ze("whatsNew")}},computed:{},methods:{dismissAlert(e){e&&ye[e]&&localStorage.setItem(`alert:version:${e}`,ye[e])}}},ro={class:"icarus-wrap p-2 pt-3"},ao=f("ul",{class:"mb-0 list-none"},[f("li",null,[O(" Support for "),f("a",{class:"text-primary font-bold",href:"https://store.steampowered.com/news/app/1149460/view/5358762517222665918",target:"_blank"}," Icarus Week 72 Update ")]),f("li",null,[O(" 🔄 All your Tabs and Toggle options now persist between sessions. Data saves to "),f("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",target:"_blank",class:"text-primary"},"localStorage"),O(". ")]),f("li",null,"🔍 Fuzzy search added to Item Search list. It should be a little easier to find items."),f("li",null,[O('🔨 "Stack" count displays on icons for Items which are crafted in bulk ('),f("em",null,"e.g. x100 Steel Screw"),O(")")])],-1),co={class:"flex flex-wrap"},lo={class:"m-2 text-200 flex align-items-center"},uo={class:"game-version"},ho=f("ul",null,[f("li",{class:"line-through"},"Save tab data in localStorage to support session restoration"),f("li",{class:"line-through"},"Show stack size on icons that normally produce more than 1 item"),f("li",{class:"line-through"},"Improve item search matching (fuzzy search)"),f("li",null,'Add way to "check" off items (mark as done)'),f("li",null,"Implement talent options logic to impact component output calculation"),f("li",null,"Indicate which items belong to each Tier (not specified in game data export directly)")],-1),po=f("div",{class:"m-2"},[f("div",null,[O("Created by "),f("a",{class:"text-primary font-bold",href:"https://github.com/Drumstix42/drumstix42.github.io"},"Drumstix42")]),f("div",null,[O(" This page/site is not affiliated with "),f("a",{class:"text-primary",href:"https://store.steampowered.com/app/1149460/ICARUS/",target:"_blank"},"Icarus"),O(", "),f("a",{class:"text-primary",href:"https://rocketwerkz.com/",target:"_blank"},"RocketWerkz"),O(", or any of its subsidiaries. ")])],-1);function fo(e,t,n,s,o,i){const r=v("n-alert"),l=v("item-search-view"),a=v("n-text"),u=v("n-input"),c=v("tabs-view"),d=v("Hammer"),h=v("n-icon");return x(),C("div",ro,[o.showWelcomeAlert?(x(),Q(r,{key:0,class:"m-2 mb-3",title:"Crafting Calculator",type:"info",closable:"",onAfterLeave:t[0]||(t[0]=p=>i.dismissAlert("welcome"))},{default:y(()=>[O(" Search and add items from the list below to add them to your to-do list, which will calculate your item requirements. ")]),_:1})):W("",!0),o.showWhatsNewAlert?(x(),Q(r,{key:1,class:"m-2 mb-3",title:"What's New?",type:"success",closable:"",onAfterLeave:t[1]||(t[1]=p=>i.dismissAlert("whatsNew"))},{default:y(()=>[ao]),_:1})):W("",!0),f("div",co,[f("div",null,[_(l,{class:"item-selector"}),f("div",lo,[_(a,{depth:"3",class:"flex-shrink-0"},{default:y(()=>[O("Supports game version")]),_:1}),f("div",uo,[_(u,{value:"v1.2.47.109887",readonly:""},null,8,["value"])]),_(a,{depth:"3"},{default:y(()=>[O("2023/04/21")]),_:1})])]),_(c,{class:"tab-view flex-1"})]),_(r,{class:"m-2 mt-3 mb-4",title:"Developer Todo List",type:"default",closable:""},{icon:y(()=>[_(h,{size:"20"},{default:y(()=>[_(d)]),_:1})]),default:y(()=>[ho]),_:1}),po])}const bo=U(io,[["render",fo]]);export{bo as default};
